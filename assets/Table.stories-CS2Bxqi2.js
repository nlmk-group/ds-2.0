import{j as d}from"./jsx-runtime-BRNY0I4F.js";import{b3 as se,b4 as oe,b5 as z,b6 as ne,b7 as ie,b8 as K,aN as hr,b9 as m,a3 as Je,ba as qr,bb as de,aj as ye,P as Wr,bc as Kr,bd as Xr,B as et,af as Yr,aw as Zr,ax as Qr}from"./TreeList-DPzHLkJK.js";import"./generateUUID-4L6n6RLA.js";import"./index-C8k_JyfR.js";import"./index-DppSdhCO.js";import{B as pt}from"./index-ExEzblsB.js";import"./index-CH_Nznxf.js";import{T as be}from"./index-qC5wYQgy.js";import{I as Jr}from"./index-DLbY_Jxu.js";import"./index-cR4M_wwG.js";import"./index-FnAFVao7.js";import"./index-DxaWDDI2.js";import"./index-DokmLR-l.js";import{r as v,e as pr,g as es}from"./index-Bnop-kX6.js";import{m as ts,u as ns,w as rs,n as ss,o as os,v as is,p as as,q as ls,r as us,s as cs,lM as ds,j as gs}from"./32-bzYAI2s2.js";import{r as fs}from"./index-D0sJu8id.js";import{c as Re}from"./clsx-B-dksMZM.js";import"./types-CpBSVUgC.js";import"./tiny-invariant-CopsF_GD.js";import"./index-B5g4YLzC.js";const hs=[{value:"contains",label:"Содержит",icon:d.jsx(ts,{htmlColor:"var(--brand-sapphire-60)"})},{value:"not_contains",label:"Не содержит",icon:d.jsx(ns,{htmlColor:"var(--brand-sapphire-60)"})},{value:"starts_with",label:"Начинается с...",icon:d.jsx(rs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"ends_with",label:"Заканчивается на...",icon:d.jsx(ss,{htmlColor:"var(--brand-sapphire-60)"})},{value:"equals",label:"Равно",icon:d.jsx(os,{htmlColor:"var(--brand-sapphire-60)"}),disabled:!0},{value:"not_equals",label:"Не равно",icon:d.jsx(is,{htmlColor:"var(--brand-sapphire-60)"})},{value:"greater",label:"Больше",icon:d.jsx(as,{htmlColor:"var(--brand-sapphire-60)"}),disabled:!0},{value:"greater_or_equal",label:"Больше или равно",icon:d.jsx(ls,{htmlColor:"var(--brand-sapphire-60)"})},{value:"less",label:"Меньше",icon:d.jsx(us,{htmlColor:"var(--brand-sapphire-60)"})},{value:"less_or_equal",label:"Меньше или равно",icon:d.jsx(cs,{htmlColor:"var(--brand-sapphire-60)"})}],ps={contains:(e,t,n)=>String(e.getValue(t)).toLowerCase().includes(String(n.value).toLowerCase()),not_contains:(e,t,n)=>!String(e.getValue(t)).toLowerCase().includes(String(n.value).toLowerCase()),starts_with:(e,t,n)=>String(e.getValue(t)).toLowerCase().startsWith(String(n.value).toLowerCase()),ends_with:(e,t,n)=>String(e.getValue(t)).toLowerCase().endsWith(String(n.value).toLowerCase()),equals:(e,t,n)=>{if(t==="lastUpdate"){const r=new Date(e.getValue(t)),s=new Date(n.value);return r.toDateString()===s.toDateString()}return e.getValue(t)===n.value},not_equals:(e,t,n)=>{if(t==="lastUpdate"){const o=new Date(e.getValue(t)),i=new Date(n.value);return o.toDateString()!==i.toDateString()}const r=String(e.getValue(t)).toLowerCase(),s=String(n.value).toLowerCase();return r!==s},greater:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s>o}return Number(e.getValue(t))>Number(n.value)},greater_or_equal:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s>=o}return Number(e.getValue(t))>=Number(n.value)},less:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s<o}return Number(e.getValue(t))<Number(n.value)},less_or_equal:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s<=o}return Number(e.getValue(t))<=Number(n.value)}},Ce=(e,t,n,r)=>{if(!n)return!0;const{type:s,value:o}=n;return o?ps[s](e,t,{type:s,value:o},r):!0};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qe(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ee(e,t){return typeof e=="function"?e(t):e}function ue(e,t){return n=>{t.setState(r=>({...r,[e]:Ee(n,r[e])}))}}function lt(e){return e instanceof Function}function ms(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Ss(e,t){const n=[],r=s=>{s.forEach(o=>{n.push(o);const i=t(o);i!=null&&i.length&&r(i)})};return r(e),n}function I(e,t,n){let r=[],s;return o=>{let i;n.key&&n.debug&&(i=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((g,p)=>r[p]!==g)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-i)*100)/100,p=Math.round((Date.now()-u)*100)/100,f=p/16,c=(h,S)=>{for(h=String(h);h.length<S;)h=" "+h;return h};console.info(`%c⏱ ${c(p,5)} /${c(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function b(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Cs(e,t,n,r){const s=()=>{var i;return(i=o.getValue())!=null?i:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:I(()=>[e,n,t,o],(i,a,l,u)=>({table:i,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),b(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(o,n,t,e)},{}),o}function vs(e,t,n,r){var s,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,g;if(a.accessorFn?g=a.accessorFn:l&&(l.includes(".")?g=f=>{let c=f;for(const S of l.split(".")){var h;c=(h=c)==null?void 0:h[S]}return c}:g=f=>f[a.accessorKey]),!u)throw new Error;let p={id:`${String(u)}`,accessorFn:g,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:I(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(c=>c.getFlatColumns())]},b(e.options,"debugColumns")),getLeafColumns:I(()=>[e._getOrderColumnsFn()],f=>{var c;if((c=p.columns)!=null&&c.length){let h=p.columns.flatMap(S=>S.getLeafColumns());return f(h)}return[p]},b(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const te="debugHeaders";function tn(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),i.push(l)};return a(o),i},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(o,e)}),o}const Ds={createTable:e=>{e.getHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var o,i;const a=(o=r==null?void 0:r.map(p=>n.find(f=>f.id===p)).filter(Boolean))!=null?o:[],l=(i=s==null?void 0:s.map(p=>n.find(f=>f.id===p)).filter(Boolean))!=null?i:[],u=n.filter(p=>!(r!=null&&r.includes(p.id))&&!(s!=null&&s.includes(p.id)));return tt(t,[...a,...u,...l],e)},b(e.options,te)),e.getCenterHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(s!=null&&s.includes(o.id))),tt(t,n,e,"center")),b(e.options,te)),e.getLeftHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const o=(s=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?s:[];return tt(t,o,e,"left")},b(e.options,te)),e.getRightHeaderGroups=I(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const o=(s=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?s:[];return tt(t,o,e,"right")},b(e.options,te)),e.getFooterGroups=I(()=>[e.getHeaderGroups()],t=>[...t].reverse(),b(e.options,te)),e.getLeftFooterGroups=I(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),b(e.options,te)),e.getCenterFooterGroups=I(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),b(e.options,te)),e.getRightFooterGroups=I(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),b(e.options,te)),e.getFlatHeaders=I(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),b(e.options,te)),e.getLeftFlatHeaders=I(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),b(e.options,te)),e.getCenterFlatHeaders=I(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),b(e.options,te)),e.getRightFlatHeaders=I(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),b(e.options,te)),e.getCenterLeafHeaders=I(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),b(e.options,te)),e.getLeftLeafHeaders=I(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),b(e.options,te)),e.getRightLeafHeaders=I(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),b(e.options,te)),e.getLeafHeaders=I(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,o,i,a,l,u;return[...(s=(o=t[0])==null?void 0:o.headers)!=null?s:[],...(i=(a=n[0])==null?void 0:a.headers)!=null?i:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(g=>g.getLeafHeaders()).flat()},b(e.options,te))}};function tt(e,t,n,r){var s,o;let i=0;const a=function(f,c){c===void 0&&(c=1),i=Math.max(i,c),f.filter(h=>h.getIsVisible()).forEach(h=>{var S;(S=h.columns)!=null&&S.length&&a(h.columns,c+1)},0)};a(e);let l=[];const u=(f,c)=>{const h={depth:c,id:[r,`${c}`].filter(Boolean).join("_"),headers:[]},S=[];f.forEach(C=>{const D=[...S].reverse()[0],E=C.column.depth===h.depth;let R,j=!1;if(E&&C.column.parent?R=C.column.parent:(R=C.column,j=!0),D&&(D==null?void 0:D.column)===R)D.subHeaders.push(C);else{const w=tn(n,R,{id:[r,c,R.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:j,placeholderId:j?`${S.filter(x=>x.column===R).length}`:void 0,depth:c,index:S.length});w.subHeaders.push(C),S.push(w)}h.headers.push(C),C.headerGroup=h}),l.push(h),c>0&&u(S,c-1)},g=t.map((f,c)=>tn(n,f,{depth:i,index:c}));u(g,i-1),l.reverse();const p=f=>f.filter(h=>h.column.getIsVisible()).map(h=>{let S=0,C=0,D=[0];h.subHeaders&&h.subHeaders.length?(D=[],p(h.subHeaders).forEach(R=>{let{colSpan:j,rowSpan:w}=R;S+=j,D.push(w)})):S=1;const E=Math.min(...D);return C=C+E,h.colSpan=S,h.rowSpan=C,{colSpan:S,rowSpan:C}});return p((s=(o=l[0])==null?void 0:o.headers)!=null?s:[]),l}const Bt=(e,t,n,r,s,o,i)=>{let a={id:t,index:r,original:n,depth:s,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Ss(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const g=u.getParentRow();if(!g)break;l.push(g),u=g}return l.reverse()},getAllCells:I(()=>[e.getAllLeafColumns()],l=>l.map(u=>Cs(e,a,u,u.id)),b(e.options,"debugRows")),_getAllCellsByColumnId:I(()=>[a.getAllCells()],l=>l.reduce((u,g)=>(u[g.column.id]=g,u),{}),b(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},ws={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},mr=(e,t,n)=>{var r,s;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(o))};mr.autoRemove=e=>ge(e);const Sr=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Sr.autoRemove=e=>ge(e);const Cr=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Cr.autoRemove=e=>ge(e);const vr=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};vr.autoRemove=e=>ge(e);const Dr=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});Dr.autoRemove=e=>ge(e)||!(e!=null&&e.length);const wr=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});wr.autoRemove=e=>ge(e)||!(e!=null&&e.length);const Er=(e,t,n)=>e.getValue(t)===n;Er.autoRemove=e=>ge(e);const Rr=(e,t,n)=>e.getValue(t)==n;Rr.autoRemove=e=>ge(e);const Ut=(e,t,n)=>{let[r,s]=n;const o=e.getValue(t);return o>=r&&o<=s};Ut.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(s)?1/0:s;if(o>i){const a=o;o=i,i=a}return[o,i]};Ut.autoRemove=e=>ge(e)||ge(e[0])&&ge(e[1]);const De={includesString:mr,includesStringSensitive:Sr,equalsString:Cr,arrIncludes:vr,arrIncludesAll:Dr,arrIncludesSome:wr,equals:Er,weakEquals:Rr,inNumberRange:Ut};function ge(e){return e==null||e===""}const Es={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ue("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?De.includesString:typeof r=="number"?De.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?De.equals:Array.isArray(r)?De.arrIncludes:De.weakEquals},e.getFilterFn=()=>{var n,r;return lt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:De[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),o=r==null?void 0:r.find(g=>g.id===e.id),i=Ee(n,o?o.value:void 0);if(nn(s,i,e)){var a;return(a=r==null?void 0:r.filter(g=>g.id!==e.id))!=null?a:[]}const l={id:e.id,value:i};if(o){var u;return(u=r==null?void 0:r.map(g=>g.id===e.id?l:g))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var o;return(o=Ee(t,s))==null?void 0:o.filter(i=>{const a=n.find(l=>l.id===i.id);if(a){const l=a.getFilterFn();if(nn(l,i.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function nn(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Rs=(e,t,n)=>n.reduce((r,s)=>{const o=s.getValue(e);return r+(typeof o=="number"?o:0)},0),ys=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},xs=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Is=(e,t,n)=>{let r,s;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r===void 0?i>=i&&(r=s=i):(r>i&&(r=i),s<i&&(s=i)))}),[r,s]},bs=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let o=s.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},Ts=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!ms(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((o,i)=>o-i);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Os=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),_s=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Ms=(e,t)=>t.length,mt={sum:Rs,min:ys,max:xs,extent:Is,mean:bs,median:Ts,unique:Os,uniqueCount:_s,count:Ms},Fs={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ue("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return mt.sum;if(Object.prototype.toString.call(r)==="[object Date]")return mt.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return lt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:mt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Ns(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(i=>i.id===o)).filter(Boolean),...r]}const Ps={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ue("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=I(n=>[Ye(t,n)],n=>n.findIndex(r=>r.id===e.id),b(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Ye(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Ye(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=I(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let o=[];if(!(t!=null&&t.length))o=s;else{const i=[...t],a=[...s];for(;a.length&&i.length;){const l=i.shift(),u=a.findIndex(g=>g.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return Ns(o,n,r)},b(e.options,"debugTable"))}},St=()=>({left:[],right:[]}),As={getInitialState:e=>({columnPinning:St(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ue("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var o,i;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(n==="left"){var u,g;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((g=s==null?void 0:s.right)!=null?g:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((o=s==null?void 0:s.left)!=null?o:[]).filter(p=>!(r!=null&&r.includes(p))),right:((i=s==null?void 0:s.right)!=null?i:[]).filter(p=>!(r!=null&&r.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,o,i;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((o=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>s==null?void 0:s.includes(a));return o?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=I(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const o=[...r??[],...s??[]];return n.filter(i=>!o.includes(i.column.id))},b(t.options,"debugRows")),e.getLeftVisibleCells=I(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),b(t.options,"debugRows")),e.getRightVisibleCells=I(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),b(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?St():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:St())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,o;return!!((s=r.left)!=null&&s.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=I(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),b(e.options,"debugColumns")),e.getRightLeafColumns=I(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),b(e.options,"debugColumns")),e.getCenterLeafColumns=I(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(o=>!s.includes(o.id))},b(e.options,"debugColumns"))}},nt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ct=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Vs={getDefaultColumnDef:()=>nt,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ct(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ue("columnSizing",e),onColumnSizingInfoChange:ue("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:nt.minSize,(r=o??e.columnDef.size)!=null?r:nt.size),(s=e.columnDef.maxSize)!=null?s:nt.maxSize)},e.getStart=I(n=>[n,Ye(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,o)=>s+o.getSize(),0),b(t.options,"debugColumns")),e.getAfter=I(n=>[n,Ye(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,o)=>s+o.getSize(),0),b(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var o;n+=(o=s.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return o=>{if(!r||!s||(o.persist==null||o.persist(),vt(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),a=e?e.getLeafHeaders().map(D=>[D.column.id,D.column.getSize()]):[[r.id,r.getSize()]],l=vt(o)?Math.round(o.touches[0].clientX):o.clientX,u={},g=(D,E)=>{typeof E=="number"&&(t.setColumnSizingInfo(R=>{var j,w;const x=t.options.columnResizeDirection==="rtl"?-1:1,y=(E-((j=R==null?void 0:R.startOffset)!=null?j:0))*x,H=Math.max(y/((w=R==null?void 0:R.startSize)!=null?w:0),-.999999);return R.columnSizingStart.forEach(A=>{let[P,$]=A;u[P]=Math.round(Math.max($+$*H,0)*100)/100}),{...R,deltaOffset:y,deltaPercentage:H}}),(t.options.columnResizeMode==="onChange"||D==="end")&&t.setColumnSizing(R=>({...R,...u})))},p=D=>g("move",D),f=D=>{g("end",D),t.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},c=n||typeof document<"u"?document:null,h={moveHandler:D=>p(D.clientX),upHandler:D=>{c==null||c.removeEventListener("mousemove",h.moveHandler),c==null||c.removeEventListener("mouseup",h.upHandler),f(D.clientX)}},S={moveHandler:D=>(D.cancelable&&(D.preventDefault(),D.stopPropagation()),p(D.touches[0].clientX),!1),upHandler:D=>{var E;c==null||c.removeEventListener("touchmove",S.moveHandler),c==null||c.removeEventListener("touchend",S.upHandler),D.cancelable&&(D.preventDefault(),D.stopPropagation()),f((E=D.touches[0])==null?void 0:E.clientX)}},C=zs()?{passive:!1}:!1;vt(o)?(c==null||c.addEventListener("touchmove",S.moveHandler,C),c==null||c.addEventListener("touchend",S.upHandler,C)):(c==null||c.addEventListener("mousemove",h.moveHandler,C),c==null||c.addEventListener("mouseup",h.upHandler,C)),t.setColumnSizingInfo(D=>({...D,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Ct():(n=e.initialState.columnSizingInfo)!=null?n:Ct())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let rt=null;function zs(){if(typeof rt=="boolean")return rt;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return rt=e,rt}function vt(e){return e.type==="touchstart"}const js={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ue("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=I(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),b(t.options,"debugRows")),e.getVisibleCells=I(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],b(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>I(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),b(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,o)=>({...s,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Ye(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const $s={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Ls={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ue("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>De.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return lt(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:De[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Hs={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ue("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,o;e.setExpanded(r?{}:(s=(o=e.initialState)==null?void 0:o.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const i=o.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const o=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{i[a]=!0}):i=r,n=(s=n)!=null?s:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=i;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Ot=0,_t=10,Dt=()=>({pageIndex:Ot,pageSize:_t}),Bs={getInitialState:e=>({...e,pagination:{...Dt(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ue("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=o=>Ee(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Dt():(s=e.initialState.pagination)!=null?s:Dt())},e.setPageIndex=r=>{e.setPagination(s=>{let o=Ee(r,s.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...s,pageIndex:o}})},e.resetPageIndex=r=>{var s,o;e.setPageIndex(r?Ot:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?s:Ot)},e.resetPageSize=r=>{var s,o;e.setPageSize(r?_t:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?s:_t)},e.setPageSize=r=>{e.setPagination(s=>{const o=Math.max(1,Ee(r,s.pageSize)),i=s.pageSize*s.pageIndex,a=Math.floor(i/o);return{...s,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(s=>{var o;let i=Ee(r,(o=e.options.pageCount)!=null?o:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...s,pageCount:i}}),e.getPageOptions=I(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((o,i)=>i)),s},b(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},wt=()=>({top:[],bottom:[]}),Us={getInitialState:e=>({rowPinning:wt(),...e}),getDefaultOptions:e=>({onRowPinningChange:ue("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],i=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...i,e.id,...o]);t.setRowPinning(l=>{var u,g;if(n==="bottom"){var p,f;return{top:((p=l==null?void 0:l.top)!=null?p:[]).filter(S=>!(a!=null&&a.has(S))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(S=>!(a!=null&&a.has(S))),...Array.from(a)]}}if(n==="top"){var c,h;return{top:[...((c=l==null?void 0:l.top)!=null?c:[]).filter(S=>!(a!=null&&a.has(S))),...Array.from(a)],bottom:((h=l==null?void 0:l.bottom)!=null?h:[]).filter(S=>!(a!=null&&a.has(S)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(S=>!(a!=null&&a.has(S))),bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(S=>!(a!=null&&a.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>s==null?void 0:s.includes(a));return o?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const o=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:a}=i;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?wt():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:wt())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,o;return!!((s=r.top)!=null&&s.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(i=>{const a=e.getRow(i,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(i=>t.find(a=>a.id===i))).filter(Boolean).map(i=>({...i,position:r}))},e.getTopRows=I(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),b(e.options,"debugRows")),e.getBottomRows=I(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),b(e.options,"debugRows")),e.getCenterRows=I(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(o=>!s.has(o.id))},b(e.options,"debugRows"))}},Gs={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ue("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):s.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(o=>{Mt(s,o.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=I(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Et(e,n):{rows:[],flatRows:[],rowsById:{}},b(e.options,"debugTable")),e.getFilteredSelectedRowModel=I(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Et(e,n):{rows:[],flatRows:[],rowsById:{}},b(e.options,"debugTable")),e.getGroupedSelectedRowModel=I(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Et(e,n):{rows:[],flatRows:[],rowsById:{}},b(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(o=>{var i;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return o;const a={...o};return Mt(a,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Gt(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Ft(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Ft(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Mt=(e,t,n,r,s)=>{var o;const i=s.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(a=>Mt(e,a.id,n,r,s))};function Et(e,t){const n=e.getState().rowSelection,r=[],s={},o=function(i,a){return i.map(l=>{var u;const g=Gt(l,n);if(g&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),g)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:s}}function Gt(e,t){var n;return(n=t[e.id])!=null?n:!1}function Ft(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,o=!1;return e.subRows.forEach(i=>{if(!(o&&!s)&&(i.getCanSelect()&&(Gt(i,t)?o=!0:s=!1),i.subRows&&i.subRows.length)){const a=Ft(i,t);a==="all"?o=!0:(a==="some"&&(o=!0),s=!1)}}),s?"all":o?"some":!1}const Nt=/([0-9]+)/gm,ks=(e,t,n)=>yr(xe(e.getValue(n)).toLowerCase(),xe(t.getValue(n)).toLowerCase()),qs=(e,t,n)=>yr(xe(e.getValue(n)),xe(t.getValue(n))),Ws=(e,t,n)=>kt(xe(e.getValue(n)).toLowerCase(),xe(t.getValue(n)).toLowerCase()),Ks=(e,t,n)=>kt(xe(e.getValue(n)),xe(t.getValue(n))),Xs=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},Ys=(e,t,n)=>kt(e.getValue(n),t.getValue(n));function kt(e,t){return e===t?0:e>t?1:-1}function xe(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function yr(e,t){const n=e.split(Nt).filter(Boolean),r=t.split(Nt).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),o=r.shift(),i=parseInt(s,10),a=parseInt(o,10),l=[i,a].sort();if(isNaN(l[0])){if(s>o)return 1;if(o>s)return-1;continue}if(isNaN(l[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}return n.length-r.length}const Ne={alphanumeric:ks,alphanumericCaseSensitive:qs,text:Ws,textCaseSensitive:Ks,datetime:Xs,basic:Ys},Zs={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ue("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const o=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Ne.datetime;if(typeof o=="string"&&(r=!0,o.split(Nt).length>1))return Ne.alphanumeric}return r?Ne.text:Ne.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return lt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ne[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(i=>{const a=i==null?void 0:i.find(c=>c.id===e.id),l=i==null?void 0:i.findIndex(c=>c.id===e.id);let u=[],g,p=o?n:s==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?a?g="toggle":g="add":i!=null&&i.length&&l!==i.length-1?g="replace":a?g="toggle":g="replace",g==="toggle"&&(o||s||(g="remove")),g==="add"){var f;u=[...i,{id:e.id,desc:p}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else g==="toggle"?u=i.map(c=>c.id===e.id?{...c,desc:p}:c):g==="remove"?u=i.filter(c=>c.id!==e.id):u=[{id:e.id,desc:p}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:i==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Qs=[Ds,js,Ps,As,ws,Es,$s,Ls,Zs,Fs,Hs,Bs,Us,Gs,Vs];function Js(e){var t,n;const r=[...Qs,...(t=e._features)!=null?t:[]];let s={_features:r};const o=s._features.reduce((f,c)=>Object.assign(f,c.getDefaultOptions==null?void 0:c.getDefaultOptions(s)),{}),i=f=>s.options.mergeOptions?s.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(f=>{var c;l=(c=f.getInitialState==null?void 0:f.getInitialState(l))!=null?c:l});const u=[];let g=!1;const p={_features:r,options:{...o,...e},initialState:l,_queue:f=>{u.push(f),g||(g=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();g=!1}).catch(c=>setTimeout(()=>{throw c})))},reset:()=>{s.setState(s.initialState)},setOptions:f=>{const c=Ee(f,s.options);s.options=i(c)},getState:()=>s.options.state,setState:f=>{s.options.onStateChange==null||s.options.onStateChange(f)},_getRowId:(f,c,h)=>{var S;return(S=s.options.getRowId==null?void 0:s.options.getRowId(f,c,h))!=null?S:`${h?[h.id,c].join("."):c}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(f,c)=>{let h=(c?s.getPrePaginationRowModel():s.getRowModel()).rowsById[f];if(!h&&(h=s.getCoreRowModel().rowsById[f],!h))throw new Error;return h},_getDefaultColumnDef:I(()=>[s.options.defaultColumn],f=>{var c;return f=(c=f)!=null?c:{},{header:h=>{const S=h.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:h=>{var S,C;return(S=(C=h.renderValue())==null||C.toString==null?void 0:C.toString())!=null?S:null},...s._features.reduce((h,S)=>Object.assign(h,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...f}},b(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:I(()=>[s._getColumnDefs()],f=>{const c=function(h,S,C){return C===void 0&&(C=0),h.map(D=>{const E=vs(s,D,C,S),R=D;return E.columns=R.columns?c(R.columns,E,C+1):[],E})};return c(f)},b(e,"debugColumns")),getAllFlatColumns:I(()=>[s.getAllColumns()],f=>f.flatMap(c=>c.getFlatColumns()),b(e,"debugColumns")),_getAllFlatColumnsById:I(()=>[s.getAllFlatColumns()],f=>f.reduce((c,h)=>(c[h.id]=h,c),{}),b(e,"debugColumns")),getAllLeafColumns:I(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(f,c)=>{let h=f.flatMap(S=>S.getLeafColumns());return c(h)},b(e,"debugColumns")),getColumn:f=>s._getAllFlatColumnsById()[f]};Object.assign(s,p);for(let f=0;f<s._features.length;f++){const c=s._features[f];c==null||c.createTable==null||c.createTable(s)}return s}function ae(){return e=>I(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,o,i){o===void 0&&(o=0);const a=[];for(let u=0;u<s.length;u++){const g=Bt(e,e._getRowId(s[u],u,i),s[u],u,o,void 0,i==null?void 0:i.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,a.push(g),e.options.getSubRows){var l;g.originalSubRows=e.options.getSubRows(s[u],u),(l=g.originalSubRows)!=null&&l.length&&(g.subRows=r(g.originalSubRows,o+1,g))}}return a};return n.rows=r(t),n},b(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function eo(){return e=>I(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:xr(n),b(e.options,"debugTable"))}function xr(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function to(e,t,n){return n.options.filterFromLeafRows?no(e,t,n):ro(e,t,n)}function no(e,t,n){var r;const s=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const g=[];for(let f=0;f<l.length;f++){var p;let c=l[f];const h=Bt(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);if(h.columnFilters=c.columnFilters,(p=c.subRows)!=null&&p.length&&u<i){if(h.subRows=a(c.subRows,u+1),c=h,t(c)&&!h.subRows.length){g.push(c),o[c.id]=c,s.push(c);continue}if(t(c)||h.subRows.length){g.push(c),o[c.id]=c,s.push(c);continue}}else c=h,t(c)&&(g.push(c),o[c.id]=c,s.push(c))}return g};return{rows:a(e),flatRows:s,rowsById:o}}function ro(e,t,n){var r;const s=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const g=[];for(let f=0;f<l.length;f++){let c=l[f];if(t(c)){var p;if((p=c.subRows)!=null&&p.length&&u<i){const S=Bt(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);S.subRows=a(c.subRows,u+1),c=S}g.push(c),s.push(c),o[c.id]=c}}return g};return{rows:a(e),flatRows:s,rowsById:o}}function so(){return e=>I(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const s=[],o=[];(n??[]).forEach(f=>{var c;const h=e.getColumn(f.id);if(!h)return;const S=h.getFilterFn();S&&s.push({id:f.id,filterFn:S,resolvedValue:(c=S.resolveFilterValue==null?void 0:S.resolveFilterValue(f.value))!=null?c:f.value})});const i=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(i.push("__global__"),l.forEach(f=>{var c;o.push({id:f.id,filterFn:a,resolvedValue:(c=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?c:r})}));let u,g;for(let f=0;f<t.flatRows.length;f++){const c=t.flatRows[f];if(c.columnFilters={},s.length)for(let h=0;h<s.length;h++){u=s[h];const S=u.id;c.columnFilters[S]=u.filterFn(c,S,u.resolvedValue,C=>{c.columnFiltersMeta[S]=C})}if(o.length){for(let h=0;h<o.length;h++){g=o[h];const S=g.id;if(g.filterFn(c,S,g.resolvedValue,C=>{c.columnFiltersMeta[S]=C})){c.columnFilters.__global__=!0;break}}c.columnFilters.__global__!==!0&&(c.columnFilters.__global__=!1)}}const p=f=>{for(let c=0;c<i.length;c++)if(f.columnFilters[i[c]]===!1)return!1;return!0};return to(t.rows,p,e)},b(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function oo(e){return t=>I(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:o}=n;let{rows:i,flatRows:a,rowsById:l}=r;const u=s*o,g=u+s;i=i.slice(u,g);let p;t.options.paginateExpandedRows?p={rows:i,flatRows:a,rowsById:l}:p=xr({rows:i,flatRows:a,rowsById:l}),p.flatRows=[];const f=c=>{p.flatRows.push(c),c.subRows.length&&c.subRows.forEach(f)};return p.rows.forEach(f),p},b(t.options,"debugTable"))}function qt(){return e=>I(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],o=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),i={};o.forEach(l=>{const u=e.getColumn(l.id);u&&(i[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(g=>({...g}));return u.sort((g,p)=>{for(let c=0;c<o.length;c+=1){var f;const h=o[c],S=i[h.id],C=S.sortUndefined,D=(f=h==null?void 0:h.desc)!=null?f:!1;let E=0;if(C){const R=g.getValue(h.id),j=p.getValue(h.id),w=R===void 0,x=j===void 0;if(w||x){if(C==="first")return w?-1:1;if(C==="last")return w?1:-1;E=w&&x?0:w?C:-C}}if(E===0&&(E=S.sortingFn(g,p,h.id)),E!==0)return D&&(E*=-1),S.invertSorting&&(E*=-1),E}return g.index-p.index}),u.forEach(g=>{var p;s.push(g),(p=g.subRows)!=null&&p.length&&(g.subRows=a(g.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},b(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function X(e,t){return e?io(e)?v.createElement(e,t):e:null}function io(e){return ao(e)||typeof e=="function"||lo(e)}function ao(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function lo(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function le(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=v.useState(()=>({current:Js(t)})),[r,s]=v.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:i=>{s(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}const uo="_tableContainer_pzgqb_1",co="_tableContainer_autoWidth_pzgqb_8",go="_notSortable_pzgqb_18",fo="_tableGrouping_pzgqb_23",ho="_checkboxColumn_pzgqb_41",po="_tableContainerExpandable_pzgqb_48",mo="_expanderColumn_pzgqb_48",_={tableContainer:uo,tableContainer_autoWidth:co,notSortable:go,tableGrouping:fo,checkboxColumn:ho,tableContainerExpandable:po,expanderColumn:mo},So=()=>{const e=le({data:Gr,columns:kr,getCoreRowModel:ae()});return d.jsx("div",{style:{width:"800px",height:"600px",overflowY:"auto",overflowX:"auto"},children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{children:e.getHeaderGroups().map(t=>d.jsx(z,{children:t.headers.map((n,r)=>{var s;return d.jsx(ne,{className:_.notSortable,title:X(n.column.columnDef.header,n.getContext()),right:((s=n.column.columnDef.meta)==null?void 0:s.isNumeric)&&r!==0},n.id)})},t.id))}),d.jsx(ie,{children:e.getRowModel().rows.map(t=>d.jsx(z,{children:t.getVisibleCells().map((n,r)=>d.jsx(K,{color:t.original.status,align:r===0?"left":void 0,...Z(n)},n.id))},t.id))})]})})},Co=()=>{const e=le({data:Gr,columns:kr,getCoreRowModel:ae()}),t=n=>({[m.SUCCESS]:{color:Je.success,icon:"IconAllDoneDoubleCheckOutlined24"},[m.ERROR]:{color:Je.error,icon:"IconBlockCloseOutlined24"},[m.DEFAULT]:{color:Je.default,icon:"IconCloudDoneOutlined24"},[m.WARNING]:{color:Je.success,icon:"IconPeopleCheckDoneOutlined24"}})[n];return d.jsx("div",{className:_.tableContainer,children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{style:{position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(n=>d.jsx(z,{children:n.headers.map((r,s)=>{var o;return d.jsx(ne,{className:_.notSortable,title:X(r.column.columnDef.header,r.getContext()),right:((o=r.column.columnDef.meta)==null?void 0:o.isNumeric)&&s!==0},r.id)})},n.id))}),d.jsx(ie,{children:e.getRowModel().rows.map(n=>d.jsx(z,{children:n.getVisibleCells().map((r,s)=>r.column.id==="status"?d.jsx(K,{...Z(r),children:d.jsx(hr,{...t(n.original.status),children:n.original.status})},r.id):d.jsx(K,{align:s===0?"left":void 0,...Z(r)},r.id))},n.id))})]})})},vo=[{header:"ID",accessorKey:"id",enableSorting:!0,meta:{isNumeric:!0}},{header:"Name",accessorKey:"name",enableSorting:!0},{header:"Age",accessorKey:"age",enableSorting:!0,meta:{isNumeric:!0}},{header:"Production Date",accessorKey:"productionDate",enableSorting:!0,cell:e=>e.getValue().toLocaleDateString()},{header:"Status",accessorKey:"status",enableSorting:!1}],Do=[{id:1,name:"Сталь",age:25,status:m.DEFAULT,productionDate:new Date("2023-01-10")},{id:2,name:"Металл",age:30,status:m.SUCCESS,productionDate:new Date("2023-02-15")},{id:3,name:"Чугун",age:40,status:m.ERROR,productionDate:new Date("2023-03-20")},{id:4,name:"Сталь",age:22,status:m.DEFAULT,productionDate:new Date("2023-04-05")},{id:5,name:"Металл",age:35,status:m.SUCCESS,productionDate:new Date("2023-05-10")},{id:6,name:"Чугун",age:28,status:m.ERROR,productionDate:new Date("2023-06-18")},{id:7,name:"Сталь",age:27,status:m.DEFAULT,productionDate:new Date("2023-07-01")},{id:8,name:"Металл",age:32,status:m.SUCCESS,productionDate:new Date("2023-08-12")},{id:9,name:"Чугун",age:38,status:m.ERROR,productionDate:new Date("2023-09-15")},{id:10,name:"Сталь",age:24,status:m.DEFAULT,productionDate:new Date("2023-10-20")},{id:11,name:"Алюминий",age:29,status:m.SUCCESS,productionDate:new Date("2023-11-05")},{id:12,name:"Медь",age:33,status:m.ERROR,productionDate:new Date("2023-12-15")},{id:13,name:"Титан",age:45,status:m.DEFAULT,productionDate:new Date("2024-01-03")},{id:14,name:"Бронза",age:31,status:m.SUCCESS,productionDate:new Date("2024-01-18")},{id:15,name:"Латунь",age:36,status:m.ERROR,productionDate:new Date("2024-02-01")},{id:16,name:"Никель",age:26,status:m.DEFAULT,productionDate:new Date("2024-02-14")},{id:17,name:"Цинк",age:42,status:m.SUCCESS,productionDate:new Date("2024-02-28")},{id:18,name:"Свинец",age:34,status:m.ERROR,productionDate:new Date("2024-03-10")},{id:19,name:"Олово",age:37,status:m.DEFAULT,productionDate:new Date("2024-03-22")},{id:20,name:"Хром",age:28,status:m.SUCCESS,productionDate:new Date("2024-04-05")},{id:21,name:"Вольфрам",age:39,status:m.ERROR,productionDate:new Date("2024-04-18")},{id:22,name:"Молибден",age:41,status:m.DEFAULT,productionDate:new Date("2024-05-01")},{id:23,name:"Платина",age:44,status:m.SUCCESS,productionDate:new Date("2024-05-15")},{id:24,name:"Палладий",age:30,status:m.ERROR,productionDate:new Date("2024-05-28")},{id:25,name:"Серебро",age:23,status:m.DEFAULT,productionDate:new Date("2024-06-10")}],wo=()=>{const[e,t]=v.useState([]),[n]=v.useState("onChange"),r=le({data:Do,columns:vo,state:{sorting:e},onSortingChange:t,getCoreRowModel:ae(),getSortedRowModel:qt(),columnResizeMode:n,enableColumnResizing:!0,defaultColumn:{minSize:100,maxSize:800,size:150}}),s=r.getCenterTotalSize();return d.jsx("div",{className:_.tableContainer,children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,style:{tableLayout:"fixed",width:Math.max(s,800)},children:[d.jsx(oe,{children:r.getHeaderGroups().map(o=>d.jsx(z,{children:o.headers.map((i,a)=>{var g;const l=i.column.getCanSort(),u=i.column.getIsSorted();return d.jsx(ne,{disable:!l,sort:l,sortDirection:u,style:{width:i.getSize()},drag:!0,onMouseDown:i.getResizeHandler(),onTouchStart:i.getResizeHandler(),onClick:()=>{l&&i.column.toggleSorting()},title:X(i.column.columnDef.header,i.getContext()),right:((g=i.column.columnDef.meta)==null?void 0:g.isNumeric)&&a!==0},i.id)})},o.id))}),d.jsx(ie,{children:r.getRowModel().rows.map(o=>d.jsx(z,{children:o.getVisibleCells().map((i,a)=>{const l=o.original.status;return d.jsx(K,{color:l,align:a===0?"left":void 0,...Z(i),style:{width:i.column.getSize()}},i.id)})},o.id))})]})})};function Te(e,t,n){let r=n.initialDeps??[],s;return()=>{var o,i,a,l;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const g=e();if(!(g.length!==r.length||g.some((c,h)=>r[h]!==c)))return s;r=g;let f;if(n.key&&((i=n.debug)!=null&&i.call(n))&&(f=Date.now()),s=t(...g),n.key&&((a=n.debug)!=null&&a.call(n))){const c=Math.round((Date.now()-u)*100)/100,h=Math.round((Date.now()-f)*100)/100,S=h/16,C=(D,E)=>{for(D=String(D);D.length<E;)D=" "+D;return D};console.info(`%c⏱ ${C(h,5)} /${C(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,s),s}}function Rt(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Eo=(e,t)=>Math.abs(e-t)<1,Ro=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},yo=e=>e,xo=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Io=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=i=>{const{width:a,height:l}=i;t({width:Math.round(a),height:Math.round(l)})};if(s(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(i=>{const a=()=>{const l=i[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},rn={passive:!0},sn=typeof window>"u"?!0:"onscrollend"in window,bo=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const o=e.options.useScrollendEvent&&sn?()=>{}:Ro(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),i=g=>()=>{const{horizontal:p,isRtl:f}=e.options;s=p?n.scrollLeft*(f&&-1||1):n.scrollTop,o(),t(s,g)},a=i(!0),l=i(!1);l(),n.addEventListener("scroll",a,rn);const u=e.options.useScrollendEvent&&sn;return u&&n.addEventListener("scrollend",l,rn),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}},To=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Oo=(e,{adjustments:t=0,behavior:n},r)=>{var s,o;const i=e+t;(o=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class _o{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const i=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=r())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=r())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:yo,rangeExtractor:xo,onChange:()=>{},measureElement:To,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Te(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,o=new Map;for(let i=r-1;i>=0;i--){const a=n[i];if(s.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&s.set(a.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=Te(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=Te(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:o,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let g=l;g<n;g++){const p=o(g),f=this.options.lanes===1?u[g-1]:this.getFurthestMeasurement(u,g),c=f?f.end+this.options.gap:r+s,h=a.get(p),S=typeof h=="number"?h:this.options.estimateSize(g),C=c+S,D=f?f.lane:g%this.options.lanes;u[g]={index:g,start:c,size:S,end:C,key:p,lane:D}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Te(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,s)=>this.range=n.length>0&&r>0?Mo({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Te(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,o,i)=>o===null||i===null?[]:n({startIndex:o,endIndex:i,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const i=o.key,a=this.elementsCache.get(i);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,i=r-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,i,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Te(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let o=0,i=n.length;o<i;o++){const a=n[o],l=r[a];s.push(l)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Rt(r[Ir(0,r.length-1,s=>Rt(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+s&&(r="end"),r==="end"&&(n-=s);const i=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-s;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),i=this.getScrollOffset();if(r==="auto")if(s.end>=i+o-this.options.scrollPaddingEnd)r="end";else if(s.start<=i+this.options.scrollPaddingStart)r="start";else return[i,r];const a=s.start-this.options.scrollPaddingStart+(s.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(s.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(s.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[i,a]=o;this._scrollToOffset(i,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=Rt(this.getOffsetForIndex(n,a));Eo(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:s})}else this.scrollToIndex(n,{align:a,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Ir=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<r)e=s+1;else if(o>r)t=s-1;else return s}return e>0?e-1:0};function Mo({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=Ir(0,r,a=>e[a].start,n);let i=o;for(;i<r&&e[i].end<n+t;)i++;return{startIndex:o,endIndex:i}}const on=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Fo(e){const t=v.useReducer(()=>({}),{})[1],n={...e,onChange:(s,o)=>{var i;o?fs.flushSync(t):t(),(i=e.onChange)==null||i.call(e,s,o)}},[r]=v.useState(()=>new _o(n));return r.setOptions(n),on(()=>r._didMount(),[]),on(()=>r._willUpdate()),r}function Wt(e){return Fo({observeElementRect:Io,observeElementOffset:bo,scrollToFn:Oo,...e})}const Z=e=>{const t=e.getValue();if(t instanceof Date){const n=new Date(t);if(!isNaN(n.getTime()))return{text:n.toLocaleDateString()}}return typeof t=="number"?{number:t}:typeof t=="string"?{text:t}:{children:d.jsx(be,{variant:"Body1-Medium",color:"var(--steel-90)",children:X(e.column.columnDef.cell,e.getContext())})}};try{Z.displayName="getCellProps",Z.__docgenInfo={description:"",displayName:"getCellProps",props:{}}}catch{}const No=[{accessorKey:"id",header:"ID",size:60,meta:{isNumeric:!0}},{accessorKey:"firstName",header:"First Name"},{accessorKey:"lastName",header:"Last Name"},{accessorKey:"age",header:"Age",size:50,meta:{isNumeric:!0}},{accessorKey:"visits",header:"Visits",size:50,meta:{isNumeric:!0}},{accessorKey:"status",header:"Status"},{accessorKey:"progress",header:"Progress",size:80,meta:{isNumeric:!0}},{accessorKey:"createdAt",header:"Created At",cell:e=>e.getValue().toLocaleString(),size:180}],an=Array.from({length:1e3},(e,t)=>({id:t+1,firstName:"Name "+(t+1),lastName:"Last "+(t+1),age:20+t%40,visits:Math.floor(Math.random()*1e3),status:t%3===0?"error":"ok",progress:t%100,createdAt:new Date(Date.now()-t*36e5)})),Po=()=>{const e=le({data:v.useMemo(()=>an,[]),columns:v.useMemo(()=>No,[]),getCoreRowModel:ae()}),t=e.getRowModel().rows,n=v.useRef(null),r=Wt({count:t.length,getScrollElement:()=>n.current,estimateSize:()=>56,overscan:5,measureElement:s=>(s==null?void 0:s.getBoundingClientRect().height)??0});return d.jsxs("div",{children:[d.jsxs(be,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",an.length," rows)"]}),d.jsx("div",{className:_.tableContainer,ref:n,children:d.jsxs(se,{style:{display:"grid"},horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{style:{display:"grid",position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(s=>d.jsx(z,{style:{display:"flex",width:"100%"},children:s.headers.map((o,i)=>{var l;const a=o.getSize();return d.jsx(ne,{style:{display:"flex",width:a},title:X(o.column.columnDef.header,o.getContext()),right:((l=o.column.columnDef.meta)==null?void 0:l.isNumeric)&&i!==0,className:_.notSortable},o.id)})},s.id))}),d.jsx(ie,{style:{display:"grid",position:"relative",height:r.getTotalSize()},children:r.getVirtualItems().map(s=>{const o=t[s.index];return d.jsx(z,{ref:i=>{i&&r.measureElement(i)},style:{position:"absolute",transform:`translateY(${s.start}px)`,display:"flex",width:"100%"},children:o.getVisibleCells().map((i,a)=>{const l=i.column.getSize();return d.jsx(K,{color:m.WARNING,style:{width:l},align:a===0?"left":void 0,...Z(i)},i.id)})},o.id)})})]})})]})},Ao=[{accessorKey:"id",header:"ID",size:60,meta:{isNumeric:!0}},{accessorKey:"firstName",header:"First Name"},{accessorKey:"lastName",header:"Last Name"},{accessorKey:"age",header:"Age",size:50,meta:{isNumeric:!0}},{accessorKey:"visits",header:"Visits",size:50,meta:{isNumeric:!0}},{accessorKey:"status",header:"Status"},{accessorKey:"progress",header:"Progress",size:80,meta:{isNumeric:!0}},{accessorKey:"createdAt",header:"Created At",cell:e=>e.getValue().toLocaleString(),size:180}],Vo=e=>({accessorKey:`column${e}`,header:`Column ${e}`,size:100,cell:t=>`Value ${e}-${t.row.index}`}),ln=[...Ao,...Array.from({length:992},(e,t)=>Vo(t+9))],zo=Array.from({length:12},(e,t)=>{const n={id:t+1,firstName:"Name "+(t+1),lastName:"Last "+(t+1),age:20+t%40,visits:Math.floor(Math.random()*1e3),status:t%3===0?"error":"ok",progress:t%100,createdAt:new Date(Date.now()-t*36e5)};for(let r=8;r<=1e3;r++)n[`column${r}`]=`Value ${r}-${t}`;return n}),jo=()=>{var a,l;const e=le({data:v.useMemo(()=>zo,[]),columns:v.useMemo(()=>ln,[]),getCoreRowModel:ae()}),t=e.getVisibleLeafColumns(),n=v.useRef(null),r=Wt({count:t.length,estimateSize:u=>t[u].getSize(),getScrollElement:()=>n.current,horizontal:!0,overscan:1}),s=r.getVirtualItems(),o=((a=s[0])==null?void 0:a.start)??0,i=r.getTotalSize()-(((l=s[s.length-1])==null?void 0:l.end)??0);return d.jsxs("div",{children:[d.jsxs(be,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",ln.length," columns)"]}),d.jsx("div",{className:_.tableContainer,ref:n,children:d.jsxs(se,{style:{width:`${r.getTotalSize()}px`},horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{style:{position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(u=>d.jsxs(z,{style:{display:"flex",width:"100%"},children:[o>0&&d.jsx(ne,{style:{width:o}}),s.map((g,p)=>{var c;const f=u.headers[g.index];return d.jsx(ne,{style:{width:f.getSize()},title:X(f.column.columnDef.header,f.getContext()),right:((c=f.column.columnDef.meta)==null?void 0:c.isNumeric)&&p!==0,className:_.notSortable},f.id)}),i>0&&d.jsx(ne,{style:{width:i}})]},u.id))}),d.jsx(ie,{children:e.getRowModel().rows.map(u=>d.jsxs(z,{style:{display:"flex",width:"100%"},children:[o>0&&d.jsx(K,{style:{width:o}}),s.map(({index:g})=>{const p=u.getVisibleCells()[g];return d.jsx(K,{color:m.WARNING,style:{width:p.column.getSize()},align:g===0?"left":void 0,...Z(p)},p.id)}),i>0&&d.jsx(K,{style:{width:i}})]},u.id))})]})})]})},$o=e=>{const t=["В наличии","Заканчивается","Нет в наличии","Под заказ"],n=["Металлы","Сплавы","Драгоценные металлы","Редкие металлы"],r=["Сталь","Медь","Алюминий","Титан","Золото","Серебро","Платина","Никель","Цинк","Свинец","Олово","Хром","Вольфрам","Молибден"],s=new Date,o=new Date(s.getTime()-30*24*60*60*1e3);return Array.from({length:e},(i,a)=>({id:a+1,name:r[Math.floor(Math.random()*r.length)],amount:Math.floor(Math.random()*1e3)+1,status:t[Math.floor(Math.random()*t.length)],category:n[Math.floor(Math.random()*n.length)],price:Math.floor(Math.random()*1e4)+100,lastUpdate:new Date(o.getTime()+Math.random()*(s.getTime()-o.getTime())),supplier:`Поставщик ${Math.floor(Math.random()*20)+1}`,quality:Math.floor(Math.random()*100)+1}))},un=$o(100),Lo=[{accessorKey:"id",header:"ID",cell:e=>e.getValue(),size:200,enableColumnFilter:!0,enableSorting:!0,filterFn:Ce,meta:{isNumeric:!0}},{accessorKey:"name",header:"Название",cell:e=>e.getValue(),enableColumnFilter:!1,enableSorting:!1,filterFn:Ce},{accessorKey:"amount",header:"Количество",cell:({getValue:e})=>e().toLocaleString(),enableColumnFilter:!0,enableSorting:!0,filterFn:Ce,meta:{isNumeric:!0}},{accessorKey:"status",header:"Статус",cell:e=>e.getValue(),enableColumnFilter:!0,enableSorting:!0,filterFn:Ce},{accessorKey:"category",header:"Категория",cell:e=>e.getValue(),enableColumnFilter:!0,enableSorting:!0,filterFn:Ce},{accessorKey:"price",header:"Цена",cell:({getValue:e})=>`${e().toLocaleString()} ₽`,enableColumnFilter:!0,filterFn:Ce,meta:{isNumeric:!0}},{accessorKey:"lastUpdate",header:"Последнее обновление",cell:({getValue:e})=>new Date(e()).toLocaleDateString(),enableColumnFilter:!0,filterFn:Ce},{accessorKey:"supplier",header:"Поставщик",cell:e=>e.getValue(),enableColumnFilter:!0,filterFn:Ce},{accessorKey:"quality",header:"Качество",cell:({getValue:e})=>`${e()}%`,enableColumnFilter:!0,filterFn:Ce,meta:{isNumeric:!0}}],Ho=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[s]=v.useState("onChange"),o=le({data:un,columns:Lo,state:{columnFilters:e,sorting:n},onColumnFiltersChange:t,onSortingChange:r,getCoreRowModel:ae(),getSortedRowModel:qt(),getFilteredRowModel:so(),columnResizeMode:s,enableColumnResizing:!0,defaultColumn:{minSize:200,maxSize:800,size:200}}),i=a=>{const l=new Set;return un.forEach(u=>{const g=u[a];g!=null&&l.add(String(g))}),Array.from(l).map(u=>({value:u,label:u}))};return d.jsx("div",{className:_.tableContainer,children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,style:{tableLayout:"fixed",width:o.getCenterTotalSize()},children:[d.jsx(oe,{children:o.getHeaderGroups().map(a=>d.jsx(z,{children:a.headers.map((l,u)=>{var f;const g=l.column.getCanSort(),p=l.column.getIsSorted();return d.jsx(ne,{style:{width:l.getSize()},drag:!0,onMouseDown:l.getResizeHandler(),onTouchStart:l.getResizeHandler(),sort:g,filtered:!!l.column.getFilterValue(),sortDirection:p,onClick:()=>{g&&l.column.toggleSorting()},className:l.column.getCanSort()?"":_.notSortable,title:X(l.column.columnDef.header,l.getContext()),right:((f=l.column.columnDef.meta)==null?void 0:f.isNumeric)&&u!==0,children:l.column.getCanFilter()&&d.jsx(qr,{defaultValue:"",defaultFilterType:"contains",filterTypeOptions:hs,filterValueOptions:i(l.column.id),placeholder:"Поиск ...",withPortal:!0,onFilterChange:(c,h)=>{if(!c||!h){l.column.setFilterValue(void 0);return}let S=c;l.column.id==="lastUpdate"&&c&&(S=new Date(c).toISOString()),l.column.setFilterValue({type:h,value:S})}})},l.id)})},a.id))}),d.jsx(ie,{children:o.getRowModel().rows.map(a=>d.jsx(z,{children:a.getVisibleCells().map((l,u)=>d.jsx(K,{style:{width:l.column.getSize()},align:u===0?"left":void 0,...Z(l)},l.id))},a.id))})]})})},Bo=[{id:"expander",header:"",cell:({row:e})=>{const t=!!e.original.details,n=e.getIsExpanded();return t?d.jsx("div",{style:{cursor:"pointer",display:"flex",alignItems:"center"},onClick:e.getToggleExpandedHandler(),children:d.jsx(Jr,{name:n?"IconChevronArrowUpOutlined16":"IconChevronArrowDownOutlined16"})}):null},size:40,enableSorting:!1,meta:{isExpander:!0}},{header:"ID",accessorKey:"id",cell:({getValue:e})=>String(e()),size:100,enableSorting:!0,meta:{isNumeric:!0}},{header:"Name",accessorKey:"name",size:150,enableSorting:!0},{header:"Age",accessorKey:"age",size:100,enableSorting:!0,meta:{isNumeric:!0}},{header:"Status",accessorKey:"status",size:120,enableSorting:!1}],Uo=[{id:1,name:"Сталь 45",age:1450,status:m.SUCCESS,details:"Конструкционная углеродистая сталь для деталей машин."},{id:2,name:"Чугун СЧ20",age:1200,status:m.ERROR,details:"Серый чугун для изготовления станин и корпусных деталей."},{id:3,name:"Сплав Д16",age:660,status:m.DEFAULT,details:"Дюралюминий для авиационных конструкций и высоконагруженных деталей."},{id:4,name:"ВТ6",age:1668,status:m.SUCCESS,details:"Титановый сплав для ответственных деталей в авиастроении."},{id:5,name:"У12А",age:1350,status:m.WARNING,details:"Инструментальная углеродистая сталь для режущих инструментов."},{id:6,name:"ХВГ",age:1280,status:m.SUCCESS,details:"Инструментальная легированная сталь для штампов холодного деформирования."},{id:7,name:"БрАЖ9-4",age:1040,status:m.DEFAULT,details:"Алюминиево-железистая бронза для подшипников и втулок."},{id:8,name:"ЛС59-1",age:880,status:m.ERROR,details:"Латунь свинцовая для деталей, работающих при высоких нагрузках."},{id:9,name:"40Х13",age:1510,status:m.SUCCESS,details:"Коррозионностойкая сталь для режущего инструмента."},{id:10,name:"АМг6",age:580,status:m.WARNING,details:"Алюминиевый сплав для сварных конструкций."},{id:11,name:"30ХГСА",age:1420,status:m.DEFAULT,details:"Конструкционная легированная сталь для ответственных деталей."},{id:12,name:"БрОЦС4-4-2.5",age:920,status:m.SUCCESS,details:"Оловянно-цинково-свинцовая бронза для антифрикционных деталей."},{id:13,name:"12Х18Н10Т",age:1480,status:m.ERROR,details:"Нержавеющая сталь для химического оборудования."},{id:14,name:"МЛ5",age:650,status:m.SUCCESS,details:"Магниевый литейный сплав для деталей авиационной техники."},{id:15,name:"ВТ1-0",age:1720,status:m.WARNING,details:"Технически чистый титан для химической промышленности."}],Go=()=>{const[e,t]=v.useState({}),[n,r]=v.useState([]),s=le({data:Uo,columns:Bo,state:{expanded:e,sorting:n},onExpandedChange:t,onSortingChange:r,getCoreRowModel:ae(),getExpandedRowModel:eo(),getSortedRowModel:qt(),getRowCanExpand:o=>!!o.original.details,defaultColumn:{minSize:30}});return d.jsx("div",{className:Re(_.tableContainer,_.tableContainerExpandable),children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{children:s.getHeaderGroups().map(o=>d.jsx(z,{children:o.headers.map((i,a)=>{var g,p;const l=i.column.getCanSort(),u=i.column.getIsSorted();return d.jsx(ne,{sort:l,sortDirection:u,style:{width:i.getSize(),minWidth:i.getSize()},onClick:()=>{l&&i.column.toggleSorting()},className:Re(i.column.getCanSort()?"":_.notSortable,((g=i.column.columnDef.meta)==null?void 0:g.isExpander)&&_.expanderColumn),title:X(i.column.columnDef.header,i.getContext()),right:((p=i.column.columnDef.meta)==null?void 0:p.isNumeric)&&a!==1},i.id)})},o.id))}),d.jsx(ie,{children:s.getRowModel().rows.map(o=>d.jsxs(pr.Fragment,{children:[d.jsx(z,{children:o.getVisibleCells().map((i,a)=>{var u,g;const l=o.original.status;return d.jsx(K,{color:l,align:a===1?"left":void 0,...Z(i),disableHover:(u=i.column.columnDef.meta)==null?void 0:u.isExpander,className:Re(((g=i.column.columnDef.meta)==null?void 0:g.isExpander)&&_.expanderColumn)},i.id)})}),o.getIsExpanded()&&o.original.details&&d.jsx(z,{children:d.jsx(K,{colSpan:o.getVisibleCells().length,children:d.jsxs(be,{variant:"Body1-Medium",color:"var(--steel-90)",style:{padding:"8px",background:"transparent"},children:[d.jsx("strong",{children:"Details:"})," ",o.original.details]})})})]},o.id))})]})})},ko=[{id:1,firstName:"Иван",lastName:"Петров",age:25,visits:10,status:m.SUCCESS,progress:80},{id:2,firstName:"Мария",lastName:"Иванова",age:32,visits:15,status:m.WARNING,progress:65},{id:3,firstName:"Алексей",lastName:"Смирнов",age:28,visits:20,status:m.SUCCESS,progress:90},{id:4,firstName:"Елена",lastName:"Козлова",age:41,visits:8,status:m.ERROR,progress:45},{id:5,firstName:"Дмитрий",lastName:"Соколов",age:35,visits:25,status:m.SUCCESS,progress:95},{id:6,firstName:"Анна",lastName:"Морозова",age:29,visits:12,status:m.WARNING,progress:70},{id:7,firstName:"Сергей",lastName:"Волков",age:45,visits:18,status:m.SUCCESS,progress:85},{id:8,firstName:"Ольга",lastName:"Павлова",age:33,visits:22,status:m.WARNING,progress:75},{id:9,firstName:"Михаил",lastName:"Новиков",age:38,visits:30,status:m.SUCCESS,progress:100},{id:10,firstName:"Татьяна",lastName:"Федорова",age:27,visits:14,status:m.ERROR,progress:50},{id:11,firstName:"Андрей",lastName:"Морозов",age:31,visits:16,status:m.SUCCESS,progress:88},{id:12,firstName:"Наталья",lastName:"Кузнецова",age:36,visits:28,status:m.WARNING,progress:72},{id:13,firstName:"Павел",lastName:"Семенов",age:42,visits:19,status:m.SUCCESS,progress:93},{id:14,firstName:"Екатерина",lastName:"Андреева",age:34,visits:24,status:m.ERROR,progress:55},{id:15,firstName:"Виктор",lastName:"Егоров",age:39,visits:21,status:m.SUCCESS,progress:82},{id:16,firstName:"Светлана",lastName:"Орлова",age:30,visits:17,status:m.WARNING,progress:68},{id:17,firstName:"Роман",lastName:"Макаров",age:37,visits:23,status:m.SUCCESS,progress:91}],pe=Qe(),qo=[pe.accessor("id",{cell:e=>e.getValue(),meta:{rowSpan:3,isNumeric:!0}}),pe.group({id:"information",header:"Информация",columns:[pe.accessor("firstName",{header:"Имя",meta:{rowSpan:2}}),pe.accessor("lastName",{header:"Фамилия",meta:{rowSpan:2}})]}),pe.group({id:"metrics",header:"Показатели",columns:[pe.accessor("age",{header:"Возраст",meta:{rowSpan:2,isNumeric:!0}}),pe.group({id:"additionalMetrics",header:"Дополнительно",columns:[pe.accessor("visits",{header:"Посещения",meta:{isNumeric:!0}}),pe.accessor("status",{header:"Статус"}),pe.accessor("progress",{header:"Прогресс",meta:{isNumeric:!0}})]})]})],Wo=()=>{const e=le({data:ko,columns:qo,getCoreRowModel:ae()});return d.jsx("div",{className:Re(_.tableContainer,_.tableGrouping),children:d.jsxs(se,{verticalBorders:!0,horizontalBorders:!0,children:[d.jsx(oe,{children:e.getHeaderGroups().map(t=>d.jsx(z,{children:t.headers.map((n,r)=>{var a,l;if(n.depth-n.column.depth>1)return null;let o=1;if(n.isPlaceholder){const u=n.getLeafHeaders();o=u[u.length-1].depth-n.depth}const i=(a=n.column.columnDef.meta)==null?void 0:a.rowSpan;return i&&(o=i),d.jsx(ne,{colSpan:n.colSpan,rowSpan:o,title:X(n.column.columnDef.header,n.getContext()),className:_.notSortable,right:((l=n.column.columnDef.meta)==null?void 0:l.isNumeric)&&r!==0},n.id)})},t.id))}),d.jsx(ie,{children:e.getRowModel().rows.map(t=>d.jsx(z,{children:t.getVisibleCells().map((n,r)=>d.jsx(K,{color:t.original.status,align:r===0?"left":void 0,...Z(n)},n.id))},t.id))})]})})},Ko=[{id:1,plantName:"СтальПром",steel:12500,iron:11e3,efficiency:92,status:m.SUCCESS},{id:2,plantName:"МеталлКомбинат",steel:13200,iron:12100,efficiency:88,status:m.WARNING},{id:3,plantName:"УралМеталл",steel:11800,iron:10500,efficiency:95,status:m.SUCCESS},{id:4,plantName:"ВостокСталь",steel:8900,iron:7800,efficiency:85,status:m.WARNING},{id:5,plantName:"МетПромКомплекс",steel:7500,iron:6900,efficiency:78,status:m.ERROR}],we=Qe(),Xo=[we.accessor("id",{header:"№",size:80,meta:{rowSpan:2,isNumeric:!0}}),we.accessor("plantName",{header:"Предприятие",size:150,meta:{rowSpan:2}}),we.group({header:"Производство (тонн/месяц)",columns:[we.accessor(e=>e.steel,{id:"steel",header:"Сталь",size:120,meta:{isNumeric:!0}}),we.accessor(e=>e.iron,{id:"iron",header:"Чугун",size:120,meta:{isNumeric:!0}})]}),we.group({header:"Показатели",columns:[we.accessor("efficiency",{header:"Эффективность (%)",cell:e=>`${e.getValue()}%`,size:150,meta:{isNumeric:!0}}),we.accessor("status",{header:"Статус",size:120})]})],Yo=()=>{const[e]=v.useState("onChange"),t=le({data:Ko,columns:Xo,getCoreRowModel:ae(),columnResizeMode:e,enableColumnResizing:!0,defaultColumn:{minSize:30,maxSize:800}});return d.jsx("div",{className:_.tableContainer,style:{width:t.getCenterTotalSize(),height:"500px"},children:d.jsxs(se,{verticalBorders:!0,horizontalBorders:!0,style:{width:t.getCenterTotalSize()},children:[d.jsx(oe,{children:t.getHeaderGroups().map(n=>d.jsx(z,{children:n.headers.map((r,s)=>{var l,u;if(!r||!r.column||r.depth-r.column.depth>1&&r.id===r.column.id)return null;let i=1;if(r.isPlaceholder){const g=r.getLeafHeaders();i=g[g.length-1].depth-r.depth}const a=(l=r.column.columnDef.meta)==null?void 0:l.rowSpan;return a&&(i=a),d.jsx(ne,{colSpan:r.colSpan,rowSpan:i,style:{width:r.getSize(),position:"relative"},drag:r.column.getCanResize(),onMouseDown:r.getResizeHandler(),onTouchStart:r.getResizeHandler(),onDoubleClick:()=>r.column.resetSize(),title:X(r.column.columnDef.header,r.getContext()),right:((u=r.column.columnDef.meta)==null?void 0:u.isNumeric)&&s!==0},r.id)})},n.id))}),d.jsx(ie,{children:t.getRowModel().rows.map(n=>d.jsx(z,{children:n.getVisibleCells().map((r,s)=>d.jsx(K,{style:{width:r.column.getSize()},align:s===0?"left":void 0,...Z(r)},r.id))},n.id))})]})})};de.DEFAULT,de.SELECTED,de.ACTIVE,de.DISABLED;m.DEFAULT,m.ERROR,m.SUCCESS,m.WARNING;const Zo=[{id:"select",header:({table:e})=>d.jsx(ye,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:d.jsx(ye,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56,meta:{className:""}},{header:"ID",accessorKey:"id",meta:{className:_.notSortable,isNumeric:!0}},{header:"Name",accessorKey:"name",meta:{className:_.notSortable}},{header:"Age",accessorKey:"age",meta:{className:_.notSortable,isNumeric:!0}},{header:"Production Date",accessorKey:"productionDate",meta:{className:_.notSortable}},{header:"Status",accessorKey:"status",meta:{className:_.notSortable}}],Qo=[{id:1,name:"Сталь",age:25,status:m.DEFAULT,productionDate:new Date("2023-01-10")},{id:2,name:"Металл",age:30,status:m.SUCCESS,productionDate:new Date("2023-02-15")},{id:3,name:"Чугун",age:40,status:m.ERROR,productionDate:new Date("2023-03-20")},{id:4,name:"Алюминий",age:22,status:m.DEFAULT,productionDate:new Date("2023-04-05")},{id:5,name:"Медь",age:35,status:m.SUCCESS,productionDate:new Date("2023-05-10")},{id:6,name:"Титан",age:28,status:m.ERROR,productionDate:new Date("2023-06-18")},{id:7,name:"Бронза",age:27,status:m.DEFAULT,productionDate:new Date("2023-07-01")},{id:8,name:"Латунь",age:32,status:m.SUCCESS,productionDate:new Date("2023-08-12")},{id:9,name:"Никель",age:38,status:m.ERROR,productionDate:new Date("2023-09-15")},{id:10,name:"Цинк",age:24,status:m.DEFAULT,productionDate:new Date("2023-10-20")},{id:11,name:"Свинец",age:29,status:m.SUCCESS,productionDate:new Date("2023-11-05")},{id:12,name:"Олово",age:33,status:m.ERROR,productionDate:new Date("2023-12-15")}],Jo=()=>{const[e,t]=v.useState({}),n=le({data:Qo,columns:Zo,state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:ae()});return d.jsx("div",{className:_.tableContainer,children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{children:n.getHeaderGroups().map(r=>d.jsx(z,{children:r.headers.map((s,o)=>{var i,a;return d.jsx(ne,{className:(i=s.column.columnDef.meta)==null?void 0:i.className,title:s.column.columnDef.id!=="select"?String(s.column.columnDef.header):"",right:((a=s.column.columnDef.meta)==null?void 0:a.isNumeric)&&o!==1,children:s.column.columnDef.id==="select"?X(s.column.columnDef.header,s.getContext()):null},s.id)})},r.id))}),d.jsx(ie,{children:n.getRowModel().rows.map(r=>{const s=r.getIsSelected();return d.jsx(z,{children:r.getVisibleCells().map((o,i)=>d.jsx(K,{state:s?de.SELECTED:de.DEFAULT,style:{width:o.column.getSize()},align:i===1?"left":void 0,...o.column.id!=="select"?Z(o):{},children:o.column.id==="select"?X(o.column.columnDef.cell,o.getContext()):null},o.id))},r.id)})})]})})},ei=[{id:"select",header:({table:e})=>d.jsx(ye,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:d.jsx(ye,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56,meta:{className:""}},{header:"ID",accessorKey:"id",size:80,meta:{className:_.notSortable,isNumeric:!0}},{header:"Наименование руды",accessorKey:"name",size:200,meta:{className:_.notSortable}},{header:"Тип",accessorKey:"category",size:150,meta:{className:_.notSortable}},{header:"Содержание Fe, %",accessorKey:"ironContent",cell:e=>`${Number(e.getValue()).toFixed(1)}%`,size:250,meta:{className:_.notSortable,isNumeric:!0}},{header:"Статус добычи",accessorKey:"status",size:250,meta:{className:_.notSortable}},{header:"Дата анализа",accessorKey:"lastUpdated",cell:e=>e.getValue().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),size:180,meta:{className:_.notSortable}}],Pe=[{id:1,name:"Магнетитовая руда",category:"Магнетитовые",ironContent:65,status:m.SUCCESS,lastUpdated:new Date("2024-02-15")},{id:2,name:"Гематитовая руда",category:"Гематитовые",ironContent:58,status:m.DEFAULT,lastUpdated:new Date("2024-02-14")},{id:3,name:"Сидеритовая руда",category:"Карбонатные",ironContent:35,status:m.ERROR,lastUpdated:new Date("2024-02-13")},{id:4,name:"Лимонитовая руда",category:"Бурые железняки",ironContent:55,status:m.SUCCESS,lastUpdated:new Date("2024-02-12")},{id:5,name:"Титаномагнетит",category:"Комплексные",ironContent:50,status:m.DEFAULT,lastUpdated:new Date("2024-02-11")},{id:6,name:"Мартитовая руда",category:"Магнетитовые",ironContent:63,status:m.SUCCESS,lastUpdated:new Date("2024-02-10")},{id:7,name:"Гётитовая руда",category:"Бурые железняки",ironContent:48,status:m.ERROR,lastUpdated:new Date("2024-02-09")},{id:8,name:"Железистые кварциты",category:"Метаморфические",ironContent:40,status:m.DEFAULT,lastUpdated:new Date("2024-02-08")},{id:9,name:"Магномагнетит",category:"Комплексные",ironContent:52,status:m.SUCCESS,lastUpdated:new Date("2024-02-07")},{id:10,name:"Красный железняк",category:"Гематитовые",ironContent:60,status:m.DEFAULT,lastUpdated:new Date("2024-02-06")},{id:11,name:"Бурый железняк",category:"Бурые железняки",ironContent:45,status:m.ERROR,lastUpdated:new Date("2024-02-05")},{id:12,name:"Шпатовый железняк",category:"Карбонатные",ironContent:38,status:m.SUCCESS,lastUpdated:new Date("2024-02-04")},{id:13,name:"Богословская руда",category:"Гематитовые",ironContent:62,status:m.WARNING,lastUpdated:new Date("2024-02-03")},{id:14,name:"Оолитовый железняк",category:"Бурые железняки",ironContent:42,status:m.WARNING,lastUpdated:new Date("2024-02-02")},{id:15,name:"Текитовая руда",category:"Метаморфические",ironContent:54,status:m.ERROR,lastUpdated:new Date("2024-02-01")},{id:16,name:"Элменитовая руда",category:"Комплексные",ironContent:47,status:m.DEFAULT,lastUpdated:new Date("2024-01-31")},{id:17,name:"Хромистый железняк",category:"Комплексные",ironContent:58,status:m.SUCCESS,lastUpdated:new Date("2024-01-30")},{id:18,name:"Гематитовый песчаник",category:"Гематитовые",ironContent:61,status:m.WARNING,lastUpdated:new Date("2024-01-29")},{id:19,name:"Сидеритовый сланец",category:"Карбонатные",ironContent:36,status:m.ERROR,lastUpdated:new Date("2024-01-28")},{id:20,name:"Железная штейн",category:"Магнетитовые",ironContent:64,status:m.SUCCESS,lastUpdated:new Date("2024-01-27")}],ti=()=>{const[e,t]=v.useState(1),[n,r]=v.useState(10),[s,o]=v.useState({}),i=le({data:Pe,columns:ei,state:{pagination:{pageIndex:e-1,pageSize:n},rowSelection:s},enableRowSelection:!0,onRowSelectionChange:o,getCoreRowModel:ae(),getPaginationRowModel:oo()}),a=i.getSelectedRowModel().rows.length;return d.jsxs(d.Fragment,{children:[d.jsx(be,{variant:"Body1-Bold",color:"var(--steel-90)",children:a>0?`Выбрано элементов: ${a} из ${Pe.length}`:`Всего элементов: ${Pe.length}`}),d.jsxs("div",{className:_.tableContainer,style:{height:"100%"},children:[d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{children:i.getHeaderGroups().map(l=>d.jsx(z,{children:l.headers.map((u,g)=>{var p,f;return d.jsx(ne,{className:(p=u.column.columnDef.meta)==null?void 0:p.className,title:u.column.columnDef.id!=="select"?String(u.column.columnDef.header):"",right:((f=u.column.columnDef.meta)==null?void 0:f.isNumeric)&&g!==1,children:u.column.columnDef.id==="select"?X(u.column.columnDef.header,u.getContext()):null},u.id)})},l.id))}),d.jsx(ie,{children:i.getRowModel().rows.map(l=>{const u=l.getIsSelected();return d.jsx(z,{children:l.getVisibleCells().map((g,p)=>d.jsx(K,{state:u?de.SELECTED:de.DEFAULT,style:{width:g.column.getSize()},align:p===1?"left":void 0,...g.column.id!=="select"?Z(g):{},children:g.column.id==="select"?X(g.column.columnDef.cell,g.getContext()):null},g.id))},l.id)})})]}),d.jsx(Wr,{currentPage:e,setCurrentPage:t,elementsPerPage:n,setElementsPerPage:r,pageSizes:[10,15,Pe.length],withSelect:!0,maxPageCount:Math.ceil(Pe.length/n)})]})]})};var Me=(e=>(e[e.InProcess=0]="InProcess",e[e.Done=1]="Done",e))(Me||{});const cn=["Никель","Олово","Медь","Цинк","Алюминий","Железо"],dn=["Алтай","СГОК","Стагдок","Атриум","Пилигрим","МелТЭК"],ni=Array.from({length:20},(e,t)=>{const n=cn[Math.floor(Math.random()*cn.length)],r=dn[Math.floor(Math.random()*dn.length)],s=Math.floor(Math.random()*1e3)+100,o=Math.random()>.5?s:Math.floor(Math.random()*(s+1)),i=o===s?Me.Done:Me.InProcess;return{id:t+1,name:n,plan:s,fact:o,enterprise:r,status:i}}),Oe=Qe(),ri=[{id:"select",header:({table:e})=>d.jsx(ye,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:d.jsx(ye,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),meta:{rowSpan:2},size:56},Oe.accessor("name",{header:"Название",meta:{rowSpan:2}}),Oe.group({header:"Объем продукции",columns:[Oe.accessor(e=>e.plan,{id:"plan",header:"План",meta:{isNumeric:!0}}),Oe.accessor(e=>e.fact,{id:"fact",header:"Факт",meta:{isNumeric:!0,isLastInGroup:!0}})]}),Oe.accessor("enterprise",{header:"Предприятие",meta:{rowSpan:2}}),Oe.accessor("status",{header:"Статус",cell:({cell:e})=>{const t=e.getValue(),n=t===Me.Done?"IconDoneCheckOutlined24":"IconScheduleTimeWatchOutlined24",r=t===Me.Done?"success":"warning",s=t===Me.Done?"Выполнен":"В процессе",o={color:r,icon:n};return d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:d.jsx(hr,{...o,children:s})})},meta:{rowSpan:2}})],si=()=>{const[e,t]=v.useState({}),n=le({data:ni,columns:ri,state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:ae()}),r=v.useMemo(()=>["select","status"],[]);return d.jsx("div",{className:Re(_.tableContainer,_.tableGrouping),children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{children:n.getHeaderGroups().map(s=>d.jsx(z,{children:s.headers.map((o,i)=>{var f,c,h;if(o.depth-o.column.depth>1)return null;let l=1;if(o.isPlaceholder){const S=o.getLeafHeaders();l=S[S.length-1].depth-o.depth}const u=(f=o.column.columnDef.meta)==null?void 0:f.rowSpan;u&&(l=u);const g=o.column.id==="select",p=(c=o.column.columnDef.meta)==null?void 0:c.isLastInGroup;return d.jsx(ne,{colSpan:o.colSpan,rowSpan:l,title:o.column.columnDef.id!=="select"?String(o.column.columnDef.header):"",right:((h=o.column.columnDef.meta)==null?void 0:h.isNumeric)&&i!==1,lastInGroup:p,className:Re({[_.notSortable]:!g}),children:g?X(o.column.columnDef.header,o.getContext()):null},o.id)})},s.id))}),d.jsx(ie,{children:n.getRowModel().rows.map(s=>{const o=s.getIsSelected();return d.jsx(z,{children:s.getVisibleCells().map((i,a)=>d.jsx(K,{state:o?de.SELECTED:de.DEFAULT,style:{width:i.column.getSize()},align:a===1?"left":void 0,...i.column.id!=="select"?Z(i):{},children:r.includes(i.column.id)?X(i.column.columnDef.cell,i.getContext()):null},i.id))},s.id)})})]})})},gn=["Никель","Олово","Медь","Цинк","Алюминий","Железо"],fn=["Алтай","СГОК","Стагдок","Атриум","Пилигрим","МелТЭК"],hn=Array.from({length:1e3},(e,t)=>{const n=gn[Math.floor(Math.random()*gn.length)],r=fn[Math.floor(Math.random()*fn.length)],s=Math.floor(Math.random()*1e3)+100,o=new Date(Date.now()+t*36e5);return{id:t+1,name:n,plan:s,date:o,enterprise:r}}),st=Qe(),oi=[{id:"select",header:({table:e})=>d.jsx(ye,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:d.jsx(ye,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56},st.accessor("name",{header:"Название сырья",size:180}),st.accessor("plan",{header:"Плановый объем",meta:{isNumeric:!0}}),st.accessor("date",{header:"Сроки поставки",cell:e=>e.getValue().toLocaleString(),size:180}),st.accessor("enterprise",{header:"Предприятие"})],ii=()=>{const[e,t]=v.useState({}),n=le({data:v.useMemo(()=>hn,[]),columns:v.useMemo(()=>oi,[]),state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:ae()}),r=n.getRowModel().rows,s=v.useRef(null),o=Wt({count:r.length,getScrollElement:()=>s.current,estimateSize:()=>56,overscan:5,measureElement:i=>(i==null?void 0:i.getBoundingClientRect().height)??0});return d.jsxs("div",{children:[d.jsxs(be,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",hn.length," rows)"]}),d.jsx("div",{className:Re(_.tableContainer,_.tableContainer_autoWidth),ref:s,children:d.jsxs(se,{style:{display:"grid"},horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{style:{display:"grid",position:"sticky",top:0,zIndex:1},children:n.getHeaderGroups().map(i=>d.jsx(z,{style:{display:"flex",width:"100%"},children:i.headers.map((a,l)=>{var p;const u=a.getSize(),g=a.column.columnDef.id==="select";return d.jsx(ne,{style:{display:"flex",width:u},className:Re({[_.notSortable]:!g}),title:X(a.column.columnDef.header,a.getContext()),right:((p=a.column.columnDef.meta)==null?void 0:p.isNumeric)&&l!==1},a.id)})},i.id))}),d.jsx(ie,{style:{display:"grid",position:"relative",height:o.getTotalSize()},children:o.getVirtualItems().map(i=>{const a=r[i.index];return d.jsx(z,{ref:l=>{l&&o.measureElement(l)},style:{position:"absolute",transform:`translateY(${i.start}px)`,display:"flex",width:"100%"},children:a.getVisibleCells().map((l,u)=>{const g=a.getIsSelected();return d.jsx(K,{state:g?de.SELECTED:de.DEFAULT,style:{width:l.column.getSize()},align:u===1?"left":void 0,...l.column.id!=="select"?Z(l):{},children:l.column.id==="select"?X(l.column.columnDef.cell,l.getContext()):null},l.id)})},a.id)})})]})})]})},ve=Qe(),Ae=[{header:"Личные данные",id:"personalInfo",meta:{rowSpan:1},columns:[ve.accessor("id",{header:"ID",cell:e=>e.getValue(),meta:{title:"Идентификатор",size:80}}),ve.accessor("firstName",{header:"Имя",cell:e=>e.getValue(),meta:{title:"Имя сотрудника",size:120}}),ve.accessor("lastName",{header:"Фамилия",cell:e=>e.getValue(),meta:{title:"Фамилия сотрудника",size:130}}),ve.accessor("age",{header:"Возраст",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Возраст сотрудника",size:80}})]},{header:"Рабочая информация",id:"workInfo",meta:{rowSpan:1},columns:[ve.accessor("department",{header:"Отдел",cell:e=>e.getValue(),meta:{title:"Отдел",size:120}}),ve.accessor("position",{header:"Должность",cell:e=>e.getValue(),meta:{title:"Должность",size:160}})]},{header:"Статистика",id:"statistics",meta:{rowSpan:1},columns:[ve.accessor("visits",{header:"Посещения",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Количество посещений",size:100}}),ve.accessor("status",{header:"Статус",cell:e=>e.getValue(),meta:{title:"Текущий статус",size:120}}),ve.accessor("progress",{header:"Прогресс",cell:e=>`${e.getValue()}%`,meta:{isNumeric:!0,title:"Процент выполнения",size:90}})]}],ai=[{id:"1",firstName:"Алексей",lastName:"Иванов",age:35,visits:12,status:"Активен",progress:78,department:"ИТ",position:"Разработчик"},{id:"2",firstName:"Елена",lastName:"Петрова",age:28,visits:8,status:"Активен",progress:62,department:"Маркетинг",position:"Менеджер"},{id:"3",firstName:"Дмитрий",lastName:"Смирнов",age:42,visits:5,status:"Отпуск",progress:91,department:"Руководство",position:"Директор"},{id:"4",firstName:"Ольга",lastName:"Козлова",age:31,visits:15,status:"Активен",progress:45,department:"Продажи",position:"Менеджер"},{id:"5",firstName:"Николай",lastName:"Морозов",age:39,visits:3,status:"Больничный",progress:27,department:"ИТ",position:"Архитектор"},{id:"6",firstName:"Мария",lastName:"Васильева",age:25,visits:18,status:"Активен",progress:84,department:"HR",position:"Специалист"},{id:"7",firstName:"Андрей",lastName:"Соколов",age:33,visits:9,status:"Активен",progress:53,department:"Бухгалтерия",position:"Главный бухгалтер"},{id:"8",firstName:"Ирина",lastName:"Новикова",age:29,visits:7,status:"Активен",progress:68,department:"Маркетинг",position:"Аналитик"},{id:"9",firstName:"Сергей",lastName:"Попов",age:44,visits:4,status:"Командировка",progress:96,department:"Продажи",position:"Руководитель отдела"},{id:"10",firstName:"Анна",lastName:"Кузнецова",age:27,visits:10,status:"Активен",progress:71,department:"ИТ",position:"Тестировщик"}],br=v.createContext({dragDropManager:void 0});function O(e,t,...n){if(li()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function li(){return typeof process<"u"&&!0}function ui(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function ci(e,t){return e.filter(n=>n!==t)}function Tr(e){return typeof e=="object"}function di(e,t){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((o,i)=>{o===1&&s.push(i)}),s}function gi(e,t){return e.filter(n=>t.indexOf(n)>-1)}const Kt="dnd-core/INIT_COORDS",ut="dnd-core/BEGIN_DRAG",Xt="dnd-core/PUBLISH_DRAG_SOURCE",ct="dnd-core/HOVER",dt="dnd-core/DROP",gt="dnd-core/END_DRAG";function pn(e,t){return{type:Kt,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const fi={type:Kt,payload:{clientOffset:null,sourceClientOffset:null}};function hi(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:i}=r,a=e.getMonitor(),l=e.getRegistry();e.dispatch(pn(o)),pi(n,a,l);const u=Ci(n,a);if(u==null){e.dispatch(fi);return}let g=null;if(o){if(!i)throw new Error("getSourceClientOffset must be defined");mi(i),g=i(u)}e.dispatch(pn(o,g));const f=l.getSource(u).beginDrag(a,u);if(f==null)return;Si(f),l.pinSource(u);const c=l.getSourceType(u);return{type:ut,payload:{itemType:c,item:f,sourceId:u,clientOffset:o||null,sourceClientOffset:g||null,isSourcePublic:!!s}}}}function pi(e,t,n){O(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){O(n.getSource(r),"Expected sourceIds to be registered.")})}function mi(e){O(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Si(e){O(Tr(e),"Item must be an object.")}function Ci(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){vi(e,s,n[s])})}return e}function wi(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();Ei(r),xi(r).forEach((i,a)=>{const l=Ri(i,a,s,r),u={type:dt,payload:{dropResult:Di({},n,l)}};e.dispatch(u)})}}function Ei(e){O(e.isDragging(),"Cannot call drop while not dragging."),O(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ri(e,t,n,r){const s=n.getTarget(e);let o=s?s.drop(r,e):void 0;return yi(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function yi(e){O(typeof e>"u"||Tr(e),"Drop result must either be an object or undefined.")}function xi(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Ii(e){return function(){const n=e.getMonitor(),r=e.getRegistry();bi(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:gt}}}function bi(e){O(e.isDragging(),"Cannot call endDrag while not dragging.")}function Pt(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function Ti(e){return function(n,{clientOffset:r}={}){Oi(n);const s=n.slice(0),o=e.getMonitor(),i=e.getRegistry(),a=o.getItemType();return Mi(s,i,a),_i(s,o,i),Fi(s,o,i),{type:ct,payload:{targetIds:s,clientOffset:r||null}}}}function Oi(e){O(Array.isArray(e),"Expected targetIds to be an array.")}function _i(e,t,n){O(t.isDragging(),"Cannot call hover while not dragging."),O(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];O(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(s);O(o,"Expected targetIds to be registered.")}}function Mi(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],o=t.getTargetType(s);Pt(o,n)||e.splice(r,1)}}function Fi(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function Ni(e){return function(){if(e.getMonitor().isDragging())return{type:Xt}}}function Pi(e){return{beginDrag:hi(e),publishDragSource:Ni(e),hover:Ti(e),drop:wi(e),endDrag:Ii(e)}}class Ai{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(o){return(...i)=>{const a=o.apply(t,i);typeof a<"u"&&n(a)}}const s=Pi(this);return Object.keys(s).reduce((o,i)=>{const a=s[i];return o[i]=r(a),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Vi(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Or(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zi(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Or(Vi(t,r),n)}function ji(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Or(t,n)}const Ze=[],Yt=[];Ze.__IS_NONE__=!0;Yt.__IS_ALL__=!0;function $i(e,t){return e===Ze?!1:e===Yt||typeof t>"u"?!0:gi(t,e).length>0}class Li{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;O(typeof t=="function","listener must be a function."),O(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const i=this.store.getState(),a=i.stateId;try{a===s||a===s+1&&!$i(i.dirtyHandlerIds,r)||t()}finally{s=a}};return this.store.subscribe(o)}subscribeToOffsetChange(t){O(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return O(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(O(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return Pt(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(O(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),o=this.getItemType();if(o&&!Pt(s,o))return!1;const i=this.getTargetIds();if(!i.length)return!1;const a=i.indexOf(t);return r?a===i.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return zi(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return ji(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const mn=typeof global<"u"?global:self,_r=mn.MutationObserver||mn.WebKitMutationObserver;function Mr(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function Hi(e){let t=1;const n=new _r(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Bi=typeof _r=="function"?Hi:Mr;class Ui{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Bi(this.flush),this.requestErrorThrow=Mr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Gi{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class ki{create(t){const n=this.freeTasks,r=n.length?n.pop():new Gi(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Fr=new Ui,qi=new ki(Fr.registerPendingError);function Wi(e){Fr.enqueueTask(qi.create(e))}const Zt="dnd-core/ADD_SOURCE",Qt="dnd-core/ADD_TARGET",Jt="dnd-core/REMOVE_SOURCE",ft="dnd-core/REMOVE_TARGET";function Ki(e){return{type:Zt,payload:{sourceId:e}}}function Xi(e){return{type:Qt,payload:{targetId:e}}}function Yi(e){return{type:Jt,payload:{sourceId:e}}}function Zi(e){return{type:ft,payload:{targetId:e}}}function Qi(e){O(typeof e.canDrag=="function","Expected canDrag to be a function."),O(typeof e.beginDrag=="function","Expected beginDrag to be a function."),O(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Ji(e){O(typeof e.canDrop=="function","Expected canDrop to be a function."),O(typeof e.hover=="function","Expected hover to be a function."),O(typeof e.drop=="function","Expected beginDrag to be a function.")}function At(e,t){if(t&&Array.isArray(e)){e.forEach(n=>At(n,!1));return}O(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ce;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ce||(ce={}));let ea=0;function ta(){return ea++}function na(e){const t=ta().toString();switch(e){case ce.SOURCE:return`S${t}`;case ce.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Sn(e){switch(e[0]){case"S":return ce.SOURCE;case"T":return ce.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Cn(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,o]}=n.next();if(o===t)return!0;r=!!s}while(!r);return!1}class ra{addSource(t,n){At(t),Qi(n);const r=this.addHandler(ce.SOURCE,t,n);return this.store.dispatch(Ki(r)),r}addTarget(t,n){At(t,!0),Ji(n);const r=this.addHandler(ce.TARGET,t,n);return this.store.dispatch(Xi(r)),r}containsHandler(t){return Cn(this.dragSources,t)||Cn(this.dropTargets,t)}getSource(t,n=!1){return O(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return O(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return O(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return O(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Sn(t)===ce.SOURCE}isTargetId(t){return Sn(t)===ce.TARGET}removeSource(t){O(this.getSource(t),"Expected an existing source."),this.store.dispatch(Yi(t)),Wi(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){O(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Zi(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);O(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){O(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=na(t);return this.types.set(s,n),t===ce.SOURCE?this.dragSources.set(s,r):t===ce.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const sa=(e,t)=>e===t;function oa(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function ia(e,t,n=sa){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function aa(e=Ze,t){switch(t.type){case ct:break;case Zt:case Qt:case ft:case Jt:return Ze;case ut:case Xt:case gt:case dt:default:return Yt}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=di(n,r);if(!(s.length>0||!ia(n,r)))return Ze;const i=r[r.length-1],a=n[n.length-1];return i!==a&&(i&&s.push(i),a&&s.push(a)),s}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){la(e,s,n[s])})}return e}const vn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ca(e=vn,t){const{payload:n}=t;switch(t.type){case Kt:case ut:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ct:return oa(e.clientOffset,n.clientOffset)?e:ua({},e,{clientOffset:n.clientOffset});case gt:case dt:return vn;default:return e}}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){da(e,s,n[s])})}return e}const ga={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function fa(e=ga,t){const{payload:n}=t;switch(t.type){case ut:return _e({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Xt:return _e({},e,{isSourcePublic:!0});case ct:return _e({},e,{targetIds:n.targetIds});case ft:return e.targetIds.indexOf(n.targetId)===-1?e:_e({},e,{targetIds:ci(e.targetIds,n.targetId)});case dt:return _e({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case gt:return _e({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ha(e=0,t){switch(t.type){case Zt:case Qt:return e+1;case Jt:case ft:return e-1;default:return e}}function pa(e=0){return e+1}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){ma(e,s,n[s])})}return e}function Ca(e={},t){return{dirtyHandlerIds:aa(e.dirtyHandlerIds,{type:t.type,payload:Sa({},t.payload,{prevTargetIds:ui(e,"dragOperation.targetIds",[])})}),dragOffset:ca(e.dragOffset,t),refCount:ha(e.refCount,t),dragOperation:fa(e.dragOperation,t),stateId:pa(e.stateId)}}function va(e,t=void 0,n={},r=!1){const s=Da(r),o=new Li(s,new ra(s)),i=new Ai(s,o),a=e(i,t,n);return i.receiveBackend(a),i}function Da(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Kr(Ca,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function wa(e,t){if(e==null)return{};var n=Ea(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ea(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let Dn=0;const at=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ra=v.memo(function(t){var{children:n}=t,r=wa(t,["children"]);const[s,o]=ya(r);return v.useEffect(()=>{if(o){const i=Nr();return++Dn,()=>{--Dn===0&&(i[at]=null)}}},[]),d.jsx(br.Provider,{value:s,children:n})});function ya(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=xa(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function xa(e,t=Nr(),n,r){const s=t;return s[at]||(s[at]={dragDropManager:va(e,t,n,r)}),s[at]}function Nr(){return typeof global<"u"?global:window}var Ia=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const ba=es(Ia),Ie=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Ta(e,t,n){const[r,s]=v.useState(()=>t(e)),o=v.useCallback(()=>{const i=t(e);ba(r,i)||(s(i),n&&n())},[r,e,n]);return Ie(o),[r,o]}function Oa(e,t,n){const[r,s]=Ta(e,t,n);return Ie(function(){const i=e.getHandlerId();if(i!=null)return e.subscribeToStateChange(s,{handlerIds:[i]})},[e,s]),r}function Pr(e,t,n){return Oa(t,e||(()=>({})),()=>n.reconnect())}function Ar(e,t){const n=[];return typeof e!="function"&&n.push(e),v.useMemo(()=>typeof e=="function"?e():e,n)}function _a(e){return v.useMemo(()=>e.hooks.dragSource(),[e])}function Ma(e){return v.useMemo(()=>e.hooks.dragPreview(),[e])}let yt=!1,xt=!1;class Fa{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){O(!yt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return yt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{yt=!1}}isDragging(){if(!this.sourceId)return!1;O(!xt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return xt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{xt=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let It=!1;class Na{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;O(!It,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return It=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{It=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Pa(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function Aa(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function Vt(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<o.length;l++){const u=o[l];if(!a(u))return!1;const g=e[u],p=t[u];if(s=void 0,s===!1||s===void 0&&g!==p)return!1}return!0}function zt(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Va(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function za(e){return(t=null,n=null)=>{if(!v.isValidElement(t)){const o=t;return e(o,n),o}const r=t;return Va(r),ja(r,n?o=>e(o,n):e)}}function Vr(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=za(r);t[n]=()=>s}}),t}function wn(e,t){typeof e=="function"?e(t):e.current=t}function ja(e,t){const n=e.ref;return O(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?v.cloneElement(e,{ref:r=>{wn(n,r),wn(t,r)}}):v.cloneElement(e,{ref:t})}class $a{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Vt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Vt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Vr({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,zt(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,zt(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class La{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Vt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Vr({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,zt(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Fe(){const{dragDropManager:e}=v.useContext(br);return O(e!=null,"Expected drag drop context"),e}function Ha(e,t){const n=Fe(),r=v.useMemo(()=>new $a(n.getBackend()),[n]);return Ie(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),Ie(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function Ba(){const e=Fe();return v.useMemo(()=>new Fa(e),[e])}class Ua{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:o}=r;return o?o(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function Ga(e,t,n){const r=v.useMemo(()=>new Ua(e,t,n),[t,n]);return v.useEffect(()=>{r.spec=e},[e]),r}function ka(e){return v.useMemo(()=>{const t=e.type;return O(t!=null,"spec.type must be defined"),t},[e])}function qa(e,t,n){const r=Fe(),s=Ga(e,t,n),o=ka(e);Ie(function(){if(o!=null){const[a,l]=Aa(o,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),l}},[r,t,n,s,o])}function Wa(e,t){const n=Ar(e);O(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Ba(),s=Ha(n.options,n.previewOptions);return qa(n,r,s),[Pr(n.collect,r,s),_a(s),Ma(s)]}function Ka(e){return v.useMemo(()=>e.hooks.dropTarget(),[e])}function Xa(e){const t=Fe(),n=v.useMemo(()=>new La(t.getBackend()),[t]);return Ie(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function Ya(){const e=Fe();return v.useMemo(()=>new Na(e),[e])}function Za(e){const{accept:t}=e;return v.useMemo(()=>(O(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class Qa{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function Ja(e,t){const n=v.useMemo(()=>new Qa(e,t),[t]);return v.useEffect(()=>{n.spec=e},[e]),n}function el(e,t,n){const r=Fe(),s=Ja(e,t),o=Za(e);Ie(function(){const[a,l]=Pa(o,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),l},[r,t,s,n,o.map(i=>i.toString()).join("|")])}function En(e,t){const n=Ar(e),r=Ya(),s=Xa(n.options);return el(n,r,s),[Pr(n.collect,r,s),Ka(s)]}function zr(e){let t=null;return()=>(t==null&&(t=e()),t)}function tl(e,t){return e.filter(n=>n!==t)}function nl(e,t){const n=new Set,r=o=>n.add(o);e.forEach(r),t.forEach(r);const s=[];return n.forEach(o=>s.push(o)),s}class rl{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=nl(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=tl(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class sl{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const jr="__NATIVE_FILE__",$r="__NATIVE_URL__",Lr="__NATIVE_TEXT__",Hr="__NATIVE_HTML__",Rn=Object.freeze(Object.defineProperty({__proto__:null,FILE:jr,HTML:Hr,TEXT:Lr,URL:$r},Symbol.toStringTag,{value:"Module"}));function bt(e,t,n){const r=t.reduce((s,o)=>s||e.getData(o),"");return r??n}const jt={[jr]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Hr]:{exposeProperties:{html:(e,t)=>bt(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[$r]:{exposeProperties:{urls:(e,t)=>bt(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Lr]:{exposeProperties:{text:(e,t)=>bt(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function ol(e,t){const n=jt[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new sl(n);return r.loadDataTransfer(t),r}function Tt(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(jt).filter(n=>{const r=jt[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const il=zr(()=>/firefox/i.test(navigator.userAgent)),Br=zr(()=>!!window.safari);class yn{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:o,c3s:i}=this;let a=n.length-1;if(t===n[a])return r[a];let l=0,u=i.length-1,g;for(;l<=u;){g=Math.floor(.5*(l+u));const c=n[g];if(c<t)l=g+1;else if(c>t)u=g-1;else return r[g]}a=Math.max(0,u);const p=t-n[a],f=p*p;return r[a]+s[a]*p+o[a]*f+i[a]*p*f}constructor(t,n){const{length:r}=t,s=[];for(let c=0;c<r;c++)s.push(c);s.sort((c,h)=>t[c]<t[h]?-1:1);const o=[],i=[];let a,l;for(let c=0;c<r-1;c++)a=t[c+1]-t[c],l=n[c+1]-n[c],o.push(a),i.push(l/a);const u=[i[0]];for(let c=0;c<o.length-1;c++){const h=i[c],S=i[c+1];if(h*S<=0)u.push(0);else{a=o[c];const C=o[c+1],D=a+C;u.push(3*D/((D+C)/h+(D+a)/S))}}u.push(i[i.length-1]);const g=[],p=[];let f;for(let c=0;c<u.length-1;c++){f=i[c];const h=u[c],S=1/o[c],C=h+u[c+1]-f-f;g.push((f-h-C)*S),p.push(C*S*S)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=g,this.c3s=p}}const al=1;function Ur(e){const t=e.nodeType===al?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function ot(e){return{x:e.clientX,y:e.clientY}}function ll(e){var t;return e.nodeName==="IMG"&&(il()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function ul(e,t,n,r){let s=e?t.width:n,o=e?t.height:r;return Br()&&e&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function cl(e,t,n,r,s){const o=ll(t),a=Ur(o?e:t),l={x:n.x-a.x,y:n.y-a.y},{offsetWidth:u,offsetHeight:g}=e,{anchorX:p,anchorY:f}=r,{dragPreviewWidth:c,dragPreviewHeight:h}=ul(o,t,u,g),S=()=>{let x=new yn([0,.5,1],[l.y,l.y/g*h,l.y+h-g]).interpolate(f);return Br()&&o&&(x+=(window.devicePixelRatio-1)*h),x},C=()=>new yn([0,.5,1],[l.x,l.x/u*c,l.x+c-u]).interpolate(p),{offsetX:D,offsetY:E}=s,R=D===0||D,j=E===0||E;return{x:R?D:C(),y:j?E:S()}}class dl{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){gl(e,s,n[s])})}return e}class fl{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=i=>this.handleDragStart(i,t),o=i=>this.handleSelectStart(i);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=i=>this.handleDragEnter(i,t),s=i=>this.handleDragOver(i,t),o=i=>this.handleDrop(i,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return xn({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return xn({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Rn).some(n=>Rn[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=ol(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&Ur(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const i=ot(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:i});const{dataTransfer:a}=s,l=Tt(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const g=this.monitor.getSourceId(),p=this.sourceNodes.get(g),f=this.sourcePreviewNodes.get(g)||p;if(f){const{anchorX:c,anchorY:h,offsetX:S,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),R=cl(p,f,i,{anchorX:c,anchorY:h},{offsetX:S,offsetY:C});a.setDragImage(f,R.x,R.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=Tt(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:ot(s)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ot(s),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else Tt(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:ot(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new dl(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new rl(this.isNodeInDocument)}}const hl=function(t,n,r){return new fl(t,n,r)},pl="_columnListContainer_1psfi_1",ml="_droppableArea_1psfi_10",Sl="_customSettingsContainer_1psfi_17",Cl="_searchBox_1psfi_27",vl="_buttonsGroup_1psfi_31",Dl="_column_1psfi_1",wl="_dragging_1psfi_41",El="_dropTarget_1psfi_47",Rl="_childColumns_1psfi_53",yl="_dropZone_1psfi_58",xl="_dropIndicator_1psfi_64",Il="_drawer_1psfi_72",me={columnListContainer:pl,droppableArea:ml,customSettingsContainer:Sl,searchBox:Cl,buttonsGroup:vl,column:Dl,dragging:wl,dropTarget:El,childColumns:Rl,dropZone:yl,dropIndicator:xl,drawer:Il},it="column",$t=({columns:e,visibleColumns:t,pinnedColumns:n,onVisibilityChange:r,onPinChange:s,columnOrder:o,onOrderChange:i})=>{const[a,l]=v.useState({}),[u,g]=v.useState({rootIds:[],parentMap:{},childrenMap:{},columnsMap:{},levels:{}});v.useEffect(()=>{const w=[],x={},y={},H={},A={},P=(G,k,Y=0)=>{G.forEach(B=>{const q=B.id||(typeof B.accessorKey=="string"?B.accessorKey:null);q&&(H[q]=B,A[q]=Y,k?(x[q]=k,y[k]||(y[k]=[]),y[k].push(q)):w.push(q),B.columns&&Array.isArray(B.columns)&&P(B.columns,q,Y+1))})};P(e),g({rootIds:w,parentMap:x,childrenMap:y,columnsMap:H,levels:A});const $={};Object.keys(y).forEach(G=>{$[G]=!1}),l($)},[e]);const p=v.useCallback(w=>{l(x=>({...x,[w]:!x[w]}))},[]),f=v.useCallback((w="")=>{const{rootIds:x,childrenMap:y}=u,H=w?y[w]||[]:x;return[...H].sort((A,P)=>{const $=o.indexOf(A),G=o.indexOf(P);return $!==-1&&G!==-1?$-G:$!==-1?-1:G!==-1?1:H.indexOf(A)-H.indexOf(P)})},[u,o]),c=v.useCallback((w,x)=>{r(w,x);const y=[],H=P=>{(u.childrenMap[P]||[]).forEach(G=>{y.push(G),u.childrenMap[G]&&H(G)})};u.childrenMap[w]&&(H(w),x?y.forEach(P=>{r(P,!0)}):y.forEach(P=>{r(P,!1)}));const A=u.parentMap[w];if(A){const P=u.childrenMap[A]||[],$={};P.forEach(B=>{B===w?$[B]=x:$[B]=t[B]!==!1});const G=P.every(B=>$[B]===!1),k=P.some(B=>$[B]!==!1);G?r(A,!1):k&&r(A,!0);const Y=B=>{const q=u.parentMap[B];if(!q)return;const fe=u.childrenMap[q]||[],T=fe.every(M=>t[M]===!1),F=fe.some(M=>t[M]!==!1);T?r(q,!1):F&&r(q,!0),Y(q)};Y(A)}},[u,r,t]),h=v.useCallback((w,x,y="",H="",A="before")=>{if(w===x||y!==H)return;const P=f(y);if(P.length<=1)return;const $=P.indexOf(w),G=P.indexOf(x);if($===-1||G===-1)return;const k=[...P];k.splice($,1);let Y;A==="before"?Y=k.indexOf(x):Y=k.indexOf(x)+1,Y<0&&(Y=0),Y>k.length&&(Y=k.length),k.splice(Y,0,w);const B=[],q=(fe="")=>{let T;fe?fe===y?T=k:T=f(fe):y===""?T=k:T=f("");for(const F of T)B.push(F),(u.childrenMap[F]||[]).length>0&&q(F)};q(),i(B)},[u,f,i]),S=v.useCallback((w,x="")=>{const y=f(x);y.length<=1||y[0]===w||h(w,y[0],x,x,"before")},[f,h]),C=v.useCallback((w,x="")=>{const y=f(x);y.length<=1||y[y.length-1]===w||h(w,y[y.length-1],x,x,"after")},[f,h]),D=v.useCallback(({parentId:w="",position:x})=>{const[y,H]=En({accept:it,canDrop:A=>{const{parentMap:P}=u;return(P[A.id]||"")===w},drop:A=>(x==="start"?S(A.id,w):C(A.id,w),{handled:!0}),collect:A=>({isOver:A.isOver()&&A.canDrop()})});return d.jsx("div",{ref:H,className:me.dropZone,"data-position":x,"data-parent-id":w})},[u,S,C]),E=v.useCallback(({columnId:w,index:x,parentId:y="",level:H=0})=>{var he;const{columnsMap:A,childrenMap:P}=u,$=A[w];if(!$)return null;const G=!!P[w]&&P[w].length>0,k=a[w]||!1,Y=t[w]!==!1,B=n[w]||!1,q=typeof $.header=="string"?$.header:((he=$.meta)==null?void 0:he.title)||w,[{isDragging:fe},T]=Wa({type:it,item:{id:w,parentId:y,index:x,type:it},collect:L=>({isDragging:L.isDragging()})}),[{isOver:F,canDrop:M},V]=En({accept:it,canDrop:L=>{if(L.id===w)return!1;const{parentMap:U}=u;return(U[L.id]||"")===y},drop:(L,U)=>{if(U.didDrop())return;const W=f(y).indexOf(L.id),ee=f(y).indexOf(w),Se=W<ee?"after":"before";return h(L.id,w,y,y,Se),{handled:!0}},collect:L=>({isOver:L.isOver({shallow:!0}),canDrop:L.canDrop()})}),N=G?f(w):[],Q=N.join(","),J=[me.column,fe?me.dragging:"",F&&M?me.dropTarget:""].filter(Boolean).join(" "),re={marginLeft:`${H*16}px`};return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:L=>{T(V(L))},className:J,style:re,"data-id":w,"data-parent-id":y,"data-level":H,children:d.jsx(Xr,{id:w,title:q,visible:Y,pinned:B,hasChildren:G,expanded:k,draggable:!0,onVisibilityChange:L=>c(w,L),onPinChange:L=>s(w,L),onExpandChange:()=>p(w)})}),G&&k&&d.jsxs("div",{className:me.childColumns,children:[d.jsx(D,{parentId:w,position:"start"}),N.map((L,U)=>d.jsx(E,{columnId:L,index:U,parentId:w,level:H+1},L)),d.jsx(D,{parentId:w,position:"end"})]},Q)]})},[u,a,t,n,f,p,c,s,h,D]),R=f(),j=R.join(",");return d.jsx("div",{className:me.table,children:d.jsxs("div",{children:[d.jsx(D,{position:"start"}),R.map((w,x)=>d.jsx(E,{columnId:w,index:x,parentId:"",level:0},w)),d.jsx(D,{position:"end"})]},j)})};try{$t.displayName="TableColumnList",$t.__docgenInfo={description:"Компонент TableColumnList - список колонок с возможностью перетаскивания",displayName:"TableColumnList",props:{columns:{defaultValue:null,description:"Список колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Видимость колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Закрепление колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnId: string, isVisible: boolean) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(newOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепления колонок",name:"onPinChange",required:!0,type:{name:'(columnId: string, pinned: false | "right" | "left") => void'}}}}}catch{}const Lt=({columns:e,visibleColumns:t,columnOrder:n,pinnedColumns:r,onVisibilityChange:s,onOrderChange:o,onPinChange:i})=>{const[a,l]=v.useState(!1),[u,g]=v.useState({}),[p,f]=v.useState([]),[c,h]=v.useState({}),S=v.useRef({visibleColumns:{},columnOrder:[],pinnedColumns:{}}),[C,D]=v.useState(""),E=v.useRef(!1),[R,j]=v.useState({}),w=v.useCallback(()=>{const T={},F=M=>{M.forEach(V=>{V.id&&(T[V.id]=!0),V.columns&&F(V.columns)})};return F(e),T},[e]),x=v.useCallback(()=>{const T=[],F=M=>{M.forEach(V=>{V.id&&T.push(V.id),V.columns&&F(V.columns)})};return F(e),T},[e]),y=v.useCallback(()=>{let T=0,F=!1,M=0;const V={},N={},Q=(U,W)=>{U.forEach(ee=>{ee.id&&(W&&(V[W]||(V[W]=[]),V[W].push(ee.id),N[ee.id]=W),ee.columns&&Q(ee.columns,ee.id))})};Q(e);const J=new Set,re=U=>{if(J.has(U))return 0;J.add(U);const W=S.current.visibleColumns[U]??!0,ee=t[U]??!0;if(W!==ee){const Se=N[U];if(Se){const en=S.current.visibleColumns[Se]??!0,ht=t[Se]??!0;return!ht&&!ee&&en!==ht||ht&&ee&&!en&&W?0:1}else return 1}return 0};return Object.keys({...S.current.visibleColumns,...t}).forEach(U=>{T+=re(U)}),n.join(",")!==S.current.columnOrder.join(",")&&(F=!0),new Set([...Object.keys(S.current.pinnedColumns),...Object.keys(r)]).forEach(U=>{const W=S.current.pinnedColumns[U]||!1,ee=r[U]||!1;W!==ee&&M++}),T+(F?1:0)+M},[t,n,r,e]);v.useEffect(()=>{const T={},F=(M,V)=>{M.forEach(N=>{N.id&&(V&&(T[V]||(T[V]=[]),T[V].push(N.id)),N.columns&&F(N.columns,N.id))})};F(e),j(T)},[e]),v.useEffect(()=>{E.current||(g({...t}),f([...n]),h({...r}),S.current={visibleColumns:{...t},columnOrder:[...n],pinnedColumns:{...r}},E.current=!0)},[t,n,r]),v.useEffect(()=>{a&&(g({...t}),f([...n]),h({...r}),D(""))},[a,t,n,r]);const H=pr.useMemo(()=>{if(!C)return e;const T=C.toLowerCase(),F=M=>{var N;return(typeof M.header=="string"?M.header:((N=M.meta)==null?void 0:N.title)||M.id||"").toLowerCase().includes(T)?!0:M.columns&&M.columns.length>0?M.columns.some(F):!1};return e.filter(F)},[e,C]),A=T=>{l(T)},P=T=>{D(T.target.value)},$=(T,F)=>{g(N=>({...N,[T]:F}));const M=[],V=N=>{(R[N]||[]).forEach(J=>{M.push(J),R[J]&&V(J)})};R[T]&&(V(T),g(F?N=>{const Q={...N};return M.forEach(J=>{Q[J]=!0}),Q}:N=>{const Q={...N};return M.forEach(J=>{Q[J]=!1}),Q})),setTimeout(()=>{const N=Object.keys(R).find(Q=>R[Q].includes(T));if(N){g(J=>{const re={...J},he=R[N]||[],L=he.every(W=>!re[W]),U=he.some(W=>re[W]);return L?re[N]=!1:U&&(re[N]=!0),re});const Q=J=>{const re=Object.keys(R).find(he=>R[he].includes(J));re&&(g(he=>{const L={...he},U=R[re]||[],W=U.every(Se=>!L[Se]),ee=U.some(Se=>L[Se]);return W?L[re]=!1:ee&&(L[re]=!0),L}),Q(re))};Q(N)}},0)},G=T=>{f(T)},k=(T,F)=>{h(M=>({...M,[T]:F}))},Y=()=>{const T=w(),F=x(),M={};s(T),o(F),i(M),S.current={visibleColumns:{...T},columnOrder:[...F],pinnedColumns:{...M}},l(!1)},B=()=>{const T=new Set,F=V=>{V.forEach(N=>{N.id&&T.add(N.id),N.columns&&F(N.columns)})};F(e);const M=[...p];T.forEach(V=>{M.includes(V)||M.push(V)}),s(u),o(M),i(c),l(!1)},q=()=>{l(!1)},fe=y();return d.jsxs(d.Fragment,{children:[d.jsxs(pt,{gap:"4px",alignItems:"center",children:[d.jsx(et,{variant:"secondary",color:"ghost",size:"s",iconButton:d.jsx(ds,{color:"primary"}),onClick:()=>A(!0),title:"Настройки таблицы"}),d.jsx(Yr,{size:"m",style:{height:"24px"},children:fe})]}),d.jsx(Zr,{isOpen:a,onClose:()=>A(!1),position:"right",width:"450px",className:me.drawer,children:d.jsxs("div",{className:me.customSettingsContainer,children:[d.jsxs(pt,{style:{display:"flex",flexDirection:"column",height:"100%",gap:"16px",padding:"0px 24px"},children:[d.jsx(be,{variant:"Heading3",color:"var(--steel-90)",children:"Настройки колонок таблицы"}),d.jsx("div",{className:me.searchBox,children:d.jsx(Qr,{placeholder:"Поиск колонок",value:C,onChange:P,icon:d.jsx(gs,{})})}),d.jsx("div",{className:me.columnListContainer,children:d.jsx(Ra,{backend:hl,children:d.jsx($t,{columns:H,visibleColumns:u,columnOrder:p,pinnedColumns:c,onVisibilityChange:$,onOrderChange:G,onPinChange:k})})})]}),d.jsxs(pt,{style:{display:"flex",gap:"16px",borderTop:"1px solid",borderColor:"var(--unique-divider)",padding:"24px",position:"fixed",bottom:0,width:"100%",backgroundColor:"var(--steel-10)"},children:[d.jsx(et,{variant:"primary",onClick:B,children:"Применить"}),d.jsx(et,{variant:"secondary",onClick:q,children:"Отмена"}),d.jsx(et,{variant:"secondary",color:"ghost",onClick:Y,children:"Сбросить"})]})]})})]})};try{Lt.displayName="CustomSettings",Lt.__docgenInfo={description:`Компонент CustomSettings - панель настроек таблицы

Отвечает за:
- Отображение модального окна настроек таблицы
- Управление видимостью колонок
- Управление порядком колонок
- Управление закреплением колонок`,displayName:"CustomSettings",props:{title:{defaultValue:null,description:"Заголовок панели настроек",name:"title",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"Определения колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Состояние видимости колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Состояние закрепленных колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},defaultVisibleColumns:{defaultValue:null,description:`Начальное состояние видимости колонок
Используется для сброса к дефолтному состоянию`,name:"defaultVisibleColumns",required:!1,type:{name:"Record<string, boolean>"}},defaultColumnOrder:{defaultValue:null,description:`Начальный порядок колонок
Используется для сброса к дефолтному состоянию`,name:"defaultColumnOrder",required:!1,type:{name:"string[]"}},defaultPinnedColumns:{defaultValue:null,description:`Начальное состояние закрепленных колонок
Используется для сброса к дефолтному состоянию`,name:"defaultPinnedColumns",required:!1,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnVisibility: Record<string, boolean>) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(columnOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепленных колонок",name:"onPinChange",required:!0,type:{name:'(pinnedColumns: Record<string, false | "right" | "left">) => void'}}}}}catch{}const Ht=()=>{const e=()=>{const C=[],D=E=>{E.forEach(R=>{R.id&&C.push(R.id),R.columns&&D(R.columns)})};return D(Ae),C},t=()=>{const C={},D=E=>{E.forEach(R=>{R.id&&(C[R.id]=!0),R.columns&&D(R.columns)})};return D(Ae),C},[n,r]=v.useState([]),[s,o]=v.useState(t()),[i,a]=v.useState(e()),[l,u]=v.useState({}),[g]=v.useState("onChange"),p={};l.left&&l.left.forEach(C=>{p[C]="left"}),l.right&&l.right.forEach(C=>{p[C]="right"});const f=le({data:ai,columns:Ae,state:{columnFilters:n,columnVisibility:s,columnOrder:i,columnPinning:l},onColumnFiltersChange:r,onColumnVisibilityChange:o,onColumnOrderChange:a,onColumnPinningChange:u,getCoreRowModel:ae(),columnResizeMode:g,enableColumnResizing:!0,defaultColumn:{minSize:80,maxSize:500,size:120}}),c=C=>{const D={},E={},R=(w,x)=>{w.forEach(y=>{y.id&&(x&&(E[y.id]=x),y.columns&&y.columns.length>0&&R(y.columns,y.id))})};R(Ae);const j=w=>{let x=w;for(;E[x];){const y=E[x];if(C[y]===!1)return!0;x=y}return!1};Object.keys(C).forEach(w=>{D[w]=C[w]&&!j(w)}),o(D)},h=C=>{a(C)},S=C=>{const D=[],E=[];Object.entries(C).forEach(([R,j])=>{j==="left"?D.push(R):j==="right"&&E.push(R)}),u({left:D,right:E})};return d.jsxs("div",{children:[d.jsx(Lt,{columns:Ae,visibleColumns:s,columnOrder:i,pinnedColumns:p,defaultVisibleColumns:t(),defaultColumnOrder:e(),onVisibilityChange:c,onOrderChange:h,onPinChange:S}),d.jsx("div",{className:_.tableContainer,style:{width:"100%"},children:d.jsxs(se,{horizontalBorders:!0,verticalBorders:!0,children:[d.jsx(oe,{style:{position:"sticky",top:0,zIndex:1},children:f.getHeaderGroups().map((C,D)=>d.jsx(z,{children:C.headers.map(E=>{var y,H,A,P;if(E.depth-E.column.depth>1)return null;let j=1;if(E.isPlaceholder){const $=E.getLeafHeaders();j=Math.max(1,$[$.length-1].depth-E.depth)}const w=(y=E.column.columnDef.meta)==null?void 0:y.rowSpan;w!==void 0&&(j=w);const x=((H=E.column.columnDef.meta)==null?void 0:H.size)||E.getSize();return d.jsx(ne,{style:{width:x},colSpan:E.colSpan,rowSpan:j,drag:!0,onMouseDown:E.getResizeHandler(),onTouchStart:E.getResizeHandler(),title:typeof E.column.columnDef.header=="string"?E.column.columnDef.header:((A=E.column.columnDef.meta)==null?void 0:A.title)||E.id,right:((P=E.column.columnDef.meta)==null?void 0:P.isNumeric)&&D!==1},E.id)})},C.id))}),d.jsx(ie,{children:f.getRowModel().rows.map(C=>d.jsx(z,{children:C.getVisibleCells().map((D,E)=>{var j;const R=((j=D.column.columnDef.meta)==null?void 0:j.size)||D.column.getSize();return d.jsx(K,{style:{width:R},align:E===0?"left":void 0,...Z(D)},D.id)})},C.id))})]})})]})};try{Ht.displayName="SettingsTableExample",Ht.__docgenInfo={description:`Компонент SettingsTableExample - пример таблицы с настраиваемыми колонками

Этот компонент демонстрирует возможности по настройке таблицы:
- Изменение порядка колонок (перетаскивание)
- Показ/скрытие колонок
- Закрепление колонок (слева/справа)`,displayName:"SettingsTableExample",props:{}}}catch{}const Gr=[{id:1,name:"Сталь",age:25,status:m.DEFAULT},{id:2,name:"Металл",age:30,status:m.SUCCESS},{id:3,name:"Чугун",age:40,status:m.ERROR},{id:4,name:"Сталь",age:25,status:m.DEFAULT},{id:5,name:"Металл",age:30,status:m.SUCCESS},{id:6,name:"Чугун",age:40,status:m.ERROR},{id:7,name:"Алюминий",age:28,status:m.DEFAULT},{id:8,name:"Медь",age:35,status:m.SUCCESS},{id:9,name:"Титан",age:45,status:m.ERROR},{id:10,name:"Бронза",age:32,status:m.DEFAULT},{id:11,name:"Латунь",age:38,status:m.SUCCESS},{id:12,name:"Никель",age:27,status:m.ERROR},{id:13,name:"Цинк",age:42,status:m.DEFAULT},{id:14,name:"Свинец",age:33,status:m.SUCCESS},{id:15,name:"Олово",age:36,status:m.ERROR},{id:16,name:"Хром",age:29,status:m.DEFAULT}],kr=[{header:"ID",accessorKey:"id",meta:{isNumeric:!0}},{header:"Name",accessorKey:"name"},{header:"Age",accessorKey:"age",meta:{isNumeric:!0}},{header:"Status",accessorKey:"status"}],bl=e=>d.jsx("div",{style:{minHeight:80},children:d.jsx(e,{})}),Kl={title:"Table/Stories",component:se,decorators:[bl]},Ve=()=>d.jsx(So,{});Ve.storyName="Таблица по умолчанию";const ze=()=>d.jsx(Co,{});ze.storyName="Таблица с закрепленным заголовком";const je=()=>d.jsx(Po,{});je.storyName="Виртуализированная таблица с динамической высотой строк";const $e=()=>d.jsx(jo,{});$e.storyName="Таблица с горизонтальной виртуализацией";const Le=()=>d.jsx(Ho,{});Le.storyName="Таблица с фильтрами, сортировкой и возможностью изменения ширины столбцов";const He=()=>d.jsx(wo,{});He.storyName="Таблица с сортировкой и возможностью изменения ширины столбцов";const Be=()=>d.jsx(Go,{});Be.storyName="Таблица с раскрывающимися строками";const Ue=()=>d.jsx(Wo,{});Ue.storyName="Таблица с группировкой и заголовками";const Ge=()=>d.jsx(Yo,{});Ge.storyName="Таблица с группировкой и заголовками с возможностью изменения ширины столбцов";const ke=()=>d.jsx(Ht,{});ke.storyName="Таблица с настройками колонок";const qe=()=>d.jsx(Jo,{});qe.storyName="Таблица с выбором строк";const We=()=>d.jsx(ti,{});We.storyName="Таблица с выбором строк и пагинацией";const Ke=()=>d.jsx(si,{});Ke.storyName="Таблица с выбором строк и многоуровневой шапкой";const Xe=()=>d.jsx(ii,{});Xe.storyName="Таблица с выбором строк и виртуализацией";var In,bn,Tn;Ve.parameters={...Ve.parameters,docs:{...(In=Ve.parameters)==null?void 0:In.docs,source:{originalSource:"() => <TableWithTanStackExample />",...(Tn=(bn=Ve.parameters)==null?void 0:bn.docs)==null?void 0:Tn.source}}};var On,_n,Mn;ze.parameters={...ze.parameters,docs:{...(On=ze.parameters)==null?void 0:On.docs,source:{originalSource:"() => <TableWithStickyHeader />",...(Mn=(_n=ze.parameters)==null?void 0:_n.docs)==null?void 0:Mn.source}}};var Fn,Nn,Pn;je.parameters={...je.parameters,docs:{...(Fn=je.parameters)==null?void 0:Fn.docs,source:{originalSource:"() => <VirtualizedTableWithDynamicRowHeightExample />",...(Pn=(Nn=je.parameters)==null?void 0:Nn.docs)==null?void 0:Pn.source}}};var An,Vn,zn;$e.parameters={...$e.parameters,docs:{...(An=$e.parameters)==null?void 0:An.docs,source:{originalSource:"() => <VirtualizedTableWithHorizontalVirtualizationExample />",...(zn=(Vn=$e.parameters)==null?void 0:Vn.docs)==null?void 0:zn.source}}};var jn,$n,Ln;Le.parameters={...Le.parameters,docs:{...(jn=Le.parameters)==null?void 0:jn.docs,source:{originalSource:"() => <FilterableTableExample />",...(Ln=($n=Le.parameters)==null?void 0:$n.docs)==null?void 0:Ln.source}}};var Hn,Bn,Un;He.parameters={...He.parameters,docs:{...(Hn=He.parameters)==null?void 0:Hn.docs,source:{originalSource:"() => <SortableTableExample />",...(Un=(Bn=He.parameters)==null?void 0:Bn.docs)==null?void 0:Un.source}}};var Gn,kn,qn;Be.parameters={...Be.parameters,docs:{...(Gn=Be.parameters)==null?void 0:Gn.docs,source:{originalSource:"() => <ExpandableTableExample />",...(qn=(kn=Be.parameters)==null?void 0:kn.docs)==null?void 0:qn.source}}};var Wn,Kn,Xn;Ue.parameters={...Ue.parameters,docs:{...(Wn=Ue.parameters)==null?void 0:Wn.docs,source:{originalSource:"() => <GroupingHeaderTableExample />",...(Xn=(Kn=Ue.parameters)==null?void 0:Kn.docs)==null?void 0:Xn.source}}};var Yn,Zn,Qn;Ge.parameters={...Ge.parameters,docs:{...(Yn=Ge.parameters)==null?void 0:Yn.docs,source:{originalSource:"() => <GroupHeaderTableWithResizeExample />",...(Qn=(Zn=Ge.parameters)==null?void 0:Zn.docs)==null?void 0:Qn.source}}};var Jn,er,tr;ke.parameters={...ke.parameters,docs:{...(Jn=ke.parameters)==null?void 0:Jn.docs,source:{originalSource:"() => <SettingsTableExample />",...(tr=(er=ke.parameters)==null?void 0:er.docs)==null?void 0:tr.source}}};var nr,rr,sr;qe.parameters={...qe.parameters,docs:{...(nr=qe.parameters)==null?void 0:nr.docs,source:{originalSource:"() => <SelectableTableExample />",...(sr=(rr=qe.parameters)==null?void 0:rr.docs)==null?void 0:sr.source}}};var or,ir,ar;We.parameters={...We.parameters,docs:{...(or=We.parameters)==null?void 0:or.docs,source:{originalSource:"() => <SelectableTableWithPaginationExample />",...(ar=(ir=We.parameters)==null?void 0:ir.docs)==null?void 0:ar.source}}};var lr,ur,cr;Ke.parameters={...Ke.parameters,docs:{...(lr=Ke.parameters)==null?void 0:lr.docs,source:{originalSource:"() => <SelectableTableWithGroupingHeaderExample />",...(cr=(ur=Ke.parameters)==null?void 0:ur.docs)==null?void 0:cr.source}}};var dr,gr,fr;Xe.parameters={...Xe.parameters,docs:{...(dr=Xe.parameters)==null?void 0:dr.docs,source:{originalSource:"() => <SelectableTableWithVirtualizationExample />",...(fr=(gr=Xe.parameters)==null?void 0:gr.docs)==null?void 0:fr.source}}};const Xl=["BasicTable","StickyHeader","VirtualizedTableWithDynamicRowHeight","VirtualizedTableWithHorizontalVirtualization","FilterableTable","SortableTable","ExpandableTable","GroupingHeaderTable","GroupHeaderTableWithResize","TableWithSettings","SelectableTable","SelectableTableWithPagination","SelectableTableWithGroupingHeader","SelectableTableWithVirtualization"];export{Ve as BasicTable,Be as ExpandableTable,Le as FilterableTable,Ge as GroupHeaderTableWithResize,Ue as GroupingHeaderTable,qe as SelectableTable,Ke as SelectableTableWithGroupingHeader,We as SelectableTableWithPagination,Xe as SelectableTableWithVirtualization,He as SortableTable,ze as StickyHeader,ke as TableWithSettings,je as VirtualizedTableWithDynamicRowHeight,$e as VirtualizedTableWithHorizontalVirtualization,Xl as __namedExportsOrder,Kl as default};
