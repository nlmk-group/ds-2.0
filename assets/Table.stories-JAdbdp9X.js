import{j as a}from"./jsx-runtime-BTJTZTIL.js";import{b6 as oe,b7 as ue,b8 as X,b9 as se,ba as ae,bb as te,aP as Jr,bc as D,a5 as ft,bd as zs,am as Ie,be as Fe,P as Qr,bf as Vs,bg as es,B as fe,ai as ts,ax as ns,ay as $e,aO as js,bh as Bs,aE as $s,aF as Ls}from"./TreeList-DaNCMioE.js";import"./generateUUID-CwHnX0Hw.js";import"./index-BekOEyNL.js";import"./index-WHoiTdKD.js";import{B as pe}from"./index-D-jyRV5V.js";import"./index-D8WlRtvM.js";import{T as me}from"./index-DmffzHLE.js";import{I as Hs}from"./index-9k2b7QWQ.js";import"./index-VmJK6twV.js";import"./index-DxgC_uyg.js";import"./index-uupel1IP.js";import"./index-C5rKoyII.js";import{r as C,e as gn,g as ks}from"./index-BcJSXhQi.js";import{m as Us,u as Gs,w as qs,n as Ws,o as Ks,v as Xs,p as Ys,q as Zs,r as Js,s as Qs,oO as rs,i as ss,rj as ei}from"./32-BKmqX1Rw.js";import{c as Te}from"./clsx-B-dksMZM.js";import{r as ti}from"./index-BevFGyV5.js";import"./index-ChsGqxH_.js";import"./types-CpBSVUgC.js";import"./tiny-invariant-CopsF_GD.js";import"./index-DdXvKv-Q.js";import"./index-CRm92gKC.js";const ni=[{value:"contains",label:"Содержит",icon:a.jsx(Us,{htmlColor:"var(--brand-sapphire-60)"})},{value:"not_contains",label:"Не содержит",icon:a.jsx(Gs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"starts_with",label:"Начинается с...",icon:a.jsx(qs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"ends_with",label:"Заканчивается на...",icon:a.jsx(Ws,{htmlColor:"var(--brand-sapphire-60)"})},{value:"equals",label:"Равно",icon:a.jsx(Ks,{htmlColor:"var(--brand-sapphire-60)"}),disabled:!0},{value:"not_equals",label:"Не равно",icon:a.jsx(Xs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"greater",label:"Больше",icon:a.jsx(Ys,{htmlColor:"var(--brand-sapphire-60)"}),disabled:!0},{value:"greater_or_equal",label:"Больше или равно",icon:a.jsx(Zs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"less",label:"Меньше",icon:a.jsx(Js,{htmlColor:"var(--brand-sapphire-60)"})},{value:"less_or_equal",label:"Меньше или равно",icon:a.jsx(Qs,{htmlColor:"var(--brand-sapphire-60)"})}],ri={contains:(e,t,n)=>String(e.getValue(t)).toLowerCase().includes(String(n.value).toLowerCase()),not_contains:(e,t,n)=>!String(e.getValue(t)).toLowerCase().includes(String(n.value).toLowerCase()),starts_with:(e,t,n)=>String(e.getValue(t)).toLowerCase().startsWith(String(n.value).toLowerCase()),ends_with:(e,t,n)=>String(e.getValue(t)).toLowerCase().endsWith(String(n.value).toLowerCase()),equals:(e,t,n)=>{if(t==="lastUpdate"){const r=new Date(e.getValue(t)),s=new Date(n.value);return r.toDateString()===s.toDateString()}return e.getValue(t)===n.value},not_equals:(e,t,n)=>{if(t==="lastUpdate"){const i=new Date(e.getValue(t)),o=new Date(n.value);return i.toDateString()!==o.toDateString()}const r=String(e.getValue(t)).toLowerCase(),s=String(n.value).toLowerCase();return r!==s},greater:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),i=new Date(n.value);return s>i}return Number(e.getValue(t))>Number(n.value)},greater_or_equal:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),i=new Date(n.value);return s>=i}return Number(e.getValue(t))>=Number(n.value)},less:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),i=new Date(n.value);return s<i}return Number(e.getValue(t))<Number(n.value)},less_or_equal:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),i=new Date(n.value);return s<=i}return Number(e.getValue(t))<=Number(n.value)}},xe=(e,t,n,r)=>{if(!n)return!0;const{type:s,value:i}=n;return i?ri[s](e,t,{type:s,value:i},r):!0};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ne(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Oe(e,t){return typeof e=="function"?e(t):e}function he(e,t){return n=>{t.setState(r=>({...r,[e]:Oe(n,r[e])}))}}function wt(e){return e instanceof Function}function si(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function ii(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function B(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const u=e(i);if(!(u.length!==r.length||u.some((f,p)=>r[p]!==f)))return s;r=u;let c;if(n.key&&n.debug&&(c=Date.now()),s=t(...u),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-c)*100)/100,g=p/16,d=(m,S)=>{for(m=String(m);m.length<S;)m=" "+m;return m};console.info(`%c⏱ ${d(p,5)} /${d(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function $(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function oi(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:B(()=>[e,n,t,i],(o,u,l,c)=>({table:o,column:u,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),$(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function ui(e,t,n,r){var s,i;const u={...e._getDefaultColumnDef(),...t},l=u.accessorKey;let c=(s=(i=u.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof u.header=="string"?u.header:void 0,f;if(u.accessorFn?f=u.accessorFn:l&&(l.includes(".")?f=g=>{let d=g;for(const S of l.split(".")){var m;d=(m=d)==null?void 0:m[S]}return d}:f=g=>g[u.accessorKey]),!c)throw new Error;let p={id:`${String(c)}`,accessorFn:f,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:B(()=>[!0],()=>{var g;return[p,...(g=p.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},$(e.options,"debugColumns")),getLeafColumns:B(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=p.columns)!=null&&d.length){let m=p.columns.flatMap(S=>S.getLeafColumns());return g(m)}return[p]},$(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(p,e);return p}const de="debugHeaders";function bn(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],u=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(u),o.push(l)};return u(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const ai={createTable:e=>{e.getHeaderGroups=B(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const u=(i=r==null?void 0:r.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?i:[],l=(o=s==null?void 0:s.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?o:[],c=n.filter(p=>!(r!=null&&r.includes(p.id))&&!(s!=null&&s.includes(p.id)));return pt(t,[...u,...c,...l],e)},$(e.options,de)),e.getCenterHeaderGroups=B(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),pt(t,n,e,"center")),$(e.options,de)),e.getLeftHeaderGroups=B(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(u=>u.id===o)).filter(Boolean))!=null?s:[];return pt(t,i,e,"left")},$(e.options,de)),e.getRightHeaderGroups=B(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(u=>u.id===o)).filter(Boolean))!=null?s:[];return pt(t,i,e,"right")},$(e.options,de)),e.getFooterGroups=B(()=>[e.getHeaderGroups()],t=>[...t].reverse(),$(e.options,de)),e.getLeftFooterGroups=B(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),$(e.options,de)),e.getCenterFooterGroups=B(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),$(e.options,de)),e.getRightFooterGroups=B(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),$(e.options,de)),e.getFlatHeaders=B(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),$(e.options,de)),e.getLeftFlatHeaders=B(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),$(e.options,de)),e.getCenterFlatHeaders=B(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),$(e.options,de)),e.getRightFlatHeaders=B(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),$(e.options,de)),e.getCenterLeafHeaders=B(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),$(e.options,de)),e.getLeftLeafHeaders=B(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),$(e.options,de)),e.getRightLeafHeaders=B(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),$(e.options,de)),e.getLeafHeaders=B(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,u,l,c;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(u=n[0])==null?void 0:u.headers)!=null?o:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(f=>f.getLeafHeaders()).flat()},$(e.options,de))}};function pt(e,t,n,r){var s,i;let o=0;const u=function(g,d){d===void 0&&(d=1),o=Math.max(o,d),g.filter(m=>m.getIsVisible()).forEach(m=>{var S;(S=m.columns)!=null&&S.length&&u(m.columns,d+1)},0)};u(e);let l=[];const c=(g,d)=>{const m={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},S=[];g.forEach(y=>{const v=[...S].reverse()[0],x=y.column.depth===m.depth;let R,T=!1;if(x&&y.column.parent?R=y.column.parent:(R=y.column,T=!0),v&&(v==null?void 0:v.column)===R)v.subHeaders.push(y);else{const h=bn(n,R,{id:[r,d,R.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:T,placeholderId:T?`${S.filter(E=>E.column===R).length}`:void 0,depth:d,index:S.length});h.subHeaders.push(y),S.push(h)}m.headers.push(y),y.headerGroup=m}),l.push(m),d>0&&c(S,d-1)},f=t.map((g,d)=>bn(n,g,{depth:o,index:d}));c(f,o-1),l.reverse();const p=g=>g.filter(m=>m.column.getIsVisible()).map(m=>{let S=0,y=0,v=[0];m.subHeaders&&m.subHeaders.length?(v=[],p(m.subHeaders).forEach(R=>{let{colSpan:T,rowSpan:h}=R;S+=T,v.push(h)})):S=1;const x=Math.min(...v);return y=y+x,m.colSpan=S,m.rowSpan=y,{colSpan:S,rowSpan:y}});return p((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const fn=(e,t,n,r,s,i,o)=>{let u={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(u._valuesCache.hasOwnProperty(l))return u._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return u._valuesCache[l]=c.accessorFn(u.original,r),u._valuesCache[l]},getUniqueValues:l=>{if(u._uniqueValuesCache.hasOwnProperty(l))return u._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(u._uniqueValuesCache[l]=c.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[l]):(u._uniqueValuesCache[l]=[u.getValue(l)],u._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=u.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>ii(u.subRows,l=>l.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let l=[],c=u;for(;;){const f=c.getParentRow();if(!f)break;l.push(f),c=f}return l.reverse()},getAllCells:B(()=>[e.getAllLeafColumns()],l=>l.map(c=>oi(e,u,c,c.id)),$(e.options,"debugRows")),_getAllCellsByColumnId:B(()=>[u.getAllCells()],l=>l.reduce((c,f)=>(c[f.column.id]=f,c),{}),$(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(u,e)}return u},li={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},is=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};is.autoRemove=e=>ve(e);const os=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};os.autoRemove=e=>ve(e);const us=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};us.autoRemove=e=>ve(e);const as=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};as.autoRemove=e=>ve(e);const ls=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});ls.autoRemove=e=>ve(e)||!(e!=null&&e.length);const cs=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});cs.autoRemove=e=>ve(e)||!(e!=null&&e.length);const ds=(e,t,n)=>e.getValue(t)===n;ds.autoRemove=e=>ve(e);const gs=(e,t,n)=>e.getValue(t)==n;gs.autoRemove=e=>ve(e);const pn=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};pn.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const u=i;i=o,o=u}return[i,o]};pn.autoRemove=e=>ve(e)||ve(e[0])&&ve(e[1]);const be={includesString:is,includesStringSensitive:os,equalsString:us,arrIncludes:as,arrIncludesAll:ls,arrIncludesSome:cs,equals:ds,weakEquals:gs,inNumberRange:pn};function ve(e){return e==null||e===""}const ci={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:he("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?be.includesString:typeof r=="number"?be.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?be.equals:Array.isArray(r)?be.arrIncludes:be.weakEquals},e.getFilterFn=()=>{var n,r;return wt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:be[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(f=>f.id===e.id),o=Oe(n,i?i.value:void 0);if(Tn(s,o,e)){var u;return(u=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?u:[]}const l={id:e.id,value:o};if(i){var c;return(c=r==null?void 0:r.map(f=>f.id===e.id?l:f))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=Oe(t,s))==null?void 0:i.filter(o=>{const u=n.find(l=>l.id===o.id);if(u){const l=u.getFilterFn();if(Tn(l,o.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Tn(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const di=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),gi=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},fi=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},pi=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},mi=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},hi=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!si(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Si=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Ci=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,vi=(e,t)=>t.length,It={sum:di,min:gi,max:fi,extent:pi,mean:mi,median:hi,unique:Si,uniqueCount:Ci,count:vi},Di={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:he("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return It.sum;if(Object.prototype.toString.call(r)==="[object Date]")return It.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return wt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:It[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Ei(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const yi={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:he("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=B(n=>[ct(t,n)],n=>n.findIndex(r=>r.id===e.id),$(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=ct(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=ct(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=B(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],u=[...s];for(;u.length&&o.length;){const l=o.shift(),c=u.findIndex(f=>f.id===l);c>-1&&i.push(u.splice(c,1)[0])}i=[...i,...u]}return Ei(i,n,r)},$(e.options,"debugTable"))}},Ft=()=>({left:[],right:[]}),wi={getInitialState:e=>({columnPinning:Ft(),...e}),getDefaultOptions:e=>({onColumnPinningChange:he("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var u,l;return{left:((u=s==null?void 0:s.left)!=null?u:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(n==="left"){var c,f;return{left:[...((c=s==null?void 0:s.left)!=null?c:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((f=s==null?void 0:s.right)!=null?f:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(p=>!(r!=null&&r.includes(p))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(p=>!(r!=null&&r.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(u=>r==null?void 0:r.includes(u)),o=n.some(u=>s==null?void 0:s.includes(u));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=B(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},$(t.options,"debugRows")),e.getLeftVisibleCells=B(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),$(t.options,"debugRows")),e.getRightVisibleCells=B(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),$(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Ft():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Ft())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=B(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),$(e.options,"debugColumns")),e.getRightLeafColumns=B(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),$(e.options,"debugColumns")),e.getCenterLeafColumns=B(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},$(e.options,"debugColumns"))}},mt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Mt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),xi={getDefaultColumnDef:()=>mt,getInitialState:e=>({columnSizing:{},columnSizingInfo:Mt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:he("columnSizing",e),onColumnSizingInfoChange:he("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:mt.minSize,(r=i??e.columnDef.size)!=null?r:mt.size),(s=e.columnDef.maxSize)!=null?s:mt.maxSize)},e.getStart=B(n=>[n,ct(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),$(t.options,"debugColumns")),e.getAfter=B(n=>[n,ct(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),$(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),Nt(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),u=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=Nt(i)?Math.round(i.touches[0].clientX):i.clientX,c={},f=(v,x)=>{typeof x=="number"&&(t.setColumnSizingInfo(R=>{var T,h;const E=t.options.columnResizeDirection==="rtl"?-1:1,w=(x-((T=R==null?void 0:R.startOffset)!=null?T:0))*E,A=Math.max(w/((h=R==null?void 0:R.startSize)!=null?h:0),-.999999);return R.columnSizingStart.forEach(I=>{let[_,z]=I;c[_]=Math.round(Math.max(z+z*A,0)*100)/100}),{...R,deltaOffset:w,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(R=>({...R,...c})))},p=v=>f("move",v),g=v=>{f("end",v),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=n||typeof document<"u"?document:null,m={moveHandler:v=>p(v.clientX),upHandler:v=>{d==null||d.removeEventListener("mousemove",m.moveHandler),d==null||d.removeEventListener("mouseup",m.upHandler),g(v.clientX)}},S={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),p(v.touches[0].clientX),!1),upHandler:v=>{var x;d==null||d.removeEventListener("touchmove",S.moveHandler),d==null||d.removeEventListener("touchend",S.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),g((x=v.touches[0])==null?void 0:x.clientX)}},y=Ri()?{passive:!1}:!1;Nt(i)?(d==null||d.addEventListener("touchmove",S.moveHandler,y),d==null||d.addEventListener("touchend",S.upHandler,y)):(d==null||d.addEventListener("mousemove",m.moveHandler,y),d==null||d.addEventListener("mouseup",m.upHandler,y)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Mt():(n=e.initialState.columnSizingInfo)!=null?n:Mt())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ht=null;function Ri(){if(typeof ht=="boolean")return ht;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ht=e,ht}function Nt(e){return e.type==="touchstart"}const bi={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:he("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=B(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),$(t.options,"debugRows")),e.getVisibleCells=B(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],$(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>B(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),$(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function ct(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ti={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},_i={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:he("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>be.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return wt(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:be[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Oi={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:he("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{o[u]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:u,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Gt=0,qt=10,Pt=()=>({pageIndex:Gt,pageSize:qt}),Ii={getInitialState:e=>({...e,pagination:{...Pt(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:he("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>Oe(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Pt():(s=e.initialState.pagination)!=null?s:Pt())},e.setPageIndex=r=>{e.setPagination(s=>{let i=Oe(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?Gt:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Gt)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?qt:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:qt)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,Oe(r,s.pageSize)),o=s.pageSize*s.pageIndex,u=Math.floor(o/i);return{...s,pageIndex:u,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=Oe(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=B(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},$(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},At=()=>({top:[],bottom:[]}),Fi={getInitialState:e=>({rowPinning:At(),...e}),getDefaultOptions:e=>({onRowPinningChange:he("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=s?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],u=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var c,f;if(n==="bottom"){var p,g;return{top:((p=l==null?void 0:l.top)!=null?p:[]).filter(S=>!(u!=null&&u.has(S))),bottom:[...((g=l==null?void 0:l.bottom)!=null?g:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)]}}if(n==="top"){var d,m;return{top:[...((d=l==null?void 0:l.top)!=null?d:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(S=>!(u!=null&&u.has(S)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(S=>!(u!=null&&u.has(S))),bottom:((f=l==null?void 0:l.bottom)!=null?f:[]).filter(S=>!(u!=null&&u.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(u=>r==null?void 0:r.includes(u)),o=n.some(u=>s==null?void 0:s.includes(u));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:u}=o;return u});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?At():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:At())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const u=e.getRow(o,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(o=>t.find(u=>u.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=B(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),$(e.options,"debugRows")),e.getBottomRows=B(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),$(e.options,"debugRows")),e.getCenterRows=B(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},$(e.options,"debugRows"))}},Mi={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:he("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{Wt(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=B(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?zt(e,n):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getFilteredSelectedRowModel=B(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?zt(e,n):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getGroupedSelectedRowModel=B(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?zt(e,n):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const u={...i};return Wt(u,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return mn(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Kt(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Kt(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Wt=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(u=>Wt(e,u.id,n,r,s))};function zt(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,u){return o.map(l=>{var c;const f=mn(l,n);if(f&&(r.push(l),s[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),f)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function mn(e,t){var n;return(n=t[e.id])!=null?n:!1}function Kt(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(mn(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const u=Kt(o,t);u==="all"?i=!0:(u==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const Xt=/([0-9]+)/gm,Ni=(e,t,n)=>fs(Me(e.getValue(n)).toLowerCase(),Me(t.getValue(n)).toLowerCase()),Pi=(e,t,n)=>fs(Me(e.getValue(n)),Me(t.getValue(n))),Ai=(e,t,n)=>hn(Me(e.getValue(n)).toLowerCase(),Me(t.getValue(n)).toLowerCase()),zi=(e,t,n)=>hn(Me(e.getValue(n)),Me(t.getValue(n))),Vi=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},ji=(e,t,n)=>hn(e.getValue(n),t.getValue(n));function hn(e,t){return e===t?0:e>t?1:-1}function Me(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function fs(e,t){const n=e.split(Xt).filter(Boolean),r=t.split(Xt).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),u=parseInt(i,10),l=[o,u].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>u)return 1;if(u>o)return-1}return n.length-r.length}const ut={alphanumeric:Ni,alphanumericCaseSensitive:Pi,text:Ai,textCaseSensitive:zi,datetime:Vi,basic:ji},Bi={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:he("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return ut.datetime;if(typeof i=="string"&&(r=!0,i.split(Xt).length>1))return ut.alphanumeric}return r?ut.text:ut.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return wt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ut[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const u=o==null?void 0:o.find(d=>d.id===e.id),l=o==null?void 0:o.findIndex(d=>d.id===e.id);let c=[],f,p=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?u?f="toggle":f="add":o!=null&&o.length&&l!==o.length-1?f="replace":u?f="toggle":f="replace",f==="toggle"&&(i||s||(f="remove")),f==="add"){var g;c=[...o,{id:e.id,desc:p}],c.splice(0,c.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?c=o.map(d=>d.id===e.id?{...d,desc:p}:d):f==="remove"?c=o.filter(d=>d.id!==e.id):c=[{id:e.id,desc:p}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},$i=[ai,bi,yi,wi,li,ci,Ti,_i,Bi,Di,Oi,Ii,Fi,Mi,xi];function Li(e){var t,n;const r=[...$i,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((g,d)=>Object.assign(g,d.getDefaultOptions==null?void 0:d.getDefaultOptions(s)),{}),o=g=>s.options.mergeOptions?s.options.mergeOptions(i,g):{...i,...g};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(g=>{var d;l=(d=g.getInitialState==null?void 0:g.getInitialState(l))!=null?d:l});const c=[];let f=!1;const p={_features:r,options:{...i,...e},initialState:l,_queue:g=>{c.push(g),f||(f=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();f=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{s.setState(s.initialState)},setOptions:g=>{const d=Oe(g,s.options);s.options=o(d)},getState:()=>s.options.state,setState:g=>{s.options.onStateChange==null||s.options.onStateChange(g)},_getRowId:(g,d,m)=>{var S;return(S=s.options.getRowId==null?void 0:s.options.getRowId(g,d,m))!=null?S:`${m?[m.id,d].join("."):d}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(g,d)=>{let m=(d?s.getPrePaginationRowModel():s.getRowModel()).rowsById[g];if(!m&&(m=s.getCoreRowModel().rowsById[g],!m))throw new Error;return m},_getDefaultColumnDef:B(()=>[s.options.defaultColumn],g=>{var d;return g=(d=g)!=null?d:{},{header:m=>{const S=m.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:m=>{var S,y;return(S=(y=m.renderValue())==null||y.toString==null?void 0:y.toString())!=null?S:null},...s._features.reduce((m,S)=>Object.assign(m,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...g}},$(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:B(()=>[s._getColumnDefs()],g=>{const d=function(m,S,y){return y===void 0&&(y=0),m.map(v=>{const x=ui(s,v,y,S),R=v;return x.columns=R.columns?d(R.columns,x,y+1):[],x})};return d(g)},$(e,"debugColumns")),getAllFlatColumns:B(()=>[s.getAllColumns()],g=>g.flatMap(d=>d.getFlatColumns()),$(e,"debugColumns")),_getAllFlatColumnsById:B(()=>[s.getAllFlatColumns()],g=>g.reduce((d,m)=>(d[m.id]=m,d),{}),$(e,"debugColumns")),getAllLeafColumns:B(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(g,d)=>{let m=g.flatMap(S=>S.getLeafColumns());return d(m)},$(e,"debugColumns")),getColumn:g=>s._getAllFlatColumnsById()[g]};Object.assign(s,p);for(let g=0;g<s._features.length;g++){const d=s._features[g];d==null||d.createTable==null||d.createTable(s)}return s}function le(){return e=>B(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const u=[];for(let c=0;c<s.length;c++){const f=fn(e,e._getRowId(s[c],c,o),s[c],c,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,u.push(f),e.options.getSubRows){var l;f.originalSubRows=e.options.getSubRows(s[c],c),(l=f.originalSubRows)!=null&&l.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return u};return n.rows=r(t),n},$(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Hi(){return e=>B(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:ps(n),$(e.options,"debugTable"))}function ps(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function ki(e,t,n){return n.options.filterFromLeafRows?Ui(e,t,n):Gi(e,t,n)}function Ui(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(l,c){c===void 0&&(c=0);const f=[];for(let g=0;g<l.length;g++){var p;let d=l[g];const m=fn(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(m.columnFilters=d.columnFilters,(p=d.subRows)!=null&&p.length&&c<o){if(m.subRows=u(d.subRows,c+1),d=m,t(d)&&!m.subRows.length){f.push(d),i[d.id]=d,s.push(d);continue}if(t(d)||m.subRows.length){f.push(d),i[d.id]=d,s.push(d);continue}}else d=m,t(d)&&(f.push(d),i[d.id]=d,s.push(d))}return f};return{rows:u(e),flatRows:s,rowsById:i}}function Gi(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(l,c){c===void 0&&(c=0);const f=[];for(let g=0;g<l.length;g++){let d=l[g];if(t(d)){var p;if((p=d.subRows)!=null&&p.length&&c<o){const S=fn(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);S.subRows=u(d.subRows,c+1),d=S}f.push(d),s.push(d),i[d.id]=d}}return f};return{rows:u(e),flatRows:s,rowsById:i}}function qi(){return e=>B(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(g=>{var d;const m=e.getColumn(g.id);if(!m)return;const S=m.getFilterFn();S&&s.push({id:g.id,filterFn:S,resolvedValue:(d=S.resolveFilterValue==null?void 0:S.resolveFilterValue(g.value))!=null?d:g.value})});const o=(n??[]).map(g=>g.id),u=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&u&&l.length&&(o.push("__global__"),l.forEach(g=>{var d;i.push({id:g.id,filterFn:u,resolvedValue:(d=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?d:r})}));let c,f;for(let g=0;g<t.flatRows.length;g++){const d=t.flatRows[g];if(d.columnFilters={},s.length)for(let m=0;m<s.length;m++){c=s[m];const S=c.id;d.columnFilters[S]=c.filterFn(d,S,c.resolvedValue,y=>{d.columnFiltersMeta[S]=y})}if(i.length){for(let m=0;m<i.length;m++){f=i[m];const S=f.id;if(f.filterFn(d,S,f.resolvedValue,y=>{d.columnFiltersMeta[S]=y})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const p=g=>{for(let d=0;d<o.length;d++)if(g.columnFilters[o[d]]===!1)return!1;return!0};return ki(t.rows,p,e)},$(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Wi(e){return t=>B(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:u,rowsById:l}=r;const c=s*i,f=c+s;o=o.slice(c,f);let p;t.options.paginateExpandedRows?p={rows:o,flatRows:u,rowsById:l}:p=ps({rows:o,flatRows:u,rowsById:l}),p.flatRows=[];const g=d=>{p.flatRows.push(d),d.subRows.length&&d.subRows.forEach(g)};return p.rows.forEach(g),p},$(t.options,"debugTable"))}function Sn(){return e=>B(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),o={};i.forEach(l=>{const c=e.getColumn(l.id);c&&(o[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const u=l=>{const c=l.map(f=>({...f}));return c.sort((f,p)=>{for(let d=0;d<i.length;d+=1){var g;const m=i[d],S=o[m.id],y=S.sortUndefined,v=(g=m==null?void 0:m.desc)!=null?g:!1;let x=0;if(y){const R=f.getValue(m.id),T=p.getValue(m.id),h=R===void 0,E=T===void 0;if(h||E){if(y==="first")return h?-1:1;if(y==="last")return h?1:-1;x=h&&E?0:h?y:-y}}if(x===0&&(x=S.sortingFn(f,p,m.id)),x!==0)return v&&(x*=-1),S.invertSorting&&(x*=-1),x}return f.index-p.index}),c.forEach(f=>{var p;s.push(f),(p=f.subRows)!=null&&p.length&&(f.subRows=u(f.subRows))}),c};return{rows:u(n.rows),flatRows:s,rowsById:n.rowsById}},$(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ie(e,t){return e?Ki(e)?C.createElement(e,t):e:null}function Ki(e){return Xi(e)||typeof e=="function"||Yi(e)}function Xi(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Yi(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function ce(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=C.useState(()=>({current:Li(t)})),[r,s]=C.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const Zi="_tableContainer_1q5os_1",Ji="_tableContainer_autoWidth_1q5os_8",Qi="_notSortable_1q5os_18",eo="_tableGrouping_1q5os_23",to="_tableContainerExpandable_1q5os_48",no="_expanderColumn_1q5os_48",ro="_tableHeaderSticky_1q5os_53",q={tableContainer:Zi,tableContainer_autoWidth:Ji,notSortable:Qi,tableGrouping:eo,tableContainerExpandable:to,expanderColumn:no,tableHeaderSticky:ro},so=()=>{const e=ce({data:gt,columns:Rn,getCoreRowModel:le()});return a.jsx("div",{style:{width:"800px",height:"600px",overflowY:"auto",overflowX:"auto"},children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{children:e.getHeaderGroups().map(t=>a.jsx(X,{children:t.headers.map((n,r)=>{var s;return a.jsx(se,{className:q.notSortable,title:ie(n.column.columnDef.header,n.getContext()),right:((s=n.column.columnDef.meta)==null?void 0:s.isNumeric)&&r!==0},n.id)})},t.id))}),a.jsx(ae,{children:e.getRowModel().rows.map(t=>a.jsx(X,{children:t.getVisibleCells().map((n,r)=>a.jsx(te,{color:t.original.status,align:r===0?"left":void 0,...re(n)},n.id))},t.id))})]})})},io=()=>{const e=ce({data:gt,columns:Rn,getCoreRowModel:le()}),t=n=>({[D.SUCCESS]:{color:ft.success,icon:"IconAllDoneDoubleCheckOutlined24"},[D.ERROR]:{color:ft.error,icon:"IconBlockCloseOutlined24"},[D.DEFAULT]:{color:ft.default,icon:"IconCloudDoneOutlined24"},[D.WARNING]:{color:ft.success,icon:"IconPeopleCheckDoneOutlined24"}})[n];return a.jsx("div",{className:q.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{style:{position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(n=>a.jsx(X,{children:n.headers.map((r,s)=>{var i;return a.jsx(se,{className:q.notSortable,title:ie(r.column.columnDef.header,r.getContext()),right:((i=r.column.columnDef.meta)==null?void 0:i.isNumeric)&&s!==0},r.id)})},n.id))}),a.jsx(ae,{children:e.getRowModel().rows.map(n=>a.jsx(X,{children:n.getVisibleCells().map((r,s)=>r.column.id==="status"?a.jsx(te,{...re(r),children:a.jsx(Jr,{...t(n.original.status),children:n.original.status})},r.id):a.jsx(te,{align:s===0?"left":void 0,...re(r)},r.id))},n.id))})]})})},oo=[{header:"ID",accessorKey:"id",enableSorting:!0,meta:{isNumeric:!0}},{header:"Name",accessorKey:"name",enableSorting:!0},{header:"Age",accessorKey:"age",enableSorting:!0,meta:{isNumeric:!0}},{header:"Production Date",accessorKey:"productionDate",enableSorting:!0,cell:e=>e.getValue().toLocaleDateString()},{header:"Status",accessorKey:"status",enableSorting:!1}],uo=[{id:1,name:"Сталь",age:25,status:D.DEFAULT,productionDate:new Date("2023-01-10")},{id:2,name:"Металл",age:30,status:D.SUCCESS,productionDate:new Date("2023-02-15")},{id:3,name:"Чугун",age:40,status:D.ERROR,productionDate:new Date("2023-03-20")},{id:4,name:"Сталь",age:22,status:D.DEFAULT,productionDate:new Date("2023-04-05")},{id:5,name:"Металл",age:35,status:D.SUCCESS,productionDate:new Date("2023-05-10")},{id:6,name:"Чугун",age:28,status:D.ERROR,productionDate:new Date("2023-06-18")},{id:7,name:"Сталь",age:27,status:D.DEFAULT,productionDate:new Date("2023-07-01")},{id:8,name:"Металл",age:32,status:D.SUCCESS,productionDate:new Date("2023-08-12")},{id:9,name:"Чугун",age:38,status:D.ERROR,productionDate:new Date("2023-09-15")},{id:10,name:"Сталь",age:24,status:D.DEFAULT,productionDate:new Date("2023-10-20")},{id:11,name:"Алюминий",age:29,status:D.SUCCESS,productionDate:new Date("2023-11-05")},{id:12,name:"Медь",age:33,status:D.ERROR,productionDate:new Date("2023-12-15")},{id:13,name:"Титан",age:45,status:D.DEFAULT,productionDate:new Date("2024-01-03")},{id:14,name:"Бронза",age:31,status:D.SUCCESS,productionDate:new Date("2024-01-18")},{id:15,name:"Латунь",age:36,status:D.ERROR,productionDate:new Date("2024-02-01")},{id:16,name:"Никель",age:26,status:D.DEFAULT,productionDate:new Date("2024-02-14")},{id:17,name:"Цинк",age:42,status:D.SUCCESS,productionDate:new Date("2024-02-28")},{id:18,name:"Свинец",age:34,status:D.ERROR,productionDate:new Date("2024-03-10")},{id:19,name:"Олово",age:37,status:D.DEFAULT,productionDate:new Date("2024-03-22")},{id:20,name:"Хром",age:28,status:D.SUCCESS,productionDate:new Date("2024-04-05")},{id:21,name:"Вольфрам",age:39,status:D.ERROR,productionDate:new Date("2024-04-18")},{id:22,name:"Молибден",age:41,status:D.DEFAULT,productionDate:new Date("2024-05-01")},{id:23,name:"Платина",age:44,status:D.SUCCESS,productionDate:new Date("2024-05-15")},{id:24,name:"Палладий",age:30,status:D.ERROR,productionDate:new Date("2024-05-28")},{id:25,name:"Серебро",age:23,status:D.DEFAULT,productionDate:new Date("2024-06-10")}],ao=()=>{const[e,t]=C.useState([]),[n]=C.useState("onChange"),r=ce({data:uo,columns:oo,state:{sorting:e},onSortingChange:t,getCoreRowModel:le(),getSortedRowModel:Sn(),columnResizeMode:n,enableColumnResizing:!0,defaultColumn:{minSize:100,maxSize:800,size:150}}),s=r.getCenterTotalSize();return a.jsx("div",{className:q.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,style:{tableLayout:"fixed",width:Math.max(s,800)},children:[a.jsx(ue,{children:r.getHeaderGroups().map(i=>a.jsx(X,{children:i.headers.map((o,u)=>{var f;const l=o.column.getCanSort(),c=o.column.getIsSorted();return a.jsx(se,{disable:!l,sort:l,sortDirection:c,style:{width:o.getSize()},drag:!0,onMouseDown:o.getResizeHandler(),onTouchStart:o.getResizeHandler(),onClick:()=>{l&&o.column.toggleSorting()},title:ie(o.column.columnDef.header,o.getContext()),right:((f=o.column.columnDef.meta)==null?void 0:f.isNumeric)&&u!==0},o.id)})},i.id))}),a.jsx(ae,{children:r.getRowModel().rows.map(i=>a.jsx(X,{children:i.getVisibleCells().map((o,u)=>{const l=i.original.status;return a.jsx(te,{color:l,align:u===0?"left":void 0,...re(o),style:{width:o.column.getSize()}},o.id)})},i.id))})]})})};function Ve(e,t,n){let r=n.initialDeps??[],s;return()=>{var i,o,u,l;let c;n.key&&((i=n.debug)!=null&&i.call(n))&&(c=Date.now());const f=e();if(!(f.length!==r.length||f.some((d,m)=>r[m]!==d)))return s;r=f;let g;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(g=Date.now()),s=t(...f),n.key&&((u=n.debug)!=null&&u.call(n))){const d=Math.round((Date.now()-c)*100)/100,m=Math.round((Date.now()-g)*100)/100,S=m/16,y=(v,x)=>{for(v=String(v);v.length<x;)v=" "+v;return v};console.info(`%c⏱ ${y(m,5)} /${y(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,s),s}}function Vt(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const lo=(e,t)=>Math.abs(e-t)<1,co=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},go=e=>e,fo=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},po=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:u,height:l}=o;t({width:Math.round(u),height:Math.round(l)})};if(s(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const u=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},_n={passive:!0},On=typeof window>"u"?!0:"onscrollend"in window,mo=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&On?()=>{}:co(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=f=>()=>{const{horizontal:p,isRtl:g}=e.options;s=p?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(s,f)},u=o(!0),l=o(!1);l(),n.addEventListener("scroll",u,_n);const c=e.options.useScrollendEvent&&On;return c&&n.addEventListener("scrollend",l,_n),()=>{n.removeEventListener("scroll",u),c&&n.removeEventListener("scrollend",l)}},ho=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},So=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Co{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:go,rangeExtractor:fo,onChange:()=>{},measureElement:ho,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Ve(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const u=n[o];if(s.has(u.lane))continue;const l=i.get(u.lane);if(l==null||u.end>l.end?i.set(u.lane,u):u.end<l.end&&s.set(u.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,u)=>o.end===u.end?o.index-u.index:o.end-u.end)[0]:void 0},this.getMeasurementOptions=Ve(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,i,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o}),{key:!1}),this.getMeasurements=Ve(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o},u)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let f=l;f<n;f++){const p=i(f),g=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),d=g?g.end+this.options.gap:r+s,m=u.get(p),S=typeof m=="number"?m:this.options.estimateSize(f),y=d+S,v=g?g.lane:f%this.options.lanes;c[f]={index:f,start:d,size:S,end:y,key:p,lane:v}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ve(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,s)=>this.range=n.length>0&&r>0?vo({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ve(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,u=this.elementsCache.get(o);u!==n&&(u&&this.observer.unobserve(u),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Ve(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const u=n[i],l=r[u];s.push(l)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Vt(r[ms(0,r.length-1,s=>Vt(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize(),i=this.getScrollOffset();r==="auto"&&n>=i+s&&(r="end"),r==="end"&&(n-=s);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-s;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const u=s.start-this.options.scrollPaddingStart+(s.size-i)/2;switch(r){case"center":return[this.getOffsetForAlignment(u,r),r];case"end":return[this.getOffsetForAlignment(s.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(s.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[o,u]=i;this._scrollToOffset(o,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=Vt(this.getOffsetForIndex(n,u));lo(c,this.getScrollOffset())||this.scrollToIndex(n,{align:u,behavior:s})}else this.scrollToIndex(n,{align:u,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const ms=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function vo({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,i=ms(0,r,u=>e[u].start,n);let o=i;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:i,endIndex:o}}const In=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Do(e){const t=C.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?ti.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=C.useState(()=>new Co(n));return r.setOptions(n),In(()=>r._didMount(),[]),In(()=>r._willUpdate()),r}function Cn(e){return Do({observeElementRect:po,observeElementOffset:mo,scrollToFn:So,...e})}const re=e=>{const t=e.getValue();if(t instanceof Date){const n=new Date(t);if(!isNaN(n.getTime()))return{text:n.toLocaleDateString()}}return typeof t=="number"?{number:t}:typeof t=="string"?{text:t}:{children:a.jsx(me,{variant:"Body1-Medium",color:"var(--steel-90)",children:ie(e.column.columnDef.cell,e.getContext())})}};try{re.displayName="getCellProps",re.__docgenInfo={description:"",displayName:"getCellProps",props:{}}}catch{}const Eo=[{accessorKey:"id",header:"ID",size:60,meta:{isNumeric:!0}},{accessorKey:"firstName",header:"First Name"},{accessorKey:"lastName",header:"Last Name"},{accessorKey:"age",header:"Age",size:50,meta:{isNumeric:!0}},{accessorKey:"visits",header:"Visits",size:50,meta:{isNumeric:!0}},{accessorKey:"status",header:"Status"},{accessorKey:"progress",header:"Progress",size:80,meta:{isNumeric:!0}},{accessorKey:"createdAt",header:"Created At",cell:e=>e.getValue().toLocaleString(),size:180}],Fn=Array.from({length:1e3},(e,t)=>({id:t+1,firstName:"Name "+(t+1),lastName:"Last "+(t+1),age:20+t%40,visits:Math.floor(Math.random()*1e3),status:t%3===0?"error":"ok",progress:t%100,createdAt:new Date(Date.now()-t*36e5)})),yo=()=>{const e=ce({data:C.useMemo(()=>Fn,[]),columns:C.useMemo(()=>Eo,[]),getCoreRowModel:le()}),t=e.getRowModel().rows,n=C.useRef(null),r=Cn({count:t.length,getScrollElement:()=>n.current,estimateSize:()=>56,overscan:5,measureElement:s=>(s==null?void 0:s.getBoundingClientRect().height)??0});return a.jsxs("div",{children:[a.jsxs(me,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",Fn.length," rows)"]}),a.jsx("div",{className:q.tableContainer,ref:n,children:a.jsxs(oe,{style:{display:"grid"},horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{style:{display:"grid",position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(s=>a.jsx(X,{style:{display:"flex",width:"100%"},children:s.headers.map((i,o)=>{var l;const u=i.getSize();return a.jsx(se,{style:{display:"flex",width:u},title:ie(i.column.columnDef.header,i.getContext()),right:((l=i.column.columnDef.meta)==null?void 0:l.isNumeric)&&o!==0,className:q.notSortable},i.id)})},s.id))}),a.jsx(ae,{style:{display:"grid",position:"relative",height:r.getTotalSize()},children:r.getVirtualItems().map(s=>{const i=t[s.index];return a.jsx(X,{ref:o=>{o&&r.measureElement(o)},style:{position:"absolute",transform:`translateY(${s.start}px)`,display:"flex",width:"100%"},children:i.getVisibleCells().map((o,u)=>{const l=o.column.getSize();return a.jsx(te,{color:D.WARNING,style:{width:l},align:u===0?"left":void 0,...re(o)},o.id)})},i.id)})})]})})]})},wo=[{accessorKey:"id",header:"ID",size:60,meta:{isNumeric:!0}},{accessorKey:"firstName",header:"First Name"},{accessorKey:"lastName",header:"Last Name"},{accessorKey:"age",header:"Age",size:50,meta:{isNumeric:!0}},{accessorKey:"visits",header:"Visits",size:50,meta:{isNumeric:!0}},{accessorKey:"status",header:"Status"},{accessorKey:"progress",header:"Progress",size:80,meta:{isNumeric:!0}},{accessorKey:"createdAt",header:"Created At",cell:e=>e.getValue().toLocaleString(),size:180}],xo=e=>({accessorKey:`column${e}`,header:`Column ${e}`,size:100,cell:t=>`Value ${e}-${t.row.index}`}),Mn=[...wo,...Array.from({length:992},(e,t)=>xo(t+9))],Ro=Array.from({length:12},(e,t)=>{const n={id:t+1,firstName:"Name "+(t+1),lastName:"Last "+(t+1),age:20+t%40,visits:Math.floor(Math.random()*1e3),status:t%3===0?"error":"ok",progress:t%100,createdAt:new Date(Date.now()-t*36e5)};for(let r=8;r<=1e3;r++)n[`column${r}`]=`Value ${r}-${t}`;return n}),bo=()=>{var u,l;const e=ce({data:C.useMemo(()=>Ro,[]),columns:C.useMemo(()=>Mn,[]),getCoreRowModel:le()}),t=e.getVisibleLeafColumns(),n=C.useRef(null),r=Cn({count:t.length,estimateSize:c=>t[c].getSize(),getScrollElement:()=>n.current,horizontal:!0,overscan:1}),s=r.getVirtualItems(),i=((u=s[0])==null?void 0:u.start)??0,o=r.getTotalSize()-(((l=s[s.length-1])==null?void 0:l.end)??0);return a.jsxs("div",{children:[a.jsxs(me,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",Mn.length," columns)"]}),a.jsx("div",{className:q.tableContainer,ref:n,children:a.jsxs(oe,{style:{width:`${r.getTotalSize()}px`},horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{style:{position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(c=>a.jsxs(X,{style:{display:"flex",width:"100%"},children:[i>0&&a.jsx(se,{style:{width:i}}),s.map((f,p)=>{var d;const g=c.headers[f.index];return a.jsx(se,{style:{width:g.getSize()},title:ie(g.column.columnDef.header,g.getContext()),right:((d=g.column.columnDef.meta)==null?void 0:d.isNumeric)&&p!==0,className:q.notSortable},g.id)}),o>0&&a.jsx(se,{style:{width:o}})]},c.id))}),a.jsx(ae,{children:e.getRowModel().rows.map(c=>a.jsxs(X,{style:{display:"flex",width:"100%"},children:[i>0&&a.jsx(te,{style:{width:i}}),s.map(({index:f})=>{const p=c.getVisibleCells()[f];return a.jsx(te,{color:D.WARNING,style:{width:p.column.getSize()},align:f===0?"left":void 0,...re(p)},p.id)}),o>0&&a.jsx(te,{style:{width:o}})]},c.id))})]})})]})},To=e=>{const t=["В наличии","Заканчивается","Нет в наличии","Под заказ"],n=["Металлы","Сплавы","Драгоценные металлы","Редкие металлы"],r=["Сталь","Медь","Алюминий","Титан","Золото","Серебро","Платина","Никель","Цинк","Свинец","Олово","Хром","Вольфрам","Молибден"],s=new Date,i=new Date(s.getTime()-30*24*60*60*1e3);return Array.from({length:e},(o,u)=>({id:u+1,name:r[Math.floor(Math.random()*r.length)],amount:Math.floor(Math.random()*1e3)+1,status:t[Math.floor(Math.random()*t.length)],category:n[Math.floor(Math.random()*n.length)],price:Math.floor(Math.random()*1e4)+100,lastUpdate:new Date(i.getTime()+Math.random()*(s.getTime()-i.getTime())),supplier:`Поставщик ${Math.floor(Math.random()*20)+1}`,quality:Math.floor(Math.random()*100)+1}))},Nn=To(100),_o=[{accessorKey:"id",header:"ID",cell:e=>e.getValue(),size:200,enableColumnFilter:!0,enableSorting:!0,filterFn:xe,meta:{isNumeric:!0}},{accessorKey:"name",header:"Название",cell:e=>e.getValue(),enableColumnFilter:!1,enableSorting:!1,filterFn:xe},{accessorKey:"amount",header:"Количество",cell:({getValue:e})=>e().toLocaleString(),enableColumnFilter:!0,enableSorting:!0,filterFn:xe,meta:{isNumeric:!0}},{accessorKey:"status",header:"Статус",cell:e=>e.getValue(),enableColumnFilter:!0,enableSorting:!0,filterFn:xe},{accessorKey:"category",header:"Категория",cell:e=>e.getValue(),enableColumnFilter:!0,enableSorting:!0,filterFn:xe},{accessorKey:"price",header:"Цена",cell:({getValue:e})=>`${e().toLocaleString()} ₽`,enableColumnFilter:!0,filterFn:xe,meta:{isNumeric:!0}},{accessorKey:"lastUpdate",header:"Последнее обновление",cell:({getValue:e})=>new Date(e()).toLocaleDateString(),enableColumnFilter:!0,filterFn:xe},{accessorKey:"supplier",header:"Поставщик",cell:e=>e.getValue(),enableColumnFilter:!0,filterFn:xe},{accessorKey:"quality",header:"Качество",cell:({getValue:e})=>`${e()}%`,enableColumnFilter:!0,filterFn:xe,meta:{isNumeric:!0}}],Oo=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[s]=C.useState("onChange"),i=ce({data:Nn,columns:_o,state:{columnFilters:e,sorting:n},onColumnFiltersChange:t,onSortingChange:r,getCoreRowModel:le(),getSortedRowModel:Sn(),getFilteredRowModel:qi(),columnResizeMode:s,enableColumnResizing:!0,defaultColumn:{minSize:200,maxSize:800,size:200}}),o=u=>{const l=new Set;return Nn.forEach(c=>{const f=c[u];f!=null&&l.add(String(f))}),Array.from(l).map(c=>({value:c,label:c}))};return a.jsx("div",{className:q.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,style:{tableLayout:"fixed",width:i.getCenterTotalSize()},children:[a.jsx(ue,{children:i.getHeaderGroups().map(u=>a.jsx(X,{children:u.headers.map((l,c)=>{var g;const f=l.column.getCanSort(),p=l.column.getIsSorted();return a.jsx(se,{style:{width:l.getSize()},drag:!0,onMouseDown:l.getResizeHandler(),onTouchStart:l.getResizeHandler(),sort:f,filtered:!!l.column.getFilterValue(),sortDirection:p,onClick:()=>{f&&l.column.toggleSorting()},className:l.column.getCanSort()?"":q.notSortable,title:ie(l.column.columnDef.header,l.getContext()),right:((g=l.column.columnDef.meta)==null?void 0:g.isNumeric)&&c!==0,children:l.column.getCanFilter()&&a.jsx(zs,{defaultValue:"",defaultFilterType:"contains",filterTypeOptions:ni,filterValueOptions:o(l.column.id),placeholder:"Поиск ...",withPortal:!0,onFilterChange:(d,m)=>{if(!d||!m){l.column.setFilterValue(void 0);return}let S=d;l.column.id==="lastUpdate"&&d&&(S=new Date(d).toISOString()),l.column.setFilterValue({type:m,value:S})}})},l.id)})},u.id))}),a.jsx(ae,{children:i.getRowModel().rows.map(u=>a.jsx(X,{children:u.getVisibleCells().map((l,c)=>a.jsx(te,{style:{width:l.column.getSize()},align:c===0?"left":void 0,...re(l)},l.id))},u.id))})]})})},Io=[{id:"expander",header:"",cell:({row:e})=>{const t=!!e.original.details,n=e.getIsExpanded();return t?a.jsx("div",{style:{cursor:"pointer",display:"flex",alignItems:"center"},onClick:e.getToggleExpandedHandler(),children:a.jsx(Hs,{name:n?"IconChevronArrowUpOutlined16":"IconChevronArrowDownOutlined16"})}):null},size:40,enableSorting:!1,meta:{isExpander:!0}},{header:"ID",accessorKey:"id",cell:({getValue:e})=>String(e()),size:100,enableSorting:!0,meta:{isNumeric:!0}},{header:"Name",accessorKey:"name",size:150,enableSorting:!0},{header:"Age",accessorKey:"age",size:100,enableSorting:!0,meta:{isNumeric:!0}},{header:"Status",accessorKey:"status",size:120,enableSorting:!1}],Fo=[{id:1,name:"Сталь 45",age:1450,status:D.SUCCESS,details:"Конструкционная углеродистая сталь для деталей машин."},{id:2,name:"Чугун СЧ20",age:1200,status:D.ERROR,details:"Серый чугун для изготовления станин и корпусных деталей."},{id:3,name:"Сплав Д16",age:660,status:D.DEFAULT,details:"Дюралюминий для авиационных конструкций и высоконагруженных деталей."},{id:4,name:"ВТ6",age:1668,status:D.SUCCESS,details:"Титановый сплав для ответственных деталей в авиастроении."},{id:5,name:"У12А",age:1350,status:D.WARNING,details:"Инструментальная углеродистая сталь для режущих инструментов."},{id:6,name:"ХВГ",age:1280,status:D.SUCCESS,details:"Инструментальная легированная сталь для штампов холодного деформирования."},{id:7,name:"БрАЖ9-4",age:1040,status:D.DEFAULT,details:"Алюминиево-железистая бронза для подшипников и втулок."},{id:8,name:"ЛС59-1",age:880,status:D.ERROR,details:"Латунь свинцовая для деталей, работающих при высоких нагрузках."},{id:9,name:"40Х13",age:1510,status:D.SUCCESS,details:"Коррозионностойкая сталь для режущего инструмента."},{id:10,name:"АМг6",age:580,status:D.WARNING,details:"Алюминиевый сплав для сварных конструкций."},{id:11,name:"30ХГСА",age:1420,status:D.DEFAULT,details:"Конструкционная легированная сталь для ответственных деталей."},{id:12,name:"БрОЦС4-4-2.5",age:920,status:D.SUCCESS,details:"Оловянно-цинково-свинцовая бронза для антифрикционных деталей."},{id:13,name:"12Х18Н10Т",age:1480,status:D.ERROR,details:"Нержавеющая сталь для химического оборудования."},{id:14,name:"МЛ5",age:650,status:D.SUCCESS,details:"Магниевый литейный сплав для деталей авиационной техники."},{id:15,name:"ВТ1-0",age:1720,status:D.WARNING,details:"Технически чистый титан для химической промышленности."}],Mo=()=>{const[e,t]=C.useState({}),[n,r]=C.useState([]),s=ce({data:Fo,columns:Io,state:{expanded:e,sorting:n},onExpandedChange:t,onSortingChange:r,getCoreRowModel:le(),getExpandedRowModel:Hi(),getSortedRowModel:Sn(),getRowCanExpand:i=>!!i.original.details,defaultColumn:{minSize:30}});return a.jsx("div",{className:Te(q.tableContainer,q.tableContainerExpandable),children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{children:s.getHeaderGroups().map(i=>a.jsx(X,{children:i.headers.map((o,u)=>{var f,p;const l=o.column.getCanSort(),c=o.column.getIsSorted();return a.jsx(se,{sort:l,sortDirection:c,style:{width:o.getSize(),minWidth:o.getSize()},onClick:()=>{l&&o.column.toggleSorting()},className:Te(o.column.getCanSort()?"":q.notSortable,((f=o.column.columnDef.meta)==null?void 0:f.isExpander)&&q.expanderColumn),title:ie(o.column.columnDef.header,o.getContext()),right:((p=o.column.columnDef.meta)==null?void 0:p.isNumeric)&&u!==1},o.id)})},i.id))}),a.jsx(ae,{children:s.getRowModel().rows.map(i=>a.jsxs(gn.Fragment,{children:[a.jsx(X,{children:i.getVisibleCells().map((o,u)=>{var c,f;const l=i.original.status;return a.jsx(te,{color:l,align:u===1?"left":void 0,...re(o),disableHover:(c=o.column.columnDef.meta)==null?void 0:c.isExpander,className:Te(((f=o.column.columnDef.meta)==null?void 0:f.isExpander)&&q.expanderColumn)},o.id)})}),i.getIsExpanded()&&i.original.details&&a.jsx(X,{children:a.jsx(te,{colSpan:i.getVisibleCells().length,children:a.jsxs(me,{variant:"Body1-Medium",color:"var(--steel-90)",style:{padding:"8px",background:"transparent"},children:[a.jsx("strong",{children:"Details:"})," ",i.original.details]})})})]},i.id))})]})})},No=[{id:1,firstName:"Иван",lastName:"Петров",age:25,visits:10,status:D.SUCCESS,progress:80},{id:2,firstName:"Мария",lastName:"Иванова",age:32,visits:15,status:D.WARNING,progress:65},{id:3,firstName:"Алексей",lastName:"Смирнов",age:28,visits:20,status:D.SUCCESS,progress:90},{id:4,firstName:"Елена",lastName:"Козлова",age:41,visits:8,status:D.ERROR,progress:45},{id:5,firstName:"Дмитрий",lastName:"Соколов",age:35,visits:25,status:D.SUCCESS,progress:95},{id:6,firstName:"Анна",lastName:"Морозова",age:29,visits:12,status:D.WARNING,progress:70},{id:7,firstName:"Сергей",lastName:"Волков",age:45,visits:18,status:D.SUCCESS,progress:85},{id:8,firstName:"Ольга",lastName:"Павлова",age:33,visits:22,status:D.WARNING,progress:75},{id:9,firstName:"Михаил",lastName:"Новиков",age:38,visits:30,status:D.SUCCESS,progress:100},{id:10,firstName:"Татьяна",lastName:"Федорова",age:27,visits:14,status:D.ERROR,progress:50},{id:11,firstName:"Андрей",lastName:"Морозов",age:31,visits:16,status:D.SUCCESS,progress:88},{id:12,firstName:"Наталья",lastName:"Кузнецова",age:36,visits:28,status:D.WARNING,progress:72},{id:13,firstName:"Павел",lastName:"Семенов",age:42,visits:19,status:D.SUCCESS,progress:93},{id:14,firstName:"Екатерина",lastName:"Андреева",age:34,visits:24,status:D.ERROR,progress:55},{id:15,firstName:"Виктор",lastName:"Егоров",age:39,visits:21,status:D.SUCCESS,progress:82},{id:16,firstName:"Светлана",lastName:"Орлова",age:30,visits:17,status:D.WARNING,progress:68},{id:17,firstName:"Роман",lastName:"Макаров",age:37,visits:23,status:D.SUCCESS,progress:91}],Ee=Ne(),Po=[Ee.accessor("id",{cell:e=>e.getValue(),meta:{rowSpan:3,isNumeric:!0}}),Ee.group({id:"information",header:"Информация",columns:[Ee.accessor("firstName",{header:"Имя",meta:{rowSpan:2}}),Ee.accessor("lastName",{header:"Фамилия",meta:{rowSpan:2}})]}),Ee.group({id:"metrics",header:"Показатели",columns:[Ee.accessor("age",{header:"Возраст",meta:{rowSpan:2,isNumeric:!0}}),Ee.group({id:"additionalMetrics",header:"Дополнительно",columns:[Ee.accessor("visits",{header:"Посещения",meta:{isNumeric:!0}}),Ee.accessor("status",{header:"Статус"}),Ee.accessor("progress",{header:"Прогресс",meta:{isNumeric:!0}})]})]})],Ao=()=>{const e=ce({data:No,columns:Po,getCoreRowModel:le()});return a.jsx("div",{className:Te(q.tableContainer,q.tableGrouping),children:a.jsxs(oe,{verticalBorders:!0,horizontalBorders:!0,children:[a.jsx(ue,{children:e.getHeaderGroups().map(t=>a.jsx(X,{children:t.headers.map((n,r)=>{var u,l;if(n.depth-n.column.depth>1)return null;let i=1;if(n.isPlaceholder){const c=n.getLeafHeaders();i=c[c.length-1].depth-n.depth}const o=(u=n.column.columnDef.meta)==null?void 0:u.rowSpan;return o&&(i=o),a.jsx(se,{colSpan:n.colSpan,rowSpan:i,title:ie(n.column.columnDef.header,n.getContext()),className:q.notSortable,right:((l=n.column.columnDef.meta)==null?void 0:l.isNumeric)&&r!==0},n.id)})},t.id))}),a.jsx(ae,{children:e.getRowModel().rows.map(t=>a.jsx(X,{children:t.getVisibleCells().map((n,r)=>a.jsx(te,{color:t.original.status,align:r===0?"left":void 0,...re(n)},n.id))},t.id))})]})})},zo=[{id:1,plantName:"СтальПром",steel:12500,iron:11e3,efficiency:92,status:D.SUCCESS},{id:2,plantName:"МеталлКомбинат",steel:13200,iron:12100,efficiency:88,status:D.WARNING},{id:3,plantName:"УралМеталл",steel:11800,iron:10500,efficiency:95,status:D.SUCCESS},{id:4,plantName:"ВостокСталь",steel:8900,iron:7800,efficiency:85,status:D.WARNING},{id:5,plantName:"МетПромКомплекс",steel:7500,iron:6900,efficiency:78,status:D.ERROR}],_e=Ne(),Vo=[_e.accessor("id",{header:"№",size:80,meta:{rowSpan:2,isNumeric:!0}}),_e.accessor("plantName",{header:"Предприятие",size:150,meta:{rowSpan:2}}),_e.group({header:"Производство (тонн/месяц)",columns:[_e.accessor(e=>e.steel,{id:"steel",header:"Сталь",size:120,meta:{isNumeric:!0}}),_e.accessor(e=>e.iron,{id:"iron",header:"Чугун",size:120,meta:{isNumeric:!0}})]}),_e.group({header:"Показатели",columns:[_e.accessor("efficiency",{header:"Эффективность (%)",cell:e=>`${e.getValue()}%`,size:150,meta:{isNumeric:!0}}),_e.accessor("status",{header:"Статус",size:120})]})],jo=()=>{const[e]=C.useState("onChange"),t=ce({data:zo,columns:Vo,getCoreRowModel:le(),columnResizeMode:e,enableColumnResizing:!0,defaultColumn:{minSize:30,maxSize:800}});return a.jsx("div",{className:q.tableContainer,style:{width:t.getCenterTotalSize(),height:"500px"},children:a.jsxs(oe,{verticalBorders:!0,horizontalBorders:!0,style:{width:t.getCenterTotalSize()},children:[a.jsx(ue,{children:t.getHeaderGroups().map(n=>a.jsx(X,{children:n.headers.map((r,s)=>{var l,c;if(!r||!r.column||r.depth-r.column.depth>1&&r.id===r.column.id)return null;let o=1;if(r.isPlaceholder){const f=r.getLeafHeaders();o=f[f.length-1].depth-r.depth}const u=(l=r.column.columnDef.meta)==null?void 0:l.rowSpan;return u&&(o=u),a.jsx(se,{colSpan:r.colSpan,rowSpan:o,style:{width:r.getSize(),position:"relative"},drag:r.column.getCanResize(),onMouseDown:r.getResizeHandler(),onTouchStart:r.getResizeHandler(),onDoubleClick:()=>r.column.resetSize(),title:ie(r.column.columnDef.header,r.getContext()),right:((c=r.column.columnDef.meta)==null?void 0:c.isNumeric)&&s!==0},r.id)})},n.id))}),a.jsx(ae,{children:t.getRowModel().rows.map(n=>a.jsx(X,{children:n.getVisibleCells().map((r,s)=>a.jsx(te,{style:{width:r.column.getSize()},align:s===0?"left":void 0,...re(r)},r.id))},n.id))})]})})};D.DEFAULT,D.ERROR,D.SUCCESS,D.WARNING;const Bo=[{id:"select",header:({table:e})=>a.jsx(Ie,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:a.jsx(Ie,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56,meta:{className:""}},{header:"ID",accessorKey:"id",meta:{className:q.notSortable,isNumeric:!0}},{header:"Name",accessorKey:"name",meta:{className:q.notSortable}},{header:"Age",accessorKey:"age",meta:{className:q.notSortable,isNumeric:!0}},{header:"Production Date",accessorKey:"productionDate",meta:{className:q.notSortable}},{header:"Status",accessorKey:"status",meta:{className:q.notSortable}}],$o=[{id:1,name:"Сталь",age:25,status:D.DEFAULT,productionDate:new Date("2023-01-10")},{id:2,name:"Металл",age:30,status:D.SUCCESS,productionDate:new Date("2023-02-15")},{id:3,name:"Чугун",age:40,status:D.ERROR,productionDate:new Date("2023-03-20")},{id:4,name:"Алюминий",age:22,status:D.DEFAULT,productionDate:new Date("2023-04-05")},{id:5,name:"Медь",age:35,status:D.SUCCESS,productionDate:new Date("2023-05-10")},{id:6,name:"Титан",age:28,status:D.ERROR,productionDate:new Date("2023-06-18")},{id:7,name:"Бронза",age:27,status:D.DEFAULT,productionDate:new Date("2023-07-01")},{id:8,name:"Латунь",age:32,status:D.SUCCESS,productionDate:new Date("2023-08-12")},{id:9,name:"Никель",age:38,status:D.ERROR,productionDate:new Date("2023-09-15")},{id:10,name:"Цинк",age:24,status:D.DEFAULT,productionDate:new Date("2023-10-20")},{id:11,name:"Свинец",age:29,status:D.SUCCESS,productionDate:new Date("2023-11-05")},{id:12,name:"Олово",age:33,status:D.ERROR,productionDate:new Date("2023-12-15")}],Lo=()=>{const[e,t]=C.useState({}),n=ce({data:$o,columns:Bo,state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:le()});return a.jsx("div",{className:q.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{children:n.getHeaderGroups().map(r=>a.jsx(X,{children:r.headers.map((s,i)=>{var o,u;return a.jsx(se,{className:(o=s.column.columnDef.meta)==null?void 0:o.className,title:s.column.columnDef.id!=="select"?String(s.column.columnDef.header):"",right:((u=s.column.columnDef.meta)==null?void 0:u.isNumeric)&&i!==1,children:s.column.columnDef.id==="select"?ie(s.column.columnDef.header,s.getContext()):null},s.id)})},r.id))}),a.jsx(ae,{children:n.getRowModel().rows.map(r=>{const s=r.getIsSelected();return a.jsx(X,{children:r.getVisibleCells().map((i,o)=>a.jsx(te,{state:s?Fe.SELECTED:Fe.DEFAULT,style:{width:i.column.getSize()},align:o===1?"left":void 0,...i.column.id!=="select"?re(i):{},children:i.column.id==="select"?ie(i.column.columnDef.cell,i.getContext()):null},i.id))},r.id)})})]})})},Ho=[{id:"select",header:({table:e})=>a.jsx(Ie,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:a.jsx(Ie,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56,meta:{className:""}},{header:"ID",accessorKey:"id",size:80,meta:{className:q.notSortable,isNumeric:!0}},{header:"Наименование руды",accessorKey:"name",size:200,meta:{className:q.notSortable}},{header:"Тип",accessorKey:"category",size:150,meta:{className:q.notSortable}},{header:"Содержание Fe, %",accessorKey:"ironContent",cell:e=>`${Number(e.getValue()).toFixed(1)}%`,size:250,meta:{className:q.notSortable,isNumeric:!0}},{header:"Статус добычи",accessorKey:"status",size:250,meta:{className:q.notSortable}},{header:"Дата анализа",accessorKey:"lastUpdated",cell:e=>e.getValue().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),size:180,meta:{className:q.notSortable}}],at=[{id:1,name:"Магнетитовая руда",category:"Магнетитовые",ironContent:65,status:D.SUCCESS,lastUpdated:new Date("2024-02-15")},{id:2,name:"Гематитовая руда",category:"Гематитовые",ironContent:58,status:D.DEFAULT,lastUpdated:new Date("2024-02-14")},{id:3,name:"Сидеритовая руда",category:"Карбонатные",ironContent:35,status:D.ERROR,lastUpdated:new Date("2024-02-13")},{id:4,name:"Лимонитовая руда",category:"Бурые железняки",ironContent:55,status:D.SUCCESS,lastUpdated:new Date("2024-02-12")},{id:5,name:"Титаномагнетит",category:"Комплексные",ironContent:50,status:D.DEFAULT,lastUpdated:new Date("2024-02-11")},{id:6,name:"Мартитовая руда",category:"Магнетитовые",ironContent:63,status:D.SUCCESS,lastUpdated:new Date("2024-02-10")},{id:7,name:"Гётитовая руда",category:"Бурые железняки",ironContent:48,status:D.ERROR,lastUpdated:new Date("2024-02-09")},{id:8,name:"Железистые кварциты",category:"Метаморфические",ironContent:40,status:D.DEFAULT,lastUpdated:new Date("2024-02-08")},{id:9,name:"Магномагнетит",category:"Комплексные",ironContent:52,status:D.SUCCESS,lastUpdated:new Date("2024-02-07")},{id:10,name:"Красный железняк",category:"Гематитовые",ironContent:60,status:D.DEFAULT,lastUpdated:new Date("2024-02-06")},{id:11,name:"Бурый железняк",category:"Бурые железняки",ironContent:45,status:D.ERROR,lastUpdated:new Date("2024-02-05")},{id:12,name:"Шпатовый железняк",category:"Карбонатные",ironContent:38,status:D.SUCCESS,lastUpdated:new Date("2024-02-04")},{id:13,name:"Богословская руда",category:"Гематитовые",ironContent:62,status:D.WARNING,lastUpdated:new Date("2024-02-03")},{id:14,name:"Оолитовый железняк",category:"Бурые железняки",ironContent:42,status:D.WARNING,lastUpdated:new Date("2024-02-02")},{id:15,name:"Текитовая руда",category:"Метаморфические",ironContent:54,status:D.ERROR,lastUpdated:new Date("2024-02-01")},{id:16,name:"Элменитовая руда",category:"Комплексные",ironContent:47,status:D.DEFAULT,lastUpdated:new Date("2024-01-31")},{id:17,name:"Хромистый железняк",category:"Комплексные",ironContent:58,status:D.SUCCESS,lastUpdated:new Date("2024-01-30")},{id:18,name:"Гематитовый песчаник",category:"Гематитовые",ironContent:61,status:D.WARNING,lastUpdated:new Date("2024-01-29")},{id:19,name:"Сидеритовый сланец",category:"Карбонатные",ironContent:36,status:D.ERROR,lastUpdated:new Date("2024-01-28")},{id:20,name:"Железная штейн",category:"Магнетитовые",ironContent:64,status:D.SUCCESS,lastUpdated:new Date("2024-01-27")}],ko=()=>{const[e,t]=C.useState(1),[n,r]=C.useState(10),[s,i]=C.useState({}),o=ce({data:at,columns:Ho,state:{pagination:{pageIndex:e-1,pageSize:n},rowSelection:s},enableRowSelection:!0,onRowSelectionChange:i,getCoreRowModel:le(),getPaginationRowModel:Wi()}),u=o.getSelectedRowModel().rows.length;return a.jsxs(a.Fragment,{children:[a.jsx(me,{variant:"Body1-Bold",color:"var(--steel-90)",children:u>0?`Выбрано элементов: ${u} из ${at.length}`:`Всего элементов: ${at.length}`}),a.jsxs("div",{className:q.tableContainer,style:{height:"100%"},children:[a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{children:o.getHeaderGroups().map(l=>a.jsx(X,{children:l.headers.map((c,f)=>{var p,g;return a.jsx(se,{className:(p=c.column.columnDef.meta)==null?void 0:p.className,title:c.column.columnDef.id!=="select"?String(c.column.columnDef.header):"",right:((g=c.column.columnDef.meta)==null?void 0:g.isNumeric)&&f!==1,children:c.column.columnDef.id==="select"?ie(c.column.columnDef.header,c.getContext()):null},c.id)})},l.id))}),a.jsx(ae,{children:o.getRowModel().rows.map(l=>{const c=l.getIsSelected();return a.jsx(X,{children:l.getVisibleCells().map((f,p)=>a.jsx(te,{state:c?Fe.SELECTED:Fe.DEFAULT,style:{width:f.column.getSize()},align:p===1?"left":void 0,...f.column.id!=="select"?re(f):{},children:f.column.id==="select"?ie(f.column.columnDef.cell,f.getContext()):null},f.id))},l.id)})})]}),a.jsx(Qr,{currentPage:e,setCurrentPage:t,elementsPerPage:n,setElementsPerPage:r,pageSizes:[10,15,at.length],withSelect:!0,maxPageCount:Math.ceil(at.length/n)})]})]})};var it=(e=>(e[e.InProcess=0]="InProcess",e[e.Done=1]="Done",e))(it||{});const Pn=["Никель","Олово","Медь","Цинк","Алюминий","Железо"],An=["Алтай","СГОК","Стагдок","Атриум","Пилигрим","МелТЭК"],Uo=Array.from({length:20},(e,t)=>{const n=Pn[Math.floor(Math.random()*Pn.length)],r=An[Math.floor(Math.random()*An.length)],s=Math.floor(Math.random()*1e3)+100,i=Math.random()>.5?s:Math.floor(Math.random()*(s+1)),o=i===s?it.Done:it.InProcess;return{id:t+1,name:n,plan:s,fact:i,enterprise:r,status:o}}),je=Ne(),Go=[{id:"select",header:({table:e})=>a.jsx(Ie,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:a.jsx(Ie,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),meta:{rowSpan:2},size:56},je.accessor("name",{header:"Название",meta:{rowSpan:2}}),je.group({header:"Объем продукции",columns:[je.accessor(e=>e.plan,{id:"plan",header:"План",meta:{isNumeric:!0}}),je.accessor(e=>e.fact,{id:"fact",header:"Факт",meta:{isNumeric:!0,isLastInGroup:!0}})]}),je.accessor("enterprise",{header:"Предприятие",meta:{rowSpan:2}}),je.accessor("status",{header:"Статус",cell:({cell:e})=>{const t=e.getValue(),n=t===it.Done?"IconDoneCheckOutlined24":"IconScheduleTimeWatchOutlined24",r=t===it.Done?"success":"warning",s=t===it.Done?"Выполнен":"В процессе",i={color:r,icon:n};return a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:a.jsx(Jr,{...i,children:s})})},meta:{rowSpan:2}})],qo=()=>{const[e,t]=C.useState({}),n=ce({data:Uo,columns:Go,state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:le()}),r=C.useMemo(()=>["select","status"],[]);return a.jsx("div",{className:Te(q.tableContainer,q.tableGrouping),children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{children:n.getHeaderGroups().map(s=>a.jsx(X,{children:s.headers.map((i,o)=>{var g,d,m;if(i.depth-i.column.depth>1)return null;let l=1;if(i.isPlaceholder){const S=i.getLeafHeaders();l=S[S.length-1].depth-i.depth}const c=(g=i.column.columnDef.meta)==null?void 0:g.rowSpan;c&&(l=c);const f=i.column.id==="select",p=(d=i.column.columnDef.meta)==null?void 0:d.isLastInGroup;return a.jsx(se,{colSpan:i.colSpan,rowSpan:l,title:i.column.columnDef.id!=="select"?String(i.column.columnDef.header):"",right:((m=i.column.columnDef.meta)==null?void 0:m.isNumeric)&&o!==1,lastInGroup:p,className:Te({[q.notSortable]:!f}),children:f?ie(i.column.columnDef.header,i.getContext()):null},i.id)})},s.id))}),a.jsx(ae,{children:n.getRowModel().rows.map(s=>{const i=s.getIsSelected();return a.jsx(X,{children:s.getVisibleCells().map((o,u)=>a.jsx(te,{state:i?Fe.SELECTED:Fe.DEFAULT,style:{width:o.column.getSize()},align:u===1?"left":void 0,...o.column.id!=="select"?re(o):{},children:r.includes(o.column.id)?ie(o.column.columnDef.cell,o.getContext()):null},o.id))},s.id)})})]})})},zn=["Никель","Олово","Медь","Цинк","Алюминий","Железо"],Vn=["Алтай","СГОК","Стагдок","Атриум","Пилигрим","МелТЭК"],jn=Array.from({length:1e3},(e,t)=>{const n=zn[Math.floor(Math.random()*zn.length)],r=Vn[Math.floor(Math.random()*Vn.length)],s=Math.floor(Math.random()*1e3)+100,i=new Date(Date.now()+t*36e5);return{id:t+1,name:n,plan:s,date:i,enterprise:r}}),St=Ne(),Wo=[{id:"select",header:({table:e})=>a.jsx(Ie,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:a.jsx(Ie,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56},St.accessor("name",{header:"Название сырья",size:180}),St.accessor("plan",{header:"Плановый объем",meta:{isNumeric:!0}}),St.accessor("date",{header:"Сроки поставки",cell:e=>e.getValue().toLocaleString(),size:180}),St.accessor("enterprise",{header:"Предприятие"})],Ko=()=>{const[e,t]=C.useState({}),n=ce({data:C.useMemo(()=>jn,[]),columns:C.useMemo(()=>Wo,[]),state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:le()}),r=n.getRowModel().rows,s=C.useRef(null),i=Cn({count:r.length,getScrollElement:()=>s.current,estimateSize:()=>56,overscan:5,measureElement:o=>(o==null?void 0:o.getBoundingClientRect().height)??0});return a.jsxs("div",{children:[a.jsxs(me,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",jn.length," rows)"]}),a.jsx("div",{className:Te(q.tableContainer,q.tableContainer_autoWidth),ref:s,children:a.jsxs(oe,{style:{display:"grid"},horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{style:{display:"grid",position:"sticky",top:0,zIndex:1},children:n.getHeaderGroups().map(o=>a.jsx(X,{style:{display:"flex",width:"100%"},children:o.headers.map((u,l)=>{var p;const c=u.getSize(),f=u.column.columnDef.id==="select";return a.jsx(se,{style:{display:"flex",width:c},className:Te({[q.notSortable]:!f}),title:ie(u.column.columnDef.header,u.getContext()),right:((p=u.column.columnDef.meta)==null?void 0:p.isNumeric)&&l!==1},u.id)})},o.id))}),a.jsx(ae,{style:{display:"grid",position:"relative",height:i.getTotalSize()},children:i.getVirtualItems().map(o=>{const u=r[o.index];return a.jsx(X,{ref:l=>{l&&i.measureElement(l)},style:{position:"absolute",transform:`translateY(${o.start}px)`,display:"flex",width:"100%"},children:u.getVisibleCells().map((l,c)=>{const f=u.getIsSelected();return a.jsx(te,{state:f?Fe.SELECTED:Fe.DEFAULT,style:{width:l.column.getSize()},align:c===1?"left":void 0,...l.column.id!=="select"?re(l):{},children:l.column.id==="select"?ie(l.column.columnDef.cell,l.getContext()):null},l.id)})},u.id)})})]})})]})},Re=Ne(),lt=[{header:"Личные данные",id:"personalInfo",meta:{rowSpan:1},columns:[Re.accessor("id",{header:"ID",cell:e=>e.getValue(),meta:{title:"Идентификатор",size:80}}),Re.accessor("firstName",{header:"Имя",cell:e=>e.getValue(),meta:{title:"Имя сотрудника",size:120}}),Re.accessor("lastName",{header:"Фамилия",cell:e=>e.getValue(),meta:{title:"Фамилия сотрудника",size:130}}),Re.accessor("age",{header:"Возраст",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Возраст сотрудника",size:80}})]},{header:"Рабочая информация",id:"workInfo",meta:{rowSpan:1},columns:[Re.accessor("department",{header:"Отдел",cell:e=>e.getValue(),meta:{title:"Отдел",size:120}}),Re.accessor("position",{header:"Должность",cell:e=>e.getValue(),meta:{title:"Должность",size:160}})]},{header:"Статистика",id:"statistics",meta:{rowSpan:1},columns:[Re.accessor("visits",{header:"Посещения",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Количество посещений",size:100}}),Re.accessor("status",{header:"Статус",cell:e=>e.getValue(),meta:{title:"Текущий статус",size:120}}),Re.accessor("progress",{header:"Прогресс",cell:e=>`${e.getValue()}%`,meta:{isNumeric:!0,title:"Процент выполнения",size:90}})]}],Xo=[{id:"1",firstName:"Алексей",lastName:"Иванов",age:35,visits:12,status:"Активен",progress:78,department:"ИТ",position:"Разработчик"},{id:"2",firstName:"Елена",lastName:"Петрова",age:28,visits:8,status:"Активен",progress:62,department:"Маркетинг",position:"Менеджер"},{id:"3",firstName:"Дмитрий",lastName:"Смирнов",age:42,visits:5,status:"Отпуск",progress:91,department:"Руководство",position:"Директор"},{id:"4",firstName:"Ольга",lastName:"Козлова",age:31,visits:15,status:"Активен",progress:45,department:"Продажи",position:"Менеджер"},{id:"5",firstName:"Николай",lastName:"Морозов",age:39,visits:3,status:"Больничный",progress:27,department:"ИТ",position:"Архитектор"},{id:"6",firstName:"Мария",lastName:"Васильева",age:25,visits:18,status:"Активен",progress:84,department:"HR",position:"Специалист"},{id:"7",firstName:"Андрей",lastName:"Соколов",age:33,visits:9,status:"Активен",progress:53,department:"Бухгалтерия",position:"Главный бухгалтер"},{id:"8",firstName:"Ирина",lastName:"Новикова",age:29,visits:7,status:"Активен",progress:68,department:"Маркетинг",position:"Аналитик"},{id:"9",firstName:"Сергей",lastName:"Попов",age:44,visits:4,status:"Командировка",progress:96,department:"Продажи",position:"Руководитель отдела"},{id:"10",firstName:"Анна",lastName:"Кузнецова",age:27,visits:10,status:"Активен",progress:71,department:"ИТ",position:"Тестировщик"}],hs=C.createContext({dragDropManager:void 0});function k(e,t,...n){if(Yo()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function Yo(){return typeof process<"u"&&!0}function Zo(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function Jo(e,t){return e.filter(n=>n!==t)}function Ss(e){return typeof e=="object"}function Qo(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((i,o)=>{i===1&&s.push(o)}),s}function eu(e,t){return e.filter(n=>t.indexOf(n)>-1)}const vn="dnd-core/INIT_COORDS",xt="dnd-core/BEGIN_DRAG",Dn="dnd-core/PUBLISH_DRAG_SOURCE",Rt="dnd-core/HOVER",bt="dnd-core/DROP",Tt="dnd-core/END_DRAG";function Bn(e,t){return{type:vn,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const tu={type:vn,payload:{clientOffset:null,sourceClientOffset:null}};function nu(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=r,u=e.getMonitor(),l=e.getRegistry();e.dispatch(Bn(i)),ru(n,u,l);const c=ou(n,u);if(c==null){e.dispatch(tu);return}let f=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");su(o),f=o(c)}e.dispatch(Bn(i,f));const g=l.getSource(c).beginDrag(u,c);if(g==null)return;iu(g),l.pinSource(c);const d=l.getSourceType(c);return{type:xt,payload:{itemType:d,item:g,sourceId:c,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!s}}}}function ru(e,t,n){k(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){k(n.getSource(r),"Expected sourceIds to be registered.")})}function su(e){k(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function iu(e){k(Ss(e),"Item must be an object.")}function ou(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){uu(e,s,n[s])})}return e}function lu(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();cu(r),fu(r).forEach((o,u)=>{const l=du(o,u,s,r),c={type:bt,payload:{dropResult:au({},n,l)}};e.dispatch(c)})}}function cu(e){k(e.isDragging(),"Cannot call drop while not dragging."),k(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function du(e,t,n,r){const s=n.getTarget(e);let i=s?s.drop(r,e):void 0;return gu(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function gu(e){k(typeof e>"u"||Ss(e),"Drop result must either be an object or undefined.")}function fu(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function pu(e){return function(){const n=e.getMonitor(),r=e.getRegistry();mu(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:Tt}}}function mu(e){k(e.isDragging(),"Cannot call endDrag while not dragging.")}function Yt(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function hu(e){return function(n,{clientOffset:r}={}){Su(n);const s=n.slice(0),i=e.getMonitor(),o=e.getRegistry(),u=i.getItemType();return vu(s,o,u),Cu(s,i,o),Du(s,i,o),{type:Rt,payload:{targetIds:s,clientOffset:r||null}}}}function Su(e){k(Array.isArray(e),"Expected targetIds to be an array.")}function Cu(e,t,n){k(t.isDragging(),"Cannot call hover while not dragging."),k(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];k(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(s);k(i,"Expected targetIds to be registered.")}}function vu(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=t.getTargetType(s);Yt(i,n)||e.splice(r,1)}}function Du(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function Eu(e){return function(){if(e.getMonitor().isDragging())return{type:Dn}}}function yu(e){return{beginDrag:nu(e),publishDragSource:Eu(e),hover:hu(e),drop:lu(e),endDrag:pu(e)}}class wu{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...o)=>{const u=i.apply(t,o);typeof u<"u"&&n(u)}}const s=yu(this);return Object.keys(s).reduce((i,o)=>{const u=s[o];return i[o]=r(u),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function xu(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Cs(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ru(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Cs(xu(t,r),n)}function bu(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Cs(t,n)}const dt=[],En=[];dt.__IS_NONE__=!0;En.__IS_ALL__=!0;function Tu(e,t){return e===dt?!1:e===En||typeof t>"u"?!0:eu(t,e).length>0}class _u{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;k(typeof t=="function","listener must be a function."),k(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),u=o.stateId;try{u===s||u===s+1&&!Tu(o.dirtyHandlerIds,r)||t()}finally{s=u}};return this.store.subscribe(i)}subscribeToOffsetChange(t){k(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return k(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(k(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return Yt(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(k(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Yt(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const u=o.indexOf(t);return r?u===o.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ru(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return bu(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const $n=typeof global<"u"?global:self,vs=$n.MutationObserver||$n.WebKitMutationObserver;function Ds(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function Ou(e){let t=1;const n=new vs(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Iu=typeof vs=="function"?Ou:Ds;class Fu{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Iu(this.flush),this.requestErrorThrow=Ds(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Mu{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class Nu{create(t){const n=this.freeTasks,r=n.length?n.pop():new Mu(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Es=new Fu,Pu=new Nu(Es.registerPendingError);function Au(e){Es.enqueueTask(Pu.create(e))}const yn="dnd-core/ADD_SOURCE",wn="dnd-core/ADD_TARGET",xn="dnd-core/REMOVE_SOURCE",_t="dnd-core/REMOVE_TARGET";function zu(e){return{type:yn,payload:{sourceId:e}}}function Vu(e){return{type:wn,payload:{targetId:e}}}function ju(e){return{type:xn,payload:{sourceId:e}}}function Bu(e){return{type:_t,payload:{targetId:e}}}function $u(e){k(typeof e.canDrag=="function","Expected canDrag to be a function."),k(typeof e.beginDrag=="function","Expected beginDrag to be a function."),k(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Lu(e){k(typeof e.canDrop=="function","Expected canDrop to be a function."),k(typeof e.hover=="function","Expected hover to be a function."),k(typeof e.drop=="function","Expected beginDrag to be a function.")}function Zt(e,t){if(t&&Array.isArray(e)){e.forEach(n=>Zt(n,!1));return}k(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Se;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Se||(Se={}));let Hu=0;function ku(){return Hu++}function Uu(e){const t=ku().toString();switch(e){case Se.SOURCE:return`S${t}`;case Se.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Ln(e){switch(e[0]){case"S":return Se.SOURCE;case"T":return Se.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Hn(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,i]}=n.next();if(i===t)return!0;r=!!s}while(!r);return!1}class Gu{addSource(t,n){Zt(t),$u(n);const r=this.addHandler(Se.SOURCE,t,n);return this.store.dispatch(zu(r)),r}addTarget(t,n){Zt(t,!0),Lu(n);const r=this.addHandler(Se.TARGET,t,n);return this.store.dispatch(Vu(r)),r}containsHandler(t){return Hn(this.dragSources,t)||Hn(this.dropTargets,t)}getSource(t,n=!1){return k(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return k(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return k(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return k(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Ln(t)===Se.SOURCE}isTargetId(t){return Ln(t)===Se.TARGET}removeSource(t){k(this.getSource(t),"Expected an existing source."),this.store.dispatch(ju(t)),Au(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){k(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Bu(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);k(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){k(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=Uu(t);return this.types.set(s,n),t===Se.SOURCE?this.dragSources.set(s,r):t===Se.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const qu=(e,t)=>e===t;function Wu(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function Ku(e,t,n=qu){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function Xu(e=dt,t){switch(t.type){case Rt:break;case yn:case wn:case _t:case xn:return dt;case xt:case Dn:case Tt:case bt:default:return En}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=Qo(n,r);if(!(s.length>0||!Ku(n,r)))return dt;const o=r[r.length-1],u=n[n.length-1];return o!==u&&(o&&s.push(o),u&&s.push(u)),s}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Yu(e,s,n[s])})}return e}const kn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ju(e=kn,t){const{payload:n}=t;switch(t.type){case vn:case xt:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Rt:return Wu(e.clientOffset,n.clientOffset)?e:Zu({},e,{clientOffset:n.clientOffset});case Tt:case bt:return kn;default:return e}}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Qu(e,s,n[s])})}return e}const ea={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ta(e=ea,t){const{payload:n}=t;switch(t.type){case xt:return Be({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Dn:return Be({},e,{isSourcePublic:!0});case Rt:return Be({},e,{targetIds:n.targetIds});case _t:return e.targetIds.indexOf(n.targetId)===-1?e:Be({},e,{targetIds:Jo(e.targetIds,n.targetId)});case bt:return Be({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Tt:return Be({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function na(e=0,t){switch(t.type){case yn:case wn:return e+1;case xn:case _t:return e-1;default:return e}}function ra(e=0){return e+1}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){sa(e,s,n[s])})}return e}function oa(e={},t){return{dirtyHandlerIds:Xu(e.dirtyHandlerIds,{type:t.type,payload:ia({},t.payload,{prevTargetIds:Zo(e,"dragOperation.targetIds",[])})}),dragOffset:Ju(e.dragOffset,t),refCount:na(e.refCount,t),dragOperation:ta(e.dragOperation,t),stateId:ra(e.stateId)}}function ua(e,t=void 0,n={},r=!1){const s=aa(r),i=new _u(s,new Gu(s)),o=new wu(s,i),u=e(o,t,n);return o.receiveBackend(u),o}function aa(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Vs(oa,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function la(e,t){if(e==null)return{};var n=ca(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ca(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let Un=0;const Et=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ys=C.memo(function(t){var{children:n}=t,r=la(t,["children"]);const[s,i]=da(r);return C.useEffect(()=>{if(i){const o=ws();return++Un,()=>{--Un===0&&(o[Et]=null)}}},[]),a.jsx(hs.Provider,{value:s,children:n})});function da(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=ga(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function ga(e,t=ws(),n,r){const s=t;return s[Et]||(s[Et]={dragDropManager:ua(e,t,n,r)}),s[Et]}function ws(){return typeof global<"u"?global:window}var jt,Gn;function fa(){return Gn||(Gn=1,jt=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),jt}var pa=fa();const ma=ks(pa),Ae=typeof window<"u"?C.useLayoutEffect:C.useEffect;function ha(e,t,n){const[r,s]=C.useState(()=>t(e)),i=C.useCallback(()=>{const o=t(e);ma(r,o)||(s(o),n&&n())},[r,e,n]);return Ae(i),[r,i]}function Sa(e,t,n){const[r,s]=ha(e,t,n);return Ae(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(s,{handlerIds:[o]})},[e,s]),r}function xs(e,t,n){return Sa(t,e||(()=>({})),()=>n.reconnect())}function Rs(e,t){const n=[];return typeof e!="function"&&n.push(e),C.useMemo(()=>typeof e=="function"?e():e,n)}function Ca(e){return C.useMemo(()=>e.hooks.dragSource(),[e])}function va(e){return C.useMemo(()=>e.hooks.dragPreview(),[e])}let Bt=!1,$t=!1;class Da{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){k(!Bt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Bt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Bt=!1}}isDragging(){if(!this.sourceId)return!1;k(!$t,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $t=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$t=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Lt=!1;class Ea{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;k(!Lt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Lt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Lt=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function ya(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function wa(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function Jt(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const u=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){const c=i[l];if(!u(c))return!1;const f=e[c],p=t[c];if(s=void 0,s===!1||s===void 0&&f!==p)return!1}return!0}function Qt(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xa(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Ra(e){return(t=null,n=null)=>{if(!C.isValidElement(t)){const i=t;return e(i,n),i}const r=t;return xa(r),ba(r,n?i=>e(i,n):e)}}function bs(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=Ra(r);t[n]=()=>s}}),t}function qn(e,t){typeof e=="function"?e(t):e.current=t}function ba(e,t){const n=e.ref;return k(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?C.cloneElement(e,{ref:r=>{qn(n,r),qn(t,r)}}):C.cloneElement(e,{ref:t})}class Ta{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Jt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Jt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=bs({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Qt(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Qt(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class _a{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Jt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=bs({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Qt(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function ot(){const{dragDropManager:e}=C.useContext(hs);return k(e!=null,"Expected drag drop context"),e}function Oa(e,t){const n=ot(),r=C.useMemo(()=>new Ta(n.getBackend()),[n]);return Ae(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),Ae(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function Ia(){const e=ot();return C.useMemo(()=>new Da(e),[e])}class Fa{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function Ma(e,t,n){const r=C.useMemo(()=>new Fa(e,t,n),[t,n]);return C.useEffect(()=>{r.spec=e},[e]),r}function Na(e){return C.useMemo(()=>{const t=e.type;return k(t!=null,"spec.type must be defined"),t},[e])}function Pa(e,t,n){const r=ot(),s=Ma(e,t,n),i=Na(e);Ae(function(){if(i!=null){const[u,l]=wa(i,s,r);return t.receiveHandlerId(u),n.receiveHandlerId(u),l}},[r,t,n,s,i])}function Ts(e,t){const n=Rs(e);k(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Ia(),s=Oa(n.options,n.previewOptions);return Pa(n,r,s),[xs(n.collect,r,s),Ca(s),va(s)]}function Aa(e){return C.useMemo(()=>e.hooks.dropTarget(),[e])}function za(e){const t=ot(),n=C.useMemo(()=>new _a(t.getBackend()),[t]);return Ae(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function Va(){const e=ot();return C.useMemo(()=>new Ea(e),[e])}function ja(e){const{accept:t}=e;return C.useMemo(()=>(k(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class Ba{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function $a(e,t){const n=C.useMemo(()=>new Ba(e,t),[t]);return C.useEffect(()=>{n.spec=e},[e]),n}function La(e,t,n){const r=ot(),s=$a(e,t),i=ja(e);Ae(function(){const[u,l]=ya(i,s,r);return t.receiveHandlerId(u),n.receiveHandlerId(u),l},[r,t,s,n,i.map(o=>o.toString()).join("|")])}function yt(e,t){const n=Rs(e),r=Va(),s=za(n.options);return La(n,r,s),[xs(n.collect,r,s),Aa(s)]}function _s(e){let t=null;return()=>(t==null&&(t=e()),t)}function Ha(e,t){return e.filter(n=>n!==t)}function ka(e,t){const n=new Set,r=i=>n.add(i);e.forEach(r),t.forEach(r);const s=[];return n.forEach(i=>s.push(i)),s}class Ua{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=ka(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=Ha(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Ga{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Os="__NATIVE_FILE__",Is="__NATIVE_URL__",Fs="__NATIVE_TEXT__",Ms="__NATIVE_HTML__",Wn=Object.freeze(Object.defineProperty({__proto__:null,FILE:Os,HTML:Ms,TEXT:Fs,URL:Is},Symbol.toStringTag,{value:"Module"}));function Ht(e,t,n){const r=t.reduce((s,i)=>s||e.getData(i),"");return r??n}const en={[Os]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Ms]:{exposeProperties:{html:(e,t)=>Ht(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Is]:{exposeProperties:{urls:(e,t)=>Ht(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Fs]:{exposeProperties:{text:(e,t)=>Ht(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function qa(e,t){const n=en[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new Ga(n);return r.loadDataTransfer(t),r}function kt(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(en).filter(n=>{const r=en[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const Wa=_s(()=>/firefox/i.test(navigator.userAgent)),Ns=_s(()=>!!window.safari);class Kn{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:i,c3s:o}=this;let u=n.length-1;if(t===n[u])return r[u];let l=0,c=o.length-1,f;for(;l<=c;){f=Math.floor(.5*(l+c));const d=n[f];if(d<t)l=f+1;else if(d>t)c=f-1;else return r[f]}u=Math.max(0,c);const p=t-n[u],g=p*p;return r[u]+s[u]*p+i[u]*g+o[u]*p*g}constructor(t,n){const{length:r}=t,s=[];for(let d=0;d<r;d++)s.push(d);s.sort((d,m)=>t[d]<t[m]?-1:1);const i=[],o=[];let u,l;for(let d=0;d<r-1;d++)u=t[d+1]-t[d],l=n[d+1]-n[d],i.push(u),o.push(l/u);const c=[o[0]];for(let d=0;d<i.length-1;d++){const m=o[d],S=o[d+1];if(m*S<=0)c.push(0);else{u=i[d];const y=i[d+1],v=u+y;c.push(3*v/((v+y)/m+(v+u)/S))}}c.push(o[o.length-1]);const f=[],p=[];let g;for(let d=0;d<c.length-1;d++){g=o[d];const m=c[d],S=1/i[d],y=m+c[d+1]-g-g;f.push((g-m-y)*S),p.push(y*S*S)}this.xs=t,this.ys=n,this.c1s=c,this.c2s=f,this.c3s=p}}const Ka=1;function Ps(e){const t=e.nodeType===Ka?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Ct(e){return{x:e.clientX,y:e.clientY}}function Xa(e){var t;return e.nodeName==="IMG"&&(Wa()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Ya(e,t,n,r){let s=e?t.width:n,i=e?t.height:r;return Ns()&&e&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function Za(e,t,n,r,s){const i=Xa(t),u=Ps(i?e:t),l={x:n.x-u.x,y:n.y-u.y},{offsetWidth:c,offsetHeight:f}=e,{anchorX:p,anchorY:g}=r,{dragPreviewWidth:d,dragPreviewHeight:m}=Ya(i,t,c,f),S=()=>{let E=new Kn([0,.5,1],[l.y,l.y/f*m,l.y+m-f]).interpolate(g);return Ns()&&i&&(E+=(window.devicePixelRatio-1)*m),E},y=()=>new Kn([0,.5,1],[l.x,l.x/c*d,l.x+d-c]).interpolate(p),{offsetX:v,offsetY:x}=s,R=v===0||v,T=x===0||x;return{x:R?v:y(),y:T?x:S()}}class Ja{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function Qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Qa(e,s,n[s])})}return e}class el{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=o=>this.handleDragEnter(o,t),s=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return Xn({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return Xn({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Wn).some(n=>Wn[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=qa(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&Ps(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=Ct(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:u}=s,l=kt(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const f=this.monitor.getSourceId(),p=this.sourceNodes.get(f),g=this.sourcePreviewNodes.get(f)||p;if(g){const{anchorX:d,anchorY:m,offsetX:S,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),R=Za(p,g,o,{anchorX:d,anchorY:m},{offsetX:S,offsetY:y});u.setDragImage(g,R.x,R.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(u&&!u.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:u}=s,l=kt(u);l&&this.beginDragNativeItem(l,u)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Ct(s)}),i.some(u=>this.monitor.canDropOnTarget(u))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Ct(s),this.scheduleHover(i),(i||[]).some(u=>this.monitor.canDropOnTarget(u))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else kt(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Ct(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new Ja(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Ua(this.isNodeInDocument)}}const As=function(t,n,r){return new el(t,n,r)},tl="_columnListContainer_1psfi_1",nl="_customSettingsContainer_1psfi_17",rl="_searchBox_1psfi_27",sl="_column_1psfi_1",il="_dragging_1psfi_41",ol="_dropTarget_1psfi_47",ul="_childColumns_1psfi_53",al="_dropZone_1psfi_58",ll="_drawer_1psfi_72",we={columnListContainer:tl,customSettingsContainer:nl,searchBox:rl,column:sl,dragging:il,dropTarget:ol,childColumns:ul,dropZone:al,drawer:ll},vt="column",tn=({columns:e,visibleColumns:t,pinnedColumns:n,onVisibilityChange:r,onPinChange:s,columnOrder:i,onOrderChange:o})=>{const[u,l]=C.useState({}),[c,f]=C.useState({rootIds:[],parentMap:{},childrenMap:{},columnsMap:{},levels:{}});C.useEffect(()=>{const h=[],E={},w={},A={},I={},_=(L,H,G=0)=>{L.forEach(V=>{const U=V.id||(typeof V.accessorKey=="string"?V.accessorKey:null);U&&(A[U]=V,I[U]=G,H?(E[U]=H,w[H]||(w[H]=[]),w[H].push(U)):h.push(U),V.columns&&Array.isArray(V.columns)&&_(V.columns,U,G+1))})};_(e),f({rootIds:h,parentMap:E,childrenMap:w,columnsMap:A,levels:I});const z={};Object.keys(w).forEach(L=>{z[L]=!1}),l(z)},[e]);const p=C.useCallback(h=>{l(E=>({...E,[h]:!E[h]}))},[]),g=C.useCallback((h="")=>{const{rootIds:E,childrenMap:w}=c,A=h?w[h]||[]:E;return[...A].sort((I,_)=>{const z=i.indexOf(I),L=i.indexOf(_);return z!==-1&&L!==-1?z-L:z!==-1?-1:L!==-1?1:A.indexOf(I)-A.indexOf(_)})},[c,i]),d=C.useCallback((h,E)=>{r(h,E);const w=[],A=_=>{(c.childrenMap[_]||[]).forEach(L=>{w.push(L),c.childrenMap[L]&&A(L)})};c.childrenMap[h]&&(A(h),E?w.forEach(_=>{r(_,!0)}):w.forEach(_=>{r(_,!1)}));const I=c.parentMap[h];if(I){const _=c.childrenMap[I]||[],z={};_.forEach(V=>{V===h?z[V]=E:z[V]=t[V]!==!1});const L=_.every(V=>z[V]===!1),H=_.some(V=>z[V]!==!1);L?r(I,!1):H&&r(I,!0);const G=V=>{const U=c.parentMap[V];if(!U)return;const ne=c.childrenMap[U]||[],N=ne.every(O=>t[O]===!1),b=ne.some(O=>t[O]!==!1);N?r(U,!1):b&&r(U,!0),G(U)};G(I)}},[c,r,t]),m=C.useCallback((h,E,w="",A="",I="before")=>{if(h===E||w!==A)return;const _=g(w);if(_.length<=1)return;const z=_.indexOf(h),L=_.indexOf(E);if(z===-1||L===-1)return;const H=[..._];H.splice(z,1);let G;I==="before"?G=H.indexOf(E):G=H.indexOf(E)+1,G<0&&(G=0),G>H.length&&(G=H.length),H.splice(G,0,h);const V=[],U=(ne="")=>{let N;ne?ne===w?N=H:N=g(ne):w===""?N=H:N=g("");for(const b of N)V.push(b),(c.childrenMap[b]||[]).length>0&&U(b)};U(),o(V)},[c,g,o]),S=C.useCallback((h,E="")=>{const w=g(E);w.length<=1||w[0]===h||m(h,w[0],E,E,"before")},[g,m]),y=C.useCallback((h,E="")=>{const w=g(E);w.length<=1||w[w.length-1]===h||m(h,w[w.length-1],E,E,"after")},[g,m]),v=C.useCallback(({parentId:h="",position:E})=>{const[w,A]=yt({accept:vt,canDrop:I=>{const{parentMap:_}=c;return(_[I.id]||"")===h},drop:I=>(E==="start"?S(I.id,h):y(I.id,h),{handled:!0}),collect:I=>({isOver:I.isOver()&&I.canDrop()})});return a.jsx("div",{ref:A,className:we.dropZone,"data-position":E,"data-parent-id":h})},[c,S,y]),x=C.useCallback(({columnId:h,index:E,parentId:w="",level:A=0})=>{var Q;const{columnsMap:I,childrenMap:_}=c,z=I[h];if(!z)return null;const L=!!_[h]&&_[h].length>0,H=u[h]||!1,G=t[h]!==!1,V=n[h]||!1,U=typeof z.header=="string"?z.header:((Q=z.meta)==null?void 0:Q.title)||h,[{isDragging:ne},N]=Ts({type:vt,item:{id:h,parentId:w,index:E,type:vt},collect:P=>({isDragging:P.isDragging()})}),[{isOver:b,canDrop:O},M]=yt({accept:vt,canDrop:P=>{if(P.id===h)return!1;const{parentMap:W}=c;return(W[P.id]||"")===w},drop:(P,W)=>{if(W.didDrop())return;const K=g(w).indexOf(P.id),Y=g(w).indexOf(h),ee=K<Y?"after":"before";return m(P.id,h,w,w,ee),{handled:!0}},collect:P=>({isOver:P.isOver({shallow:!0}),canDrop:P.canDrop()})}),F=L?g(h):[],j=F.join(","),Z=[we.column,ne?we.dragging:"",b&&O?we.dropTarget:""].filter(Boolean).join(" "),J={marginLeft:`${A*16}px`};return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:P=>{N(M(P))},className:Z,style:J,"data-id":h,"data-parent-id":w,"data-level":A,children:a.jsx(es,{id:h,title:U,visible:G,pinned:V,hasChildren:L,expanded:H,draggable:!0,onVisibilityChange:P=>d(h,P),onPinChange:P=>s(h,P),onExpandChange:()=>p(h)})}),L&&H&&a.jsxs("div",{className:we.childColumns,children:[a.jsx(v,{parentId:h,position:"start"}),F.map((P,W)=>a.jsx(x,{columnId:P,index:W,parentId:h,level:A+1},P)),a.jsx(v,{parentId:h,position:"end"})]},j)]})},[c,u,t,n,g,p,d,s,m,v]),R=g(),T=R.join(",");return a.jsx("div",{className:we.table,children:a.jsxs("div",{children:[a.jsx(v,{position:"start"}),R.map((h,E)=>a.jsx(x,{columnId:h,index:E,parentId:"",level:0},h)),a.jsx(v,{position:"end"})]},T)})};try{tn.displayName="TableColumnList",tn.__docgenInfo={description:"Компонент TableColumnList - список колонок с возможностью перетаскивания",displayName:"TableColumnList",props:{columns:{defaultValue:null,description:"Список колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Видимость колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Закрепление колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnId: string, isVisible: boolean) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(newOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепления колонок",name:"onPinChange",required:!0,type:{name:'(columnId: string, pinned: false | "right" | "left") => void'}}}}}catch{}const nn=({columns:e,visibleColumns:t,columnOrder:n,pinnedColumns:r,onVisibilityChange:s,onOrderChange:i,onPinChange:o})=>{const[u,l]=C.useState(!1),[c,f]=C.useState({}),[p,g]=C.useState([]),[d,m]=C.useState({}),S=C.useRef({visibleColumns:{},columnOrder:[],pinnedColumns:{}}),[y,v]=C.useState(""),x=C.useRef(!1),[R,T]=C.useState({}),h=C.useCallback(()=>{const N={},b=O=>{O.forEach(M=>{M.id&&(N[M.id]=!0),M.columns&&b(M.columns)})};return b(e),N},[e]),E=C.useCallback(()=>{const N=[],b=O=>{O.forEach(M=>{M.id&&N.push(M.id),M.columns&&b(M.columns)})};return b(e),N},[e]),w=C.useCallback(()=>{let N=0,b=!1,O=0;const M={},F={},j=(W,K)=>{W.forEach(Y=>{Y.id&&(K&&(M[K]||(M[K]=[]),M[K].push(Y.id),F[Y.id]=K),Y.columns&&j(Y.columns,Y.id))})};j(e);const Z=new Set,J=W=>{if(Z.has(W))return 0;Z.add(W);const K=S.current.visibleColumns[W]??!0,Y=t[W]??!0;if(K!==Y){const ee=F[W];if(ee){const De=S.current.visibleColumns[ee]??!0,ze=t[ee]??!0;return!ze&&!Y&&De!==ze||ze&&Y&&!De&&K?0:1}else return 1}return 0};return Object.keys({...S.current.visibleColumns,...t}).forEach(W=>{N+=J(W)}),n.join(",")!==S.current.columnOrder.join(",")&&(b=!0),new Set([...Object.keys(S.current.pinnedColumns),...Object.keys(r)]).forEach(W=>{const K=S.current.pinnedColumns[W]||!1,Y=r[W]||!1;K!==Y&&O++}),N+(b?1:0)+O},[t,n,r,e]);C.useEffect(()=>{const N={},b=(O,M)=>{O.forEach(F=>{F.id&&(M&&(N[M]||(N[M]=[]),N[M].push(F.id)),F.columns&&b(F.columns,F.id))})};b(e),T(N)},[e]),C.useEffect(()=>{x.current||(f({...t}),g([...n]),m({...r}),S.current={visibleColumns:{...t},columnOrder:[...n],pinnedColumns:{...r}},x.current=!0)},[t,n,r]),C.useEffect(()=>{u&&(f({...t}),g([...n]),m({...r}),v(""))},[u,t,n,r]);const A=gn.useMemo(()=>{if(!y)return e;const N=y.toLowerCase(),b=O=>{var F;return(typeof O.header=="string"?O.header:((F=O.meta)==null?void 0:F.title)||O.id||"").toLowerCase().includes(N)?!0:O.columns&&O.columns.length>0?O.columns.some(b):!1};return e.filter(b)},[e,y]),I=N=>{l(N)},_=N=>{v(N.target.value)},z=(N,b)=>{f(F=>({...F,[N]:b}));const O=[],M=F=>{(R[F]||[]).forEach(Z=>{O.push(Z),R[Z]&&M(Z)})};R[N]&&(M(N),f(b?F=>{const j={...F};return O.forEach(Z=>{j[Z]=!0}),j}:F=>{const j={...F};return O.forEach(Z=>{j[Z]=!1}),j})),setTimeout(()=>{const F=Object.keys(R).find(j=>R[j].includes(N));if(F){f(Z=>{const J={...Z},Q=R[F]||[],P=Q.every(K=>!J[K]),W=Q.some(K=>J[K]);return P?J[F]=!1:W&&(J[F]=!0),J});const j=Z=>{const J=Object.keys(R).find(Q=>R[Q].includes(Z));J&&(f(Q=>{const P={...Q},W=R[J]||[],K=W.every(ee=>!P[ee]),Y=W.some(ee=>P[ee]);return K?P[J]=!1:Y&&(P[J]=!0),P}),j(J))};j(F)}},0)},L=N=>{g(N)},H=(N,b)=>{m(O=>({...O,[N]:b}))},G=()=>{const N=h(),b=E(),O={};s(N),i(b),o(O),S.current={visibleColumns:{...N},columnOrder:[...b],pinnedColumns:{...O}},l(!1)},V=()=>{const N=new Set,b=M=>{M.forEach(F=>{F.id&&N.add(F.id),F.columns&&b(F.columns)})};b(e);const O=[...p];N.forEach(M=>{O.includes(M)||O.push(M)}),s(c),i(O),o(d),l(!1)},U=()=>{l(!1)},ne=w();return a.jsxs(a.Fragment,{children:[a.jsxs(pe,{gap:"4px",alignItems:"center",children:[a.jsx(fe,{variant:"secondary",color:"ghost",size:"s",iconButton:a.jsx(rs,{color:"primary"}),onClick:()=>I(!0),title:"Настройки таблицы"}),a.jsx(ts,{size:"m",style:{height:"24px"},children:ne})]}),a.jsx(ns,{isOpen:u,onClose:()=>I(!1),position:"right",width:"450px",className:we.drawer,children:a.jsxs("div",{className:we.customSettingsContainer,children:[a.jsxs(pe,{style:{display:"flex",flexDirection:"column",height:"100%",gap:"16px",padding:"0px 24px"},children:[a.jsx(me,{variant:"Heading3",color:"var(--steel-90)",children:"Настройки колонок таблицы"}),a.jsx("div",{className:we.searchBox,children:a.jsx($e,{placeholder:"Поиск колонок",value:y,onChange:_,icon:a.jsx(ss,{})})}),a.jsx("div",{className:we.columnListContainer,children:a.jsx(ys,{backend:As,children:a.jsx(tn,{columns:A,visibleColumns:c,columnOrder:p,pinnedColumns:d,onVisibilityChange:z,onOrderChange:L,onPinChange:H})})})]}),a.jsxs(pe,{style:{display:"flex",gap:"16px",borderTop:"1px solid",borderColor:"var(--unique-divider)",padding:"24px",position:"fixed",bottom:0,width:"100%",backgroundColor:"var(--steel-10)"},children:[a.jsx(fe,{variant:"primary",onClick:V,children:"Применить"}),a.jsx(fe,{variant:"secondary",onClick:U,children:"Отмена"}),a.jsx(fe,{variant:"secondary",color:"ghost",onClick:G,children:"Сбросить"})]})]})})]})};try{nn.displayName="CustomSettings",nn.__docgenInfo={description:`Компонент CustomSettings - панель настроек таблицы

Отвечает за:
- Отображение модального окна настроек таблицы
- Управление видимостью колонок
- Управление порядком колонок
- Управление закреплением колонок`,displayName:"CustomSettings",props:{title:{defaultValue:null,description:"Заголовок панели настроек",name:"title",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"Определения колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Состояние видимости колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Состояние закрепленных колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},defaultVisibleColumns:{defaultValue:null,description:`Начальное состояние видимости колонок
Используется для сброса к дефолтному состоянию`,name:"defaultVisibleColumns",required:!1,type:{name:"Record<string, boolean>"}},defaultColumnOrder:{defaultValue:null,description:`Начальный порядок колонок
Используется для сброса к дефолтному состоянию`,name:"defaultColumnOrder",required:!1,type:{name:"string[]"}},defaultPinnedColumns:{defaultValue:null,description:`Начальное состояние закрепленных колонок
Используется для сброса к дефолтному состоянию`,name:"defaultPinnedColumns",required:!1,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnVisibility: Record<string, boolean>) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(columnOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепленных колонок",name:"onPinChange",required:!0,type:{name:'(pinnedColumns: Record<string, false | "right" | "left">) => void'}}}}}catch{}const rn=()=>{const e=()=>{const y=[],v=x=>{x.forEach(R=>{R.id&&y.push(R.id),R.columns&&v(R.columns)})};return v(lt),y},t=()=>{const y={},v=x=>{x.forEach(R=>{R.id&&(y[R.id]=!0),R.columns&&v(R.columns)})};return v(lt),y},[n,r]=C.useState([]),[s,i]=C.useState(t()),[o,u]=C.useState(e()),[l,c]=C.useState({}),[f]=C.useState("onChange"),p={};l.left&&l.left.forEach(y=>{p[y]="left"}),l.right&&l.right.forEach(y=>{p[y]="right"});const g=ce({data:Xo,columns:lt,state:{columnFilters:n,columnVisibility:s,columnOrder:o,columnPinning:l},onColumnFiltersChange:r,onColumnVisibilityChange:i,onColumnOrderChange:u,onColumnPinningChange:c,getCoreRowModel:le(),columnResizeMode:f,enableColumnResizing:!0,defaultColumn:{minSize:80,maxSize:500,size:120}}),d=y=>{const v={},x={},R=(h,E)=>{h.forEach(w=>{w.id&&(E&&(x[w.id]=E),w.columns&&w.columns.length>0&&R(w.columns,w.id))})};R(lt);const T=h=>{let E=h;for(;x[E];){const w=x[E];if(y[w]===!1)return!0;E=w}return!1};Object.keys(y).forEach(h=>{v[h]=y[h]&&!T(h)}),i(v)},m=y=>{u(y)},S=y=>{const v=[],x=[];Object.entries(y).forEach(([R,T])=>{T==="left"?v.push(R):T==="right"&&x.push(R)}),c({left:v,right:x})};return a.jsxs("div",{children:[a.jsx(nn,{columns:lt,visibleColumns:s,columnOrder:o,pinnedColumns:p,defaultVisibleColumns:t(),defaultColumnOrder:e(),onVisibilityChange:d,onOrderChange:m,onPinChange:S}),a.jsx("div",{className:q.tableContainer,style:{width:"100%"},children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,children:[a.jsx(ue,{style:{position:"sticky",top:0,zIndex:1},children:g.getHeaderGroups().map((y,v)=>a.jsx(X,{children:y.headers.map(x=>{var w,A,I,_;if(x.depth-x.column.depth>1)return null;let T=1;if(x.isPlaceholder){const z=x.getLeafHeaders();T=Math.max(1,z[z.length-1].depth-x.depth)}const h=(w=x.column.columnDef.meta)==null?void 0:w.rowSpan;h!==void 0&&(T=h);const E=((A=x.column.columnDef.meta)==null?void 0:A.size)||x.getSize();return a.jsx(se,{style:{width:E},colSpan:x.colSpan,rowSpan:T,drag:!0,onMouseDown:x.getResizeHandler(),onTouchStart:x.getResizeHandler(),title:typeof x.column.columnDef.header=="string"?x.column.columnDef.header:((I=x.column.columnDef.meta)==null?void 0:I.title)||x.id,right:((_=x.column.columnDef.meta)==null?void 0:_.isNumeric)&&v!==1},x.id)})},y.id))}),a.jsx(ae,{children:g.getRowModel().rows.map(y=>a.jsx(X,{children:y.getVisibleCells().map((v,x)=>{var T;const R=((T=v.column.columnDef.meta)==null?void 0:T.size)||v.column.getSize();return a.jsx(te,{style:{width:R},align:x===0?"left":void 0,...re(v)},v.id)})},y.id))})]})})]})};try{rn.displayName="SettingsTableExample",rn.__docgenInfo={description:`Компонент SettingsTableExample - пример таблицы с настраиваемыми колонками

Этот компонент демонстрирует возможности по настройке таблицы:
- Изменение порядка колонок (перетаскивание)
- Показ/скрытие колонок
- Закрепление колонок (слева/справа)`,displayName:"SettingsTableExample",props:{}}}catch{}const gt=[{id:1,name:"Сталь",age:25,status:D.DEFAULT},{id:2,name:"Металл",age:30,status:D.SUCCESS},{id:3,name:"Чугун",age:40,status:D.ERROR},{id:4,name:"Сталь",age:25,status:D.DEFAULT},{id:5,name:"Металл",age:30,status:D.SUCCESS},{id:6,name:"Чугун",age:40,status:D.ERROR},{id:7,name:"Алюминий",age:28,status:D.DEFAULT},{id:8,name:"Медь",age:35,status:D.SUCCESS},{id:9,name:"Титан",age:45,status:D.ERROR},{id:10,name:"Бронза",age:32,status:D.DEFAULT},{id:11,name:"Латунь",age:38,status:D.SUCCESS},{id:12,name:"Никель",age:27,status:D.ERROR},{id:13,name:"Цинк",age:42,status:D.DEFAULT},{id:14,name:"Свинец",age:33,status:D.SUCCESS},{id:15,name:"Олово",age:36,status:D.ERROR},{id:16,name:"Хром",age:29,status:D.DEFAULT}],Rn=[{header:"ID",accessorKey:"id",meta:{isNumeric:!0}},{header:"Name",accessorKey:"name"},{header:"Age",accessorKey:"age",meta:{isNumeric:!0}},{header:"Status",accessorKey:"status"}],sn=({data:e,columns:t,isLoading:n=!1,onSortingChange:r,onPageChange:s,onPageSizeChange:i,state:o,size:u=Bs.S,stickyHeader:l=!1,withPagination:c=!1,pagination:f})=>{const p=ce({data:e,columns:t,getCoreRowModel:le(),onSortingChange:r,state:o,pageCount:f==null?void 0:f.pageCount}),g=p.getState().pagination,d=v=>s==null?void 0:s(typeof v=="function"?v(g.pageIndex+1):v),m=v=>{var x;return i==null?void 0:i(typeof v=="function"?v(((x=o==null?void 0:o.pagination)==null?void 0:x.pageSize)||10):v)},S=v=>{v.column.getCanSort()&&v.column.toggleSorting()},y=p.getPageCount();return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:"100%"},children:n?a.jsx(pe,{justifyContent:"center",children:a.jsx(js,{})}):a.jsxs(oe,{children:[a.jsx(ue,{className:Te(l&&q.tableHeaderSticky),children:p.getHeaderGroups().map(v=>a.jsx(X,{children:v.headers.map(x=>a.jsx(se,{align:"left",onClick:()=>S(x),size:u,sort:x.column.getCanSort(),sortDirection:x.column.getIsSorted(),title:ie(x.column.columnDef.header,x.getContext())},x.id))},v.id))}),a.jsx(ae,{children:p.getRowModel().rows.map(v=>a.jsx(X,{children:v.getVisibleCells().map(x=>a.jsx(te,{align:"right",size:u,width:x.column.getSize(),children:ie(x.column.columnDef.cell,x.getContext())},x.id))},v.id))})]})}),c&&a.jsx(Qr,{currentPage:g.pageIndex+1,elementsPerPage:g.pageSize,maxPageCount:y,pageSizes:f==null?void 0:f.pageSizes,setCurrentPage:d,setElementsPerPage:m,withSelect:!0})]})};try{sn.displayName="CommonTable",sn.__docgenInfo={description:"",displayName:"CommonTable",props:{data:{defaultValue:null,description:"The data for the table to display. This array should match the type you provided to `table.setRowType<...>`. Columns can access this data via string/index or a functional accessor. When the `data` option changes reference, the table will reprocess the data.",name:"data",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"The array of column defs to use for the table.",name:"columns",required:!0,type:{name:"ColumnDef<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onSortingChange:{defaultValue:null,description:"If provided, this function will be called with an `updaterFn` when `state.sorting` changes. This overrides the default internal state management, so you will need to persist the state change either fully or partially outside of the table.",name:"onSortingChange",required:!1,type:{name:"OnChangeFn<SortingState>"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!1,type:{name:"((page: number) => void)"}},onPageSizeChange:{defaultValue:null,description:"",name:"onPageSizeChange",required:!1,type:{name:"((size: number) => void)"}},size:{defaultValue:{value:"ESize.S"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"s"'},{value:'"xs"'}]}},stickyHeader:{defaultValue:{value:"false"},description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},withPagination:{defaultValue:{value:"false"},description:"",name:"withPagination",required:!1,type:{name:"boolean"}},pagination:{defaultValue:null,description:"",name:"pagination",required:!1,type:{name:"{ pageCount: number; pageSizes: number[]; }"}},filterFns:{defaultValue:null,description:"",name:"filterFns",required:!1,type:{name:"Record<string, FilterFn<any>>"}},sortingFns:{defaultValue:null,description:"",name:"sortingFns",required:!1,type:{name:"Record<string, SortingFn<any>>"}},aggregationFns:{defaultValue:null,description:"",name:"aggregationFns",required:!1,type:{name:"Record<string, AggregationFn<any>>"}}}}}catch{}const cl=()=>{const[e,t]=C.useState(gt),[n,r]=C.useState([]),[s,i]=C.useState(1),[o,u]=C.useState(10),l=p=>{i(1),r(p)},c=Math.ceil(gt.length/o),f={sorting:n,pagination:{pageIndex:s-1,pageSize:o}};return C.useEffect(()=>{const{pagination:p,sorting:g}=f,{pageIndex:d,pageSize:m}=p,S=[...gt].sort((x,R)=>{for(const T of g)return((E,w)=>{const A=E[T.id]??0,I=w[T.id]??0;return T.desc?A<I?1:-1:A>I?1:-1})(x,R);return 0}),y=d*m,v=(d+1)*m;t(S.slice(y,v))},[s,o,n]),a.jsx(sn,{stickyHeader:!0,columns:Rn,data:e,isLoading:!1,withPagination:!0,pagination:{pageCount:c,pageSizes:[10,15]},onPageChange:i,onPageSizeChange:u,onSortingChange:l,state:f})};try{CommonTableExample.displayName="CommonTableExample",CommonTableExample.__docgenInfo={description:"",displayName:"CommonTableExample",props:{}}}catch{}const dl="_tableContainer_181ll_1",gl="_columnListContainer_181ll_11",fl="_customSettingsContainer_181ll_27",pl="_searchBox_181ll_37",ml="_column_181ll_11",hl="_dragging_181ll_51",Sl="_dropTarget_181ll_57",Cl="_childColumns_181ll_63",vl="_dropZone_181ll_68",Dl="_drawer_181ll_82",Ce={tableContainer:dl,columnListContainer:gl,customSettingsContainer:fl,searchBox:pl,column:ml,dragging:hl,dropTarget:Sl,childColumns:Cl,dropZone:vl,drawer:Dl},ge=Ne(),Ut=[{header:"Личные данные",id:"personalInfo",meta:{rowSpan:1},columns:[ge.accessor("id",{header:"ID",cell:e=>e.getValue(),meta:{title:"Идентификатор",size:80}}),ge.accessor("firstName",{header:"Имя",cell:e=>e.getValue(),meta:{title:"Имя сотрудника",size:120}}),ge.accessor("lastName",{header:"Фамилия",cell:e=>e.getValue(),meta:{title:"Фамилия сотрудника",size:130}}),ge.accessor("age",{header:"Возраст",cell:e=>e.getValue(),size:100,minSize:80,maxSize:150,meta:{isNumeric:!0,title:"Возраст сотрудника"}})]},{header:"Рабочая информация",id:"workInfo",meta:{rowSpan:1},columns:[ge.accessor("department",{header:"Отдел",cell:e=>e.getValue(),meta:{title:"Отдел",size:120}}),ge.accessor("position",{header:"Должность",cell:e=>e.getValue(),meta:{title:"Должность",size:160}})]},{header:"Статистика",id:"statistics",meta:{rowSpan:1},columns:[ge.accessor("visits",{header:"Посещения",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Количество посещений",size:100}}),ge.accessor("status",{header:"Статус",cell:e=>e.getValue(),meta:{title:"Текущий статус",size:120}}),ge.accessor("progress",{header:"Прогресс",cell:e=>`${e.getValue()}%`,size:110,minSize:90,maxSize:150,meta:{isNumeric:!0,title:"Процент выполнения"}})]},{header:"Контактная информация",id:"contactInfo",meta:{rowSpan:1},columns:[ge.accessor("email",{header:"Email",cell:e=>e.getValue(),size:250,minSize:220,maxSize:400,meta:{title:"Электронная почта"}}),ge.accessor("phone",{header:"Телефон",cell:e=>e.getValue(),size:200,minSize:180,maxSize:300,meta:{title:"Номер телефона"}}),ge.accessor("city",{header:"Город",cell:e=>e.getValue(),meta:{title:"Город проживания",size:130}}),ge.accessor("country",{header:"Страна",cell:e=>e.getValue(),meta:{title:"Страна проживания",size:130}})]},{header:"Финансовая информация",id:"financialInfo",meta:{rowSpan:1},columns:[ge.accessor("salary",{header:"Зарплата",cell:e=>`${e.getValue().toLocaleString("ru-RU")} ₽`,meta:{isNumeric:!0,title:"Заработная плата",size:120}}),ge.accessor("experience",{header:"Опыт",cell:e=>`${e.getValue()} лет`,meta:{isNumeric:!0,title:"Опыт работы (лет)",size:100}})]}],El=[{id:"1",firstName:"Алексей",lastName:"Иванов",age:35,visits:12,status:"Активен",progress:78,department:"ИТ",position:"Разработчик",email:"aleksey.ivanov@company.ru",phone:"+7 (912) 345-67-89",city:"Москва",country:"Россия",salary:15e4,experience:8},{id:"2",firstName:"Елена",lastName:"Петрова",age:28,visits:8,status:"Активен",progress:62,department:"Маркетинг",position:"Менеджер",email:"elena.petrova@company.ru",phone:"+7 (912) 456-78-90",city:"Санкт-Петербург",country:"Россия",salary:95e3,experience:5},{id:"3",firstName:"Дмитрий",lastName:"Смирнов",age:42,visits:5,status:"Отпуск",progress:91,department:"Руководство",position:"Директор",email:"dmitry.smirnov@company.ru",phone:"+7 (912) 567-89-01",city:"Москва",country:"Россия",salary:28e4,experience:15},{id:"4",firstName:"Ольга",lastName:"Козлова",age:31,visits:15,status:"Активен",progress:45,department:"Продажи",position:"Менеджер",email:"olga.kozlova@company.ru",phone:"+7 (912) 678-90-12",city:"Новосибирск",country:"Россия",salary:11e4,experience:6},{id:"5",firstName:"Николай",lastName:"Морозов",age:39,visits:3,status:"Больничный",progress:27,department:"ИТ",position:"Архитектор",email:"nikolay.morozov@company.ru",phone:"+7 (912) 789-01-23",city:"Екатеринбург",country:"Россия",salary:185e3,experience:12}],Dt="column",on=({columns:e,visibleColumns:t,pinnedColumns:n,onVisibilityChange:r,onPinChange:s,columnOrder:i,onOrderChange:o})=>{const[u,l]=C.useState({}),[c,f]=C.useState({rootIds:[],parentMap:{},childrenMap:{},columnsMap:{},levels:{}});C.useEffect(()=>{const h=[],E={},w={},A={},I={},_=(L,H,G=0)=>{L.forEach(V=>{const U=V.id||(typeof V.accessorKey=="string"?V.accessorKey:null);U&&(A[U]=V,I[U]=G,H?(E[U]=H,w[H]||(w[H]=[]),w[H].push(U)):h.push(U),V.columns&&Array.isArray(V.columns)&&_(V.columns,U,G+1))})};_(e),f({rootIds:h,parentMap:E,childrenMap:w,columnsMap:A,levels:I});const z={};Object.keys(w).forEach(L=>{z[L]=!1}),l(z)},[e]);const p=C.useCallback(h=>{l(E=>({...E,[h]:!E[h]}))},[]),g=C.useCallback((h="")=>{const{rootIds:E,childrenMap:w}=c,A=h?w[h]||[]:E;return[...A].sort((I,_)=>{const z=i.indexOf(I),L=i.indexOf(_);return z!==-1&&L!==-1?z-L:z!==-1?-1:L!==-1?1:A.indexOf(I)-A.indexOf(_)})},[c,i]),d=C.useCallback((h,E)=>{r(h,E);const w=[],A=_=>{(c.childrenMap[_]||[]).forEach(L=>{w.push(L),c.childrenMap[L]&&A(L)})};c.childrenMap[h]&&(A(h),E?w.forEach(_=>{r(_,!0)}):w.forEach(_=>{r(_,!1)}));const I=c.parentMap[h];if(I){const _=c.childrenMap[I]||[],z={};_.forEach(V=>{V===h?z[V]=E:z[V]=t[V]!==!1});const L=_.every(V=>z[V]===!1),H=_.some(V=>z[V]!==!1);L?r(I,!1):H&&r(I,!0);const G=V=>{const U=c.parentMap[V];if(!U)return;const ne=c.childrenMap[U]||[],N=ne.every(O=>t[O]===!1),b=ne.some(O=>t[O]!==!1);N?r(U,!1):b&&r(U,!0),G(U)};G(I)}},[c,r,t]),m=C.useCallback((h,E,w="",A="",I="before")=>{if(h===E||w!==A)return;const _=g(w);if(_.length<=1)return;const z=_.indexOf(h),L=_.indexOf(E);if(z===-1||L===-1)return;const H=[..._];H.splice(z,1);let G;I==="before"?G=H.indexOf(E):G=H.indexOf(E)+1,G<0&&(G=0),G>H.length&&(G=H.length),H.splice(G,0,h);const V=[],U=(ne="")=>{let N;ne?ne===w?N=H:N=g(ne):w===""?N=H:N=g("");for(const b of N)V.push(b),(c.childrenMap[b]||[]).length>0&&U(b)};U(),o(V)},[c,g,o]),S=C.useCallback((h,E="")=>{const w=g(E);w.length<=1||w[0]===h||m(h,w[0],E,E,"before")},[g,m]),y=C.useCallback((h,E="")=>{const w=g(E);w.length<=1||w[w.length-1]===h||m(h,w[w.length-1],E,E,"after")},[g,m]),v=C.useCallback(({parentId:h="",position:E})=>{const[w,A]=yt({accept:Dt,canDrop:I=>{const{parentMap:_}=c;return(_[I.id]||"")===h},drop:I=>(E==="start"?S(I.id,h):y(I.id,h),{handled:!0}),collect:I=>({isOver:I.isOver()&&I.canDrop()})});return a.jsx("div",{ref:A,className:Ce.dropZone,"data-position":E,"data-parent-id":h})},[c,S,y]),x=C.useCallback(({columnId:h,index:E,parentId:w="",level:A=0})=>{var Q;const{columnsMap:I,childrenMap:_}=c,z=I[h];if(!z)return null;const L=!!_[h]&&_[h].length>0,H=u[h]||!1,G=t[h]!==!1,V=n[h]||!1,U=typeof z.header=="string"?z.header:((Q=z.meta)==null?void 0:Q.title)||h,[{isDragging:ne},N]=Ts({type:Dt,item:{id:h,parentId:w,index:E,type:Dt},collect:P=>({isDragging:P.isDragging()})}),[{isOver:b,canDrop:O},M]=yt({accept:Dt,canDrop:P=>{if(P.id===h)return!1;const{parentMap:W}=c;return(W[P.id]||"")===w},drop:(P,W)=>{if(W.didDrop())return;const K=g(w).indexOf(P.id),Y=g(w).indexOf(h),ee=K<Y?"after":"before";return m(P.id,h,w,w,ee),{handled:!0}},collect:P=>({isOver:P.isOver({shallow:!0}),canDrop:P.canDrop()})}),F=L?g(h):[],j=F.join(","),Z=[Ce.column,ne?Ce.dragging:"",b&&O?Ce.dropTarget:""].filter(Boolean).join(" "),J={marginLeft:`${A*16}px`};return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:P=>{N(M(P))},className:Z,style:J,"data-id":h,"data-parent-id":w,"data-level":A,children:a.jsx(es,{id:h,title:U,visible:G,pinned:V,hasChildren:L,expanded:H,draggable:!0,onVisibilityChange:P=>d(h,P),onPinChange:P=>s(h,P),onExpandChange:()=>p(h)})}),L&&H&&a.jsxs("div",{className:Ce.childColumns,children:[a.jsx(v,{parentId:h,position:"start"}),F.map((P,W)=>a.jsx(x,{columnId:P,index:W,parentId:h,level:A+1},P)),a.jsx(v,{parentId:h,position:"end"})]},j)]})},[c,u,t,n,g,p,d,s,m,v]),R=g(),T=R.join(",");return a.jsx("div",{className:Ce.table,children:a.jsxs("div",{children:[a.jsx(v,{position:"start"}),R.map((h,E)=>a.jsx(x,{columnId:h,index:E,parentId:"",level:0},h)),a.jsx(v,{position:"end"})]},T)})};try{on.displayName="TableColumnList",on.__docgenInfo={description:"Компонент TableColumnList - список колонок с возможностью перетаскивания",displayName:"TableColumnList",props:{columns:{defaultValue:null,description:"Список колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Видимость колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Закрепление колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnId: string, isVisible: boolean) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(newOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепления колонок",name:"onPinChange",required:!0,type:{name:'(columnId: string, pinned: false | "right" | "left") => void'}}}}}catch{}const un=({columns:e,visibleColumns:t,columnOrder:n,pinnedColumns:r,defaultVisibleColumns:s,defaultColumnOrder:i,onVisibilityChange:o,onOrderChange:u,onPinChange:l})=>{const[c,f]=C.useState(!1),[p,g]=C.useState({}),[d,m]=C.useState([]),[S,y]=C.useState({}),v=C.useRef({visibleColumns:{},columnOrder:[],pinnedColumns:{}}),[x,R]=C.useState(""),T=C.useRef(!1);C.useEffect(()=>{T.current||(v.current={visibleColumns:s||t,columnOrder:i||n,pinnedColumns:{}})},[s,i,t,n]);const[h,E]=C.useState({}),w=C.useCallback((b,O,M)=>{b.forEach(F=>{F.id&&(O.push(F.id),M[F.id]=!0),F.columns&&w(F.columns,O,M)})},[]),A=C.useCallback(()=>{let b=0,O=!1,M=0;const F={},j={},Z=(K,Y)=>{K.forEach(ee=>{ee.id&&(Y&&(F[Y]||(F[Y]=[]),F[Y].push(ee.id),j[ee.id]=Y),ee.columns&&Z(ee.columns,ee.id))})};Z(e);const J=new Set,Q=K=>{if(J.has(K))return 0;J.add(K);const Y=v.current.visibleColumns[K]??!0,ee=t[K]??!0;if(Y!==ee){const De=j[K];if(De){const ze=v.current.visibleColumns[De]??!0,Ot=t[De]??!0;return!Ot&&!ee&&ze!==Ot||Ot&&ee&&!ze&&Y?0:1}else return 1}return 0};return Object.keys({...v.current.visibleColumns,...t}).forEach(K=>{b+=Q(K)}),n.join(",")!==v.current.columnOrder.join(",")&&(O=!0),new Set([...Object.keys(v.current.pinnedColumns),...Object.keys(r)]).forEach(K=>{const Y=v.current.pinnedColumns[K]||!1,ee=r[K]||!1;Y!==ee&&M++}),b+(O?1:0)+M},[t,n,r,e]);C.useEffect(()=>{const b={},O=(M,F)=>{M.forEach(j=>{j.id&&(F&&(b[F]||(b[F]=[]),b[F].push(j.id)),j.columns&&O(j.columns,j.id))})};O(e),E(b)},[e]),C.useEffect(()=>{T.current||(g({...t}),m([...n]),y({...r}),T.current=!0)},[t,n,r]),C.useEffect(()=>{c&&(g({...t}),m([...n]),y({...r}),R(""))},[c,t,n,r]);const I=gn.useMemo(()=>{if(!x)return e;const b=x.toLowerCase(),O=M=>{var j;return(typeof M.header=="string"?M.header:((j=M.meta)==null?void 0:j.title)||M.id||"").toLowerCase().includes(b)?!0:M.columns&&M.columns.length>0?M.columns.some(O):!1};return e.filter(O)},[e,x]),_=b=>{f(b)},z=b=>{R(b.target.value)},L=(b,O)=>{g(j=>({...j,[b]:O}));const M=[],F=j=>{(h[j]||[]).forEach(J=>{M.push(J),h[J]&&F(J)})};h[b]&&(F(b),g(O?j=>{const Z={...j};return M.forEach(J=>{Z[J]=!0}),Z}:j=>{const Z={...j};return M.forEach(J=>{Z[J]=!1}),Z})),setTimeout(()=>{const j=Object.keys(h).find(Z=>h[Z].includes(b));if(j){g(J=>{const Q={...J},P=h[j]||[],W=P.every(Y=>!Q[Y]),K=P.some(Y=>Q[Y]);return W?Q[j]=!1:K&&(Q[j]=!0),Q});const Z=J=>{const Q=Object.keys(h).find(P=>h[P].includes(J));Q&&(g(P=>{const W={...P},K=h[Q]||[],Y=K.every(De=>!W[De]),ee=K.some(De=>W[De]);return Y?W[Q]=!1:ee&&(W[Q]=!0),W}),Z(Q))};Z(j)}},0)},H=b=>{m(b)},G=(b,O)=>{y(M=>({...M,[b]:O}))},V=()=>{const b=[],O={};w(e,b,O);const M=O,F=b,j={};o(M),u(F),l(j),f(!1)},U=()=>{const b=new Set,O=F=>{F.forEach(j=>{j.id&&b.add(j.id),j.columns&&O(j.columns)})};O(e);const M=[...d];b.forEach(F=>{M.includes(F)||M.push(F)}),o(p),u(M),l(S),f(!1)},ne=()=>{f(!1)},N=A();return a.jsxs(a.Fragment,{children:[a.jsxs(pe,{gap:"4px",alignItems:"center",children:[a.jsx(fe,{variant:"secondary",color:"ghost",size:"s",iconButton:a.jsx(rs,{color:"primary"}),onClick:()=>_(!0),title:"Настройки таблицы"}),a.jsx(ts,{size:"m",style:{height:"24px"},children:N})]}),a.jsx(ns,{isOpen:c,onClose:()=>_(!1),position:"right",width:"450px",className:Ce.drawer,children:a.jsxs("div",{className:Ce.customSettingsContainer,children:[a.jsxs(pe,{style:{display:"flex",flexDirection:"column",height:"100%",gap:"16px",padding:"0px 24px"},children:[a.jsx(me,{variant:"Heading3",color:"var(--steel-90)",children:"Настройки колонок таблицы"}),a.jsx("div",{className:Ce.searchBox,children:a.jsx($e,{placeholder:"Поиск колонок",value:x,onChange:z,icon:a.jsx(ss,{})})}),a.jsx("div",{className:Ce.columnListContainer,children:a.jsx(ys,{backend:As,children:a.jsx(on,{columns:I,visibleColumns:p,columnOrder:d,pinnedColumns:S,onVisibilityChange:L,onOrderChange:H,onPinChange:G})})})]}),a.jsxs(pe,{style:{display:"flex",gap:"16px",borderTop:"1px solid",borderColor:"var(--unique-divider)",padding:"24px",position:"fixed",bottom:0,width:"100%",backgroundColor:"var(--steel-10)"},children:[a.jsx(fe,{variant:"primary",onClick:U,children:"Применить"}),a.jsx(fe,{variant:"secondary",onClick:ne,children:"Отмена"}),a.jsx(fe,{variant:"secondary",color:"ghost",onClick:V,children:"Сбросить"})]})]})})]})};try{un.displayName="CustomSettings",un.__docgenInfo={description:`Компонент CustomSettings - панель настроек таблицы

Отвечает за:
- Отображение модального окна настроек таблицы
- Управление видимостью колонок
- Управление порядком колонок
- Управление закреплением колонок`,displayName:"CustomSettings",props:{title:{defaultValue:null,description:"Заголовок панели настроек",name:"title",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"Определения колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Состояние видимости колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Состояние закрепленных колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},defaultVisibleColumns:{defaultValue:null,description:`Начальное состояние видимости колонок
Используется для сброса к дефолтному состоянию`,name:"defaultVisibleColumns",required:!1,type:{name:"Record<string, boolean>"}},defaultColumnOrder:{defaultValue:null,description:`Начальный порядок колонок
Используется для сброса к дефолтному состоянию`,name:"defaultColumnOrder",required:!1,type:{name:"string[]"}},defaultPinnedColumns:{defaultValue:null,description:`Начальное состояние закрепленных колонок
Используется для сброса к дефолтному состоянию`,name:"defaultPinnedColumns",required:!1,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnVisibility: Record<string, boolean>) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(columnOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепленных колонок",name:"onPinChange",required:!0,type:{name:'(pinnedColumns: Record<string, false | "right" | "left">) => void'}}}}}catch{}const yl=({storageKey:e,defaultSettings:t})=>{const n=C.useMemo(()=>`table-settings-${e}`,[e]),r=C.useCallback(()=>{var u,l,c,f;if(!n)return t;const o=localStorage.getItem(n);if(o){const p=JSON.parse(o);return{columnVisibility:{...t.columnVisibility,...p.columnVisibility},columnOrder:p.columnOrder&&p.columnOrder.length>0?p.columnOrder:t.columnOrder,columnPinning:{left:((u=p.columnPinning)==null?void 0:u.left)??((l=t.columnPinning)==null?void 0:l.left)??[],right:((c=p.columnPinning)==null?void 0:c.right)??((f=t.columnPinning)==null?void 0:f.right)??[]},columnSizing:{...t.columnSizing,...p.columnSizing}}}return t},[n,t]),s=C.useCallback(o=>{if(!n)return;const u=JSON.stringify(o);localStorage.setItem(n,u)},[n]),i=C.useCallback(()=>{n&&localStorage.removeItem(n)},[n]);return{loadSettings:r,saveSettings:s,clearSettings:i}},an=()=>{const e=(T,h,E)=>{T.forEach(w=>{w.id&&(h.push(w.id),E[w.id]=!0),w.columns&&e(w.columns,h,E)})},t=C.useMemo(()=>{const T=[],h={};return e(Ut,T,h),{columnVisibility:h,columnOrder:T,columnPinning:{left:[],right:[]},columnSizing:{}}},[]),{loadSettings:n,saveSettings:r}=yl({storageKey:"example-table",defaultSettings:t}),s=C.useMemo(()=>n(),[]),[i,o]=C.useState(s.columnVisibility),[u,l]=C.useState(s.columnOrder),[c,f]=C.useState(s.columnPinning),[p,g]=C.useState(s.columnSizing||{}),[d]=C.useState("onChange"),m=C.useRef(null),S=ce({data:El,columns:Ut,state:{columnVisibility:i,columnOrder:u,columnPinning:c,columnSizing:p},onColumnVisibilityChange:o,onColumnOrderChange:l,onColumnPinningChange:f,onColumnSizingChange:g,getCoreRowModel:le(),columnResizeMode:d,enableColumnResizing:!0,defaultColumn:{minSize:180,maxSize:500,size:180}});C.useEffect(()=>{r({columnVisibility:i,columnOrder:u,columnPinning:c,columnSizing:p})},[i,u,c,p,r]);const y=C.useMemo(()=>{const T={};return c.left&&c.left.forEach(h=>{T[h]="left"}),c.right&&c.right.forEach(h=>{T[h]="right"}),T},[c]),v=T=>{o(T)},x=T=>{l(T)},R=T=>{const h=[],E=[];Object.entries(T).forEach(([w,A])=>{A==="left"?h.push(w):A==="right"&&E.push(w)}),f({left:h,right:E})};return a.jsxs(a.Fragment,{children:[a.jsxs(pe,{gap:16,style:{marginBottom:"16px"},children:[a.jsx(me,{variant:"Body1-Medium",color:"var(--steel-90)",children:"Настройте таблицу через панель настроек (видимость, порядок, закрепление столбцов)."}),a.jsx(me,{variant:"Body1-Medium",color:"var(--steel-90)",children:"Настройки автоматически сохраняются в localStorage и восстанавливаются при перезагрузке страницы."})]}),a.jsx(pe,{gap:8,style:{marginBottom:"16px"},justifyContent:"flex-end",children:a.jsx(un,{columns:Ut,visibleColumns:i,columnOrder:u,pinnedColumns:y,defaultVisibleColumns:t.columnVisibility,defaultColumnOrder:t.columnOrder,onVisibilityChange:v,onOrderChange:x,onPinChange:R})}),a.jsx("div",{ref:m,className:Ce.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,style:{width:"100%",minWidth:S.getAllLeafColumns().filter(T=>T.getIsVisible()).reduce((T,h)=>T+h.getSize(),0),tableLayout:"auto"},children:[a.jsx(ue,{style:{position:"sticky",top:0,zIndex:1},children:S.getHeaderGroups().map((T,h)=>a.jsx(X,{children:T.headers.map(E=>{var z,L,H;if(E.depth-E.column.depth>1)return null;let A=1;if(E.isPlaceholder){const G=E.getLeafHeaders();A=Math.max(1,G[G.length-1].depth-E.depth)}const I=(z=E.column.columnDef.meta)==null?void 0:z.rowSpan;I!==void 0&&(A=I);let _=E.getSize();return E.subHeaders&&E.subHeaders.length>0&&(_=E.subHeaders.reduce((G,V)=>G+V.getSize(),0)),a.jsx(se,{style:{width:_,minWidth:_,maxWidth:_},colSpan:E.colSpan,rowSpan:A,drag:!E.subHeaders||E.subHeaders.length===0,onMouseDown:E.getResizeHandler(),onTouchStart:E.getResizeHandler(),title:typeof E.column.columnDef.header=="string"?E.column.columnDef.header:((L=E.column.columnDef.meta)==null?void 0:L.title)||E.id,right:((H=E.column.columnDef.meta)==null?void 0:H.isNumeric)&&h!==1},E.id)})},T.id))}),a.jsx(ae,{children:S.getRowModel().rows.map(T=>a.jsx(X,{children:T.getVisibleCells().map((h,E)=>{const w=h.column.getSize();return a.jsx(te,{style:{width:w,minWidth:w,maxWidth:w},align:E===0?"left":void 0,...re(h)},h.id)})},T.id))})]})})]})};try{an.displayName="LocalStorageTableExample",an.__docgenInfo={description:`Компонент LocalStorageTableExample - пример таблицы с сохранением настроек в localStorage

Этот компонент демонстрирует возможности по сохранению пользовательских настроек:
- Видимость колонок сохраняется в localStorage
- Порядок колонок сохраняется в localStorage
- Закрепление колонок сохраняется в localStorage
- Размеры колонок сохраняются в localStorage
- При перезагрузке страницы настройки восстанавливаются`,displayName:"LocalStorageTableExample",props:{}}}catch{}const wl="_tableContainer_1xew7_1",xl="_pinnedColumnRight_1xew7_10",Yn={tableContainer:wl,pinnedColumnRight:xl},ye=Ne(),Rl=[ye.accessor("id",{header:"ID",cell:e=>e.getValue(),size:80,meta:{title:"Идентификатор",isFixed:!0}}),ye.accessor("name",{header:"Название",cell:e=>e.getValue(),size:200,meta:{title:"Название товара",isFixed:!0}}),ye.accessor("category",{header:"Категория",cell:e=>e.getValue(),size:150,meta:{title:"Категория товара"}}),ye.accessor("price",{header:"Цена",cell:e=>`${e.getValue()} ₽`,size:120,meta:{isNumeric:!0,title:"Цена за единицу"}}),ye.accessor("quantity",{header:"Количество",cell:e=>e.getValue(),size:120,meta:{isNumeric:!0,title:"Количество на складе"}}),ye.accessor("status",{header:"Статус",cell:e=>e.getValue(),size:130,meta:{title:"Статус товара"}}),ye.accessor("supplier",{header:"Поставщик",cell:e=>e.getValue(),size:180,meta:{title:"Поставщик товара"}}),ye.accessor("warehouse",{header:"Склад",cell:e=>e.getValue(),size:150,meta:{title:"Склад хранения"}}),ye.accessor("lastUpdate",{header:"Последнее обновление",cell:e=>e.getValue(),size:180,meta:{title:"Дата последнего обновления"}}),ye.accessor("description",{header:"Описание",cell:e=>e.getValue(),size:300,meta:{title:"Описание товара"}})],bl=[{id:"1",name:"Сталь листовая холоднокатаная",category:"Листовой прокат",price:65e3,quantity:150,status:"В наличии",supplier:"Металлургический комбинат №1",warehouse:"Склад А",lastUpdate:"2025-10-15",description:"Холоднокатаная сталь толщиной 1.5мм, марка 08ПС"},{id:"2",name:"Арматура строительная А500С",category:"Сортовой прокат",price:52e3,quantity:280,status:"В наличии",supplier:"Сталепрокатный завод",warehouse:"Склад Б",lastUpdate:"2025-10-14",description:"Арматура диаметром 12мм, класс А500С"},{id:"3",name:"Труба бесшовная горячедеформированная",category:"Трубный прокат",price:78e3,quantity:95,status:"В наличии",supplier:"Трубный завод",warehouse:"Склад А",lastUpdate:"2025-10-13",description:"Труба 159x8мм, сталь 20, ГОСТ 8732-78"},{id:"4",name:"Балка двутавровая №20",category:"Фасонный прокат",price:58e3,quantity:0,status:"Нет в наличии",supplier:"Металлургический комбинат №2",warehouse:"Склад В",lastUpdate:"2025-10-10",description:"Двутавр стальной горячекатаный, высота 200мм"},{id:"5",name:"Лист горячекатаный",category:"Листовой прокат",price:61e3,quantity:220,status:"В наличии",supplier:"Металлургический комбинат №1",warehouse:"Склад Б",lastUpdate:"2025-10-16",description:"Горячекатаный лист толщиной 8мм, сталь 3СП"},{id:"6",name:"Уголок равнополочный 50x50x5",category:"Фасонный прокат",price:54e3,quantity:180,status:"В наличии",supplier:"Сталепрокатный завод",warehouse:"Склад А",lastUpdate:"2025-10-15",description:"Уголок стальной горячекатаный, ГОСТ 8509-93"},{id:"7",name:"Проволока стальная оцинкованная",category:"Метизы",price:72e3,quantity:340,status:"В наличии",supplier:"Метизный завод",warehouse:"Склад В",lastUpdate:"2025-10-14",description:"Проволока диаметром 3мм, оцинкованная, ГОСТ 3282-74"},{id:"8",name:"Швеллер гнутый 120x60x4",category:"Фасонный прокат",price:59e3,quantity:45,status:"Ограничено",supplier:"Металлургический комбинат №2",warehouse:"Склад Б",lastUpdate:"2025-10-12",description:"Швеллер стальной гнутый равнополочный"}],ln=()=>{var l,c,f;const[e,t]=C.useState({left:["id","name"],right:[]}),n=ce({data:bl,columns:Rl,state:{columnPinning:e},onColumnPinningChange:t,getCoreRowModel:le(),enableColumnPinning:!0,defaultColumn:{minSize:80,maxSize:500,size:120}}),r=(p,g=!1)=>{const d=n.getState().columnPinning,m=d.left||[],S=d.right||[];if(m.includes(p)){let y=0;const v=m.indexOf(p);for(let x=0;x<v;x++){const R=m[x],T=n.getColumn(R);T&&(y+=T.getSize())}return{styles:{position:"sticky",left:y,zIndex:g?4:2},className:""}}if(S.includes(p)){let y=0;const v=S.indexOf(p);for(let x=v+1;x<S.length;x++){const R=S[x],T=n.getColumn(R);T&&(y+=T.getSize())}return{styles:{position:"sticky",right:y,zIndex:g?4:2},className:Yn.pinnedColumnRight}}return null},s=p=>{t(g=>{const d=g.left||[],m=d.includes(p);return{...g,left:m?d.filter(S=>S!==p):[...d,p]}})},i=p=>{t(g=>{const d=g.right||[],m=d.includes(p);return{...g,right:m?d.filter(S=>S!==p):[...d,p]}})},o=()=>{t({left:[],right:[]})},u=C.useMemo(()=>{const p=e.left||[],g=e.right||[];return{left:p.length,right:g.length,total:p.length+g.length}},[e]);return a.jsxs(a.Fragment,{children:[a.jsxs(pe,{gap:8,style:{marginBottom:"16px"},justifyContent:"space-between",alignItems:"center",children:[a.jsxs(pe,{gap:8,pb:16,children:[a.jsxs(fe,{size:"s",onClick:()=>s("id"),children:[(l=e.left)!=null&&l.includes("id")?"Открепить":"Закрепить"," ID слева"]}),a.jsxs(fe,{size:"s",onClick:()=>s("name"),children:[(c=e.left)!=null&&c.includes("name")?"Открепить":"Закрепить"," Название слева"]}),a.jsxs(fe,{size:"s",onClick:()=>i("description"),children:[(f=e.right)!=null&&f.includes("description")?"Открепить":"Закрепить"," Описание справа"]}),a.jsx(fe,{variant:"secondary",size:"s",onClick:o,children:"Сбросить все закрепления"})]}),a.jsxs(me,{variant:"Body2-Medium",style:{color:"var(--steel-70)"},children:["Закреплено: ",u.total," столбцов (слева: ",u.left,", справа:"," ",u.right,")"]})]}),a.jsx("div",{className:Yn.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,style:{width:"100%",minWidth:1600,tableLayout:"auto"},children:[a.jsx(ue,{style:{position:"sticky",top:0,zIndex:3},children:n.getHeaderGroups().map(p=>a.jsx(X,{children:p.headers.map(g=>{var y,v;const d=r(g.column.id,!0),m=g.column.columnDef.size||g.getSize(),S={width:m,minWidth:m,maxWidth:m,cursor:"default",...(d==null?void 0:d.styles)||{}};return a.jsx(se,{style:S,className:d==null?void 0:d.className,title:typeof g.column.columnDef.header=="string"?g.column.columnDef.header:((y=g.column.columnDef.meta)==null?void 0:y.title)||g.id,right:(v=g.column.columnDef.meta)==null?void 0:v.isNumeric},g.id)})},p.id))}),a.jsx(ae,{children:n.getRowModel().rows.map(p=>a.jsx(X,{children:p.getVisibleCells().map(g=>{const d=r(g.column.id,!1),m=g.column.columnDef.size||g.column.getSize(),S={width:m,minWidth:m,maxWidth:m,...(d==null?void 0:d.styles)||{}};return a.jsx(te,{style:S,className:d==null?void 0:d.className,...re(g)},g.id)})},p.id))})]})})]})};try{ln.displayName="PinnedColumnsTableExample",ln.__docgenInfo={description:`Компонент PinnedColumnsTableExample - пример таблицы с закрепленными столбцами и горизонтальным скроллом

Демонстрирует:
- Закрепление столбцов слева и справа
- Горизонтальный скролл с сохранением позиции закрепленных столбцов
- Правильное позиционирование (sticky) для закрепленных столбцов
- Визуальное выделение закрепленных столбцов`,displayName:"PinnedColumnsTableExample",props:{}}}catch{}const Tl="_tableContainer_1cqja_1",_l={tableContainer:Tl},Ol=[{value:"active",label:"Активный"},{value:"pending",label:"В ожидании"},{value:"completed",label:"Завершен"}],Pe=Ne(),cn=e=>[Pe.accessor("id",{header:"ID",cell:t=>t.getValue(),size:80,enableSorting:!1,meta:{title:"Идентификатор"}}),Pe.accessor("product",{header:"Товар",cell:t=>{const n=t.row.original.id,r=t.getValue();return a.jsx($e,{value:r,onChange:s=>e(n,"product",s.target.value),size:"s",style:{width:"100%"}})},size:200,meta:{title:"Название товара",isEditable:!0}}),Pe.accessor("quantity",{header:"Количество",cell:t=>{const n=t.row.original.id,r=t.getValue();return a.jsx($e,{type:"number",value:r.toString(),onChange:s=>{e(n,"quantity",parseInt(s.target.value)||0)},size:"s",style:{width:"100%"}})},size:120,meta:{title:"Количество единиц",isNumeric:!0,isEditable:!0}}),Pe.accessor("price",{header:"Цена",cell:t=>{const n=t.row.original.id,r=t.getValue();return a.jsx($e,{type:"number",value:r.toString(),onChange:s=>e(n,"price",parseFloat(s.target.value)||0),size:"s",style:{width:"100%"}})},size:120,meta:{title:"Цена за единицу",isNumeric:!0,isEditable:!0}}),Pe.accessor("status",{header:"Статус",cell:t=>{const n=t.row.original.id,r=t.getValue();return a.jsx($s,{value:r,onChange:s=>e(n,"status",s),size:"s",style:{width:"100%"},children:Ol.map(s=>a.jsx(Ls,{value:s.value,label:s.label,children:s.label},s.value))})},size:150,meta:{title:"Статус заказа",isEditable:!0}}),Pe.accessor("notes",{header:"Примечания",cell:t=>{const n=t.row.original.id,r=t.getValue();return a.jsx($e,{value:r,onChange:s=>e(n,"notes",s.target.value),size:"s",style:{width:"100%"},placeholder:"Добавить примечание..."})},size:250,meta:{title:"Дополнительная информация",isEditable:!0}}),Pe.display({id:"total",header:"Сумма (₽)",cell:t=>{const n=t.row.original.quantity,r=t.row.original.price;return n*r},size:120,meta:{title:"Общая сумма",isNumeric:!0}})],Zn=[{id:"1",product:"Арматура А500С 12мм",quantity:15,price:52e3,status:"active",notes:"Срочная доставка на объект"},{id:"2",product:"Лист холоднокатаный 1.5мм",quantity:8,price:65e3,status:"pending",notes:""},{id:"3",product:"Труба бесшовная 159x8мм",quantity:20,price:78e3,status:"active",notes:"Требуется сертификат качества"},{id:"4",product:"Балка двутавровая №20",quantity:12,price:58e3,status:"completed",notes:"Отгружено со склада А"},{id:"5",product:"Уголок 50x50x5мм",quantity:25,price:54e3,status:"active",notes:""}];try{cn.displayName="createColumns",cn.__docgenInfo={description:"",displayName:"createColumns",props:{}}}catch{}const dn=()=>{const[e,t]=C.useState(Zn),[n,r]=C.useState({}),[s]=C.useState("onChange"),i=(p,g,d)=>{t(m=>m.map(S=>S.id===p?{...S,[g]:d}:S))},o=()=>{const g={id:(Math.max(...e.map(d=>parseInt(d.id)),0)+1).toString(),product:"Новый товар",quantity:1,price:0,status:"pending",notes:""};t([...e,g])},u=p=>{t(g=>g.filter(d=>d.id!==p))},l=()=>{t(Zn)},c=C.useMemo(()=>[...cn(i),{id:"actions",header:"Действия",cell:p=>{const g=p.row.original.id;return a.jsx(fe,{size:"s",color:"error",startIcon:a.jsx(ei,{}),onClick:()=>u(g),children:"Удалить"})},size:120,meta:{title:"Действия со строкой"}}],[e]),f=ce({data:e,columns:c,state:{columnSizing:n},onColumnSizingChange:r,getCoreRowModel:le(),columnResizeMode:s,enableColumnResizing:!0,defaultColumn:{minSize:80,maxSize:500,size:120}});return a.jsxs(a.Fragment,{children:[a.jsxs(pe,{gap:16,style:{marginBottom:"16px"},children:[a.jsx(me,{variant:"Heading4",color:"var(--steel-90)",children:"Таблица с интерактивными элементами ввода"}),a.jsx(me,{variant:"Body1-Medium",style:{color:"var(--steel-70)"},children:"Редактируйте значения прямо в таблице, добавляйте и удаляйте строки"})]}),a.jsx(pe,{gap:8,style:{marginBottom:"16px"},justifyContent:"space-between",alignItems:"center",children:a.jsxs(pe,{gap:8,children:[a.jsx(fe,{variant:"primary",size:"s",onClick:o,children:"Добавить строку"}),a.jsx(fe,{variant:"secondary",size:"s",onClick:l,children:"Сбросить изменения"})]})}),a.jsx("div",{className:_l.tableContainer,children:a.jsxs(oe,{horizontalBorders:!0,verticalBorders:!0,style:{width:"100%",minWidth:f.getAllLeafColumns().filter(p=>p.getIsVisible()).reduce((p,g)=>p+g.getSize(),0),tableLayout:"fixed"},children:[a.jsx(ue,{style:{position:"sticky",top:0,zIndex:1},children:f.getHeaderGroups().map(p=>a.jsx(X,{children:p.headers.map(g=>{var m,S;const d=g.getSize();return a.jsx(se,{style:{width:d,minWidth:d,maxWidth:d,cursor:"default"},drag:!0,onMouseDown:g.getResizeHandler(),onTouchStart:g.getResizeHandler(),title:typeof g.column.columnDef.header=="string"?g.column.columnDef.header:((m=g.column.columnDef.meta)==null?void 0:m.title)||g.id,right:(S=g.column.columnDef.meta)==null?void 0:S.isNumeric},g.id)})},p.id))}),a.jsx(ae,{children:f.getRowModel().rows.map(p=>a.jsx(X,{children:p.getVisibleCells().map(g=>{var S;const d=g.column.getSize(),m=(S=g.column.columnDef.meta)==null?void 0:S.isEditable;return a.jsx(te,{style:{width:d,minWidth:d,maxWidth:d},...m?{}:re(g),children:m?typeof g.column.columnDef.cell=="function"?g.column.columnDef.cell(g.getContext()):null:re(g).children},g.id)})},p.id))})]})})]})};try{dn.displayName="EditableCellsTableExample",dn.__docgenInfo={description:`Компонент EditableCellsTableExample - пример таблицы с интерактивными элементами ввода

Демонстрирует:
- Редактирование текстовых полей (Input)
- Редактирование числовых полей (Input type="number")
- Выбор из выпадающего списка (SimpleSelect)
- Вычисляемые поля (quantity * price)
- Сохранение изменений в состоянии
- Добавление и удаление строк`,displayName:"EditableCellsTableExample",props:{}}}catch{}const Il=e=>a.jsx("div",{style:{minHeight:80},children:a.jsx(e,{})}),Ql={title:"Table/Stories",component:oe,decorators:[Il]},Le=()=>a.jsx(so,{});Le.storyName="Таблица по умолчанию";Le.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const He=()=>a.jsx(io,{});He.storyName="Таблица с закрепленным заголовком";He.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const ke=()=>a.jsx(yo,{});ke.storyName="Виртуализированная таблица с динамической высотой строк";ke.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ue=()=>a.jsx(bo,{});Ue.storyName="Таблица с горизонтальной виртуализацией";Ue.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ge=()=>a.jsx(Oo,{});Ge.storyName="Таблица с фильтрами, сортировкой и возможностью изменения ширины столбцов";Ge.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const qe=()=>a.jsx(ao,{});qe.storyName="Таблица с сортировкой и возможностью изменения ширины столбцов";qe.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const We=()=>a.jsx(Mo,{});We.storyName="Таблица с раскрывающимися строками";We.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ke=()=>a.jsx(Ao,{});Ke.storyName="Таблица с группировкой и заголовками";Ke.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Xe=()=>a.jsx(jo,{});Xe.storyName="Таблица с группировкой и заголовками с возможностью изменения ширины столбцов";Xe.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ye=()=>a.jsx(rn,{});Ye.storyName="Таблица с настройками колонок";Ye.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ze=()=>a.jsx(Lo,{});Ze.storyName="Таблица с выбором строк";Ze.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Je=()=>a.jsx(ko,{});Je.storyName="Таблица с выбором строк и пагинацией";Je.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Qe=()=>a.jsx(qo,{});Qe.storyName="Таблица с выбором строк и многоуровневой шапкой";Qe.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const et=()=>a.jsx(Ko,{});et.storyName="Таблица с выбором строк и виртуализацией";et.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const tt=()=>a.jsx(cl,{});tt.storyName="Переиспользуемый компонент таблицы с пагинацией и сортировкой из проекта на основе TanStack";tt.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const nt=()=>a.jsx(an,{});nt.storyName="Таблица с сохранением настроек в localStorage";nt.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const rt=()=>a.jsx(ln,{});rt.storyName="Таблица с закрепленными столбцами и горизонтальным скроллом";rt.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const st=()=>a.jsx(dn,{});st.storyName="Таблица с интерактивными элементами ввода в ячейках";st.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};var Jn,Qn,er;Le.parameters={...Le.parameters,docs:{...(Jn=Le.parameters)==null?void 0:Jn.docs,source:{originalSource:"() => <TableWithTanStackExample />",...(er=(Qn=Le.parameters)==null?void 0:Qn.docs)==null?void 0:er.source}}};var tr,nr,rr;He.parameters={...He.parameters,docs:{...(tr=He.parameters)==null?void 0:tr.docs,source:{originalSource:"() => <TableWithStickyHeader />",...(rr=(nr=He.parameters)==null?void 0:nr.docs)==null?void 0:rr.source}}};var sr,ir,or;ke.parameters={...ke.parameters,docs:{...(sr=ke.parameters)==null?void 0:sr.docs,source:{originalSource:"() => <VirtualizedTableWithDynamicRowHeightExample />",...(or=(ir=ke.parameters)==null?void 0:ir.docs)==null?void 0:or.source}}};var ur,ar,lr;Ue.parameters={...Ue.parameters,docs:{...(ur=Ue.parameters)==null?void 0:ur.docs,source:{originalSource:"() => <VirtualizedTableWithHorizontalVirtualizationExample />",...(lr=(ar=Ue.parameters)==null?void 0:ar.docs)==null?void 0:lr.source}}};var cr,dr,gr;Ge.parameters={...Ge.parameters,docs:{...(cr=Ge.parameters)==null?void 0:cr.docs,source:{originalSource:"() => <FilterableTableExample />",...(gr=(dr=Ge.parameters)==null?void 0:dr.docs)==null?void 0:gr.source}}};var fr,pr,mr;qe.parameters={...qe.parameters,docs:{...(fr=qe.parameters)==null?void 0:fr.docs,source:{originalSource:"() => <SortableTableExample />",...(mr=(pr=qe.parameters)==null?void 0:pr.docs)==null?void 0:mr.source}}};var hr,Sr,Cr;We.parameters={...We.parameters,docs:{...(hr=We.parameters)==null?void 0:hr.docs,source:{originalSource:"() => <ExpandableTableExample />",...(Cr=(Sr=We.parameters)==null?void 0:Sr.docs)==null?void 0:Cr.source}}};var vr,Dr,Er;Ke.parameters={...Ke.parameters,docs:{...(vr=Ke.parameters)==null?void 0:vr.docs,source:{originalSource:"() => <GroupingHeaderTableExample />",...(Er=(Dr=Ke.parameters)==null?void 0:Dr.docs)==null?void 0:Er.source}}};var yr,wr,xr;Xe.parameters={...Xe.parameters,docs:{...(yr=Xe.parameters)==null?void 0:yr.docs,source:{originalSource:"() => <GroupHeaderTableWithResizeExample />",...(xr=(wr=Xe.parameters)==null?void 0:wr.docs)==null?void 0:xr.source}}};var Rr,br,Tr;Ye.parameters={...Ye.parameters,docs:{...(Rr=Ye.parameters)==null?void 0:Rr.docs,source:{originalSource:"() => <SettingsTableExample />",...(Tr=(br=Ye.parameters)==null?void 0:br.docs)==null?void 0:Tr.source}}};var _r,Or,Ir;Ze.parameters={...Ze.parameters,docs:{...(_r=Ze.parameters)==null?void 0:_r.docs,source:{originalSource:"() => <SelectableTableExample />",...(Ir=(Or=Ze.parameters)==null?void 0:Or.docs)==null?void 0:Ir.source}}};var Fr,Mr,Nr;Je.parameters={...Je.parameters,docs:{...(Fr=Je.parameters)==null?void 0:Fr.docs,source:{originalSource:"() => <SelectableTableWithPaginationExample />",...(Nr=(Mr=Je.parameters)==null?void 0:Mr.docs)==null?void 0:Nr.source}}};var Pr,Ar,zr;Qe.parameters={...Qe.parameters,docs:{...(Pr=Qe.parameters)==null?void 0:Pr.docs,source:{originalSource:"() => <SelectableTableWithGroupingHeaderExample />",...(zr=(Ar=Qe.parameters)==null?void 0:Ar.docs)==null?void 0:zr.source}}};var Vr,jr,Br;et.parameters={...et.parameters,docs:{...(Vr=et.parameters)==null?void 0:Vr.docs,source:{originalSource:"() => <SelectableTableWithVirtualizationExample />",...(Br=(jr=et.parameters)==null?void 0:jr.docs)==null?void 0:Br.source}}};var $r,Lr,Hr;tt.parameters={...tt.parameters,docs:{...($r=tt.parameters)==null?void 0:$r.docs,source:{originalSource:"() => <SortingPaginationExample />",...(Hr=(Lr=tt.parameters)==null?void 0:Lr.docs)==null?void 0:Hr.source}}};var kr,Ur,Gr;nt.parameters={...nt.parameters,docs:{...(kr=nt.parameters)==null?void 0:kr.docs,source:{originalSource:"() => <LocalStorageTableExample />",...(Gr=(Ur=nt.parameters)==null?void 0:Ur.docs)==null?void 0:Gr.source}}};var qr,Wr,Kr;rt.parameters={...rt.parameters,docs:{...(qr=rt.parameters)==null?void 0:qr.docs,source:{originalSource:"() => <PinnedColumnsTableExample />",...(Kr=(Wr=rt.parameters)==null?void 0:Wr.docs)==null?void 0:Kr.source}}};var Xr,Yr,Zr;st.parameters={...st.parameters,docs:{...(Xr=st.parameters)==null?void 0:Xr.docs,source:{originalSource:"() => <EditableCellsTableExample />",...(Zr=(Yr=st.parameters)==null?void 0:Yr.docs)==null?void 0:Zr.source}}};const ec=["BasicTable","StickyHeader","VirtualizedTableWithDynamicRowHeight","VirtualizedTableWithHorizontalVirtualization","FilterableTable","SortableTable","ExpandableTable","GroupingHeaderTable","GroupHeaderTableWithResize","TableWithSettings","SelectableTable","SelectableTableWithPagination","SelectableTableWithGroupingHeader","SelectableTableWithVirtualization","CommonTableWithPaginationAndSortingUsage","LocalStorageTable","PinnedColumnsTable","EditableCellsTable"];export{Le as BasicTable,tt as CommonTableWithPaginationAndSortingUsage,st as EditableCellsTable,We as ExpandableTable,Ge as FilterableTable,Xe as GroupHeaderTableWithResize,Ke as GroupingHeaderTable,nt as LocalStorageTable,rt as PinnedColumnsTable,Ze as SelectableTable,Qe as SelectableTableWithGroupingHeader,Je as SelectableTableWithPagination,et as SelectableTableWithVirtualization,qe as SortableTable,He as StickyHeader,Ye as TableWithSettings,ke as VirtualizedTableWithDynamicRowHeight,Ue as VirtualizedTableWithHorizontalVirtualization,ec as __namedExportsOrder,Ql as default};
