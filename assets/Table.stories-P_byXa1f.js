import{j as c}from"./jsx-runtime-BRNY0I4F.js";import{b6 as re,b7 as oe,b8 as z,b9 as Z,ba as ie,bb as K,aP as Dr,bc as m,a4 as tt,bd as Qr,be as de,al as Re,P as yr,bf as Jr,bg as es,B as nt,ah as ts,ay as ns,az as rs,aO as ss,bh as os}from"./TreeList-BlowYYWI.js";import"./generateUUID-X09o9Pdp.js";import"./index-qbkiYuzD.js";import"./index-DppSdhCO.js";import{B as ut}from"./index-ExEzblsB.js";import"./index-CH_Nznxf.js";import{T as Te}from"./index-qC5wYQgy.js";import{I as is}from"./index-DovCGOp-.js";import"./index-cR4M_wwG.js";import"./index-FnAFVao7.js";import"./index-n_FSf3Cv.js";import"./index-DokmLR-l.js";import{r as v,e as Er,g as as}from"./index-Bnop-kX6.js";import{m as ls,u as us,w as cs,n as ds,o as gs,v as fs,p as ps,q as hs,r as ms,s as Ss,lS as Cs,j as vs}from"./32-BTlKmMLd.js";import{c as De}from"./clsx-B-dksMZM.js";import{r as ws}from"./index-D0sJu8id.js";import"./types-CpBSVUgC.js";import"./tiny-invariant-CopsF_GD.js";import"./index-B5g4YLzC.js";const Ds=[{value:"contains",label:"Содержит",icon:c.jsx(ls,{htmlColor:"var(--brand-sapphire-60)"})},{value:"not_contains",label:"Не содержит",icon:c.jsx(us,{htmlColor:"var(--brand-sapphire-60)"})},{value:"starts_with",label:"Начинается с...",icon:c.jsx(cs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"ends_with",label:"Заканчивается на...",icon:c.jsx(ds,{htmlColor:"var(--brand-sapphire-60)"})},{value:"equals",label:"Равно",icon:c.jsx(gs,{htmlColor:"var(--brand-sapphire-60)"}),disabled:!0},{value:"not_equals",label:"Не равно",icon:c.jsx(fs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"greater",label:"Больше",icon:c.jsx(ps,{htmlColor:"var(--brand-sapphire-60)"}),disabled:!0},{value:"greater_or_equal",label:"Больше или равно",icon:c.jsx(hs,{htmlColor:"var(--brand-sapphire-60)"})},{value:"less",label:"Меньше",icon:c.jsx(ms,{htmlColor:"var(--brand-sapphire-60)"})},{value:"less_or_equal",label:"Меньше или равно",icon:c.jsx(Ss,{htmlColor:"var(--brand-sapphire-60)"})}],ys={contains:(e,t,n)=>String(e.getValue(t)).toLowerCase().includes(String(n.value).toLowerCase()),not_contains:(e,t,n)=>!String(e.getValue(t)).toLowerCase().includes(String(n.value).toLowerCase()),starts_with:(e,t,n)=>String(e.getValue(t)).toLowerCase().startsWith(String(n.value).toLowerCase()),ends_with:(e,t,n)=>String(e.getValue(t)).toLowerCase().endsWith(String(n.value).toLowerCase()),equals:(e,t,n)=>{if(t==="lastUpdate"){const r=new Date(e.getValue(t)),s=new Date(n.value);return r.toDateString()===s.toDateString()}return e.getValue(t)===n.value},not_equals:(e,t,n)=>{if(t==="lastUpdate"){const o=new Date(e.getValue(t)),i=new Date(n.value);return o.toDateString()!==i.toDateString()}const r=String(e.getValue(t)).toLowerCase(),s=String(n.value).toLowerCase();return r!==s},greater:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s>o}return Number(e.getValue(t))>Number(n.value)},greater_or_equal:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s>=o}return Number(e.getValue(t))>=Number(n.value)},less:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s<o}return Number(e.getValue(t))<Number(n.value)},less_or_equal:(e,t,n)=>{if(t==="lastUpdate"){const s=new Date(e.getValue(t)),o=new Date(n.value);return s<=o}return Number(e.getValue(t))<=Number(n.value)}},Ce=(e,t,n,r)=>{if(!n)return!0;const{type:s,value:o}=n;return o?ys[s](e,t,{type:s,value:o},r):!0};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function et(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ee(e,t){return typeof e=="function"?e(t):e}function ue(e,t){return n=>{t.setState(r=>({...r,[e]:Ee(n,r[e])}))}}function dt(e){return e instanceof Function}function Es(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Rs(e,t){const n=[],r=s=>{s.forEach(o=>{n.push(o);const i=t(o);i!=null&&i.length&&r(i)})};return r(e),n}function b(e,t,n){let r=[],s;return o=>{let i;n.key&&n.debug&&(i=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((g,h)=>r[h]!==g)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-i)*100)/100,h=Math.round((Date.now()-u)*100)/100,f=h/16,d=(p,S)=>{for(p=String(p);p.length<S;)p=" "+p;return p};console.info(`%c⏱ ${d(h,5)} /${d(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function T(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function xs(e,t,n,r){const s=()=>{var i;return(i=o.getValue())!=null?i:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:b(()=>[e,n,t,o],(i,a,l,u)=>({table:i,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),T(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(o,n,t,e)},{}),o}function bs(e,t,n,r){var s,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,g;if(a.accessorFn?g=a.accessorFn:l&&(l.includes(".")?g=f=>{let d=f;for(const S of l.split(".")){var p;d=(p=d)==null?void 0:p[S]}return d}:g=f=>f[a.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:g,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:b(()=>[!0],()=>{var f;return[h,...(f=h.columns)==null?void 0:f.flatMap(d=>d.getFlatColumns())]},T(e.options,"debugColumns")),getLeafColumns:b(()=>[e._getOrderColumnsFn()],f=>{var d;if((d=h.columns)!=null&&d.length){let p=h.columns.flatMap(S=>S.getLeafColumns());return f(p)}return[h]},T(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(h,e);return h}const ne="debugHeaders";function on(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),i.push(l)};return a(o),i},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(o,e)}),o}const Ts={createTable:e=>{e.getHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var o,i;const a=(o=r==null?void 0:r.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?o:[],l=(i=s==null?void 0:s.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?i:[],u=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(s!=null&&s.includes(h.id)));return rt(t,[...a,...u,...l],e)},T(e.options,ne)),e.getCenterHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(s!=null&&s.includes(o.id))),rt(t,n,e,"center")),T(e.options,ne)),e.getLeftHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const o=(s=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?s:[];return rt(t,o,e,"left")},T(e.options,ne)),e.getRightHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const o=(s=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?s:[];return rt(t,o,e,"right")},T(e.options,ne)),e.getFooterGroups=b(()=>[e.getHeaderGroups()],t=>[...t].reverse(),T(e.options,ne)),e.getLeftFooterGroups=b(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),T(e.options,ne)),e.getCenterFooterGroups=b(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),T(e.options,ne)),e.getRightFooterGroups=b(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),T(e.options,ne)),e.getFlatHeaders=b(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),T(e.options,ne)),e.getLeftFlatHeaders=b(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),T(e.options,ne)),e.getCenterFlatHeaders=b(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),T(e.options,ne)),e.getRightFlatHeaders=b(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),T(e.options,ne)),e.getCenterLeafHeaders=b(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),T(e.options,ne)),e.getLeftLeafHeaders=b(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),T(e.options,ne)),e.getRightLeafHeaders=b(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),T(e.options,ne)),e.getLeafHeaders=b(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,o,i,a,l,u;return[...(s=(o=t[0])==null?void 0:o.headers)!=null?s:[],...(i=(a=n[0])==null?void 0:a.headers)!=null?i:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(g=>g.getLeafHeaders()).flat()},T(e.options,ne))}};function rt(e,t,n,r){var s,o;let i=0;const a=function(f,d){d===void 0&&(d=1),i=Math.max(i,d),f.filter(p=>p.getIsVisible()).forEach(p=>{var S;(S=p.columns)!=null&&S.length&&a(p.columns,d+1)},0)};a(e);let l=[];const u=(f,d)=>{const p={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},S=[];f.forEach(w=>{const C=[...S].reverse()[0],D=w.column.depth===p.depth;let E,V=!1;if(D&&w.column.parent?E=w.column.parent:(E=w.column,V=!0),C&&(C==null?void 0:C.column)===E)C.subHeaders.push(w);else{const y=on(n,E,{id:[r,d,E.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:V,placeholderId:V?`${S.filter(x=>x.column===E).length}`:void 0,depth:d,index:S.length});y.subHeaders.push(w),S.push(y)}p.headers.push(w),w.headerGroup=p}),l.push(p),d>0&&u(S,d-1)},g=t.map((f,d)=>on(n,f,{depth:i,index:d}));u(g,i-1),l.reverse();const h=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let S=0,w=0,C=[0];p.subHeaders&&p.subHeaders.length?(C=[],h(p.subHeaders).forEach(E=>{let{colSpan:V,rowSpan:y}=E;S+=V,C.push(y)})):S=1;const D=Math.min(...C);return w=w+D,p.colSpan=S,p.rowSpan=w,{colSpan:S,rowSpan:w}});return h((s=(o=l[0])==null?void 0:o.headers)!=null?s:[]),l}const kt=(e,t,n,r,s,o,i)=>{let a={id:t,index:r,original:n,depth:s,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Rs(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const g=u.getParentRow();if(!g)break;l.push(g),u=g}return l.reverse()},getAllCells:b(()=>[e.getAllLeafColumns()],l=>l.map(u=>xs(e,a,u,u.id)),T(e.options,"debugRows")),_getAllCellsByColumnId:b(()=>[a.getAllCells()],l=>l.reduce((u,g)=>(u[g.column.id]=g,u),{}),T(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},Is={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Rr=(e,t,n)=>{var r,s;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(o))};Rr.autoRemove=e=>ge(e);const xr=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};xr.autoRemove=e=>ge(e);const br=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};br.autoRemove=e=>ge(e);const Tr=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Tr.autoRemove=e=>ge(e);const Ir=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});Ir.autoRemove=e=>ge(e)||!(e!=null&&e.length);const Or=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});Or.autoRemove=e=>ge(e)||!(e!=null&&e.length);const _r=(e,t,n)=>e.getValue(t)===n;_r.autoRemove=e=>ge(e);const Fr=(e,t,n)=>e.getValue(t)==n;Fr.autoRemove=e=>ge(e);const qt=(e,t,n)=>{let[r,s]=n;const o=e.getValue(t);return o>=r&&o<=s};qt.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(s)?1/0:s;if(o>i){const a=o;o=i,i=a}return[o,i]};qt.autoRemove=e=>ge(e)||ge(e[0])&&ge(e[1]);const we={includesString:Rr,includesStringSensitive:xr,equalsString:br,arrIncludes:Tr,arrIncludesAll:Ir,arrIncludesSome:Or,equals:_r,weakEquals:Fr,inNumberRange:qt};function ge(e){return e==null||e===""}const Os={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ue("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?we.includesString:typeof r=="number"?we.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?we.equals:Array.isArray(r)?we.arrIncludes:we.weakEquals},e.getFilterFn=()=>{var n,r;return dt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:we[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),o=r==null?void 0:r.find(g=>g.id===e.id),i=Ee(n,o?o.value:void 0);if(an(s,i,e)){var a;return(a=r==null?void 0:r.filter(g=>g.id!==e.id))!=null?a:[]}const l={id:e.id,value:i};if(o){var u;return(u=r==null?void 0:r.map(g=>g.id===e.id?l:g))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var o;return(o=Ee(t,s))==null?void 0:o.filter(i=>{const a=n.find(l=>l.id===i.id);if(a){const l=a.getFilterFn();if(an(l,i.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function an(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const _s=(e,t,n)=>n.reduce((r,s)=>{const o=s.getValue(e);return r+(typeof o=="number"?o:0)},0),Fs=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},Ms=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Ps=(e,t,n)=>{let r,s;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r===void 0?i>=i&&(r=s=i):(r>i&&(r=i),s<i&&(s=i)))}),[r,s]},Ns=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let o=s.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},Vs=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!Es(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((o,i)=>o-i);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},As=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),zs=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,js=(e,t)=>t.length,Ct={sum:_s,min:Fs,max:Ms,extent:Ps,mean:Ns,median:Vs,unique:As,uniqueCount:zs,count:js},$s={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ue("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Ct.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Ct.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return dt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Ct[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Ls(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(i=>i.id===o)).filter(Boolean),...r]}const Hs={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ue("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=b(n=>[Ze(t,n)],n=>n.findIndex(r=>r.id===e.id),T(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Ze(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Ze(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=b(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let o=[];if(!(t!=null&&t.length))o=s;else{const i=[...t],a=[...s];for(;a.length&&i.length;){const l=i.shift(),u=a.findIndex(g=>g.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return Ls(o,n,r)},T(e.options,"debugTable"))}},vt=()=>({left:[],right:[]}),Bs={getInitialState:e=>({columnPinning:vt(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ue("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var o,i;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var u,g;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((g=s==null?void 0:s.right)!=null?g:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((o=s==null?void 0:s.left)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h))),right:((i=s==null?void 0:s.right)!=null?i:[]).filter(h=>!(r!=null&&r.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,o,i;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((o=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>s==null?void 0:s.includes(a));return o?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=b(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const o=[...r??[],...s??[]];return n.filter(i=>!o.includes(i.column.id))},T(t.options,"debugRows")),e.getLeftVisibleCells=b(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),T(t.options,"debugRows")),e.getRightVisibleCells=b(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),T(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?vt():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:vt())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,o;return!!((s=r.left)!=null&&s.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),T(e.options,"debugColumns")),e.getRightLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),T(e.options,"debugColumns")),e.getCenterLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(o=>!s.includes(o.id))},T(e.options,"debugColumns"))}},st={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},wt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Us={getDefaultColumnDef:()=>st,getInitialState:e=>({columnSizing:{},columnSizingInfo:wt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ue("columnSizing",e),onColumnSizingInfoChange:ue("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:st.minSize,(r=o??e.columnDef.size)!=null?r:st.size),(s=e.columnDef.maxSize)!=null?s:st.maxSize)},e.getStart=b(n=>[n,Ze(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,o)=>s+o.getSize(),0),T(t.options,"debugColumns")),e.getAfter=b(n=>[n,Ze(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,o)=>s+o.getSize(),0),T(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var o;n+=(o=s.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return o=>{if(!r||!s||(o.persist==null||o.persist(),Dt(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),a=e?e.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[r.id,r.getSize()]],l=Dt(o)?Math.round(o.touches[0].clientX):o.clientX,u={},g=(C,D)=>{typeof D=="number"&&(t.setColumnSizingInfo(E=>{var V,y;const x=t.options.columnResizeDirection==="rtl"?-1:1,R=(D-((V=E==null?void 0:E.startOffset)!=null?V:0))*x,$=Math.max(R/((y=E==null?void 0:E.startSize)!=null?y:0),-.999999);return E.columnSizingStart.forEach(M=>{let[A,L]=M;u[A]=Math.round(Math.max(L+L*$,0)*100)/100}),{...E,deltaOffset:R,deltaPercentage:$}}),(t.options.columnResizeMode==="onChange"||C==="end")&&t.setColumnSizing(E=>({...E,...u})))},h=C=>g("move",C),f=C=>{g("end",C),t.setColumnSizingInfo(D=>({...D,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=n||typeof document<"u"?document:null,p={moveHandler:C=>h(C.clientX),upHandler:C=>{d==null||d.removeEventListener("mousemove",p.moveHandler),d==null||d.removeEventListener("mouseup",p.upHandler),f(C.clientX)}},S={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),h(C.touches[0].clientX),!1),upHandler:C=>{var D;d==null||d.removeEventListener("touchmove",S.moveHandler),d==null||d.removeEventListener("touchend",S.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),f((D=C.touches[0])==null?void 0:D.clientX)}},w=Gs()?{passive:!1}:!1;Dt(o)?(d==null||d.addEventListener("touchmove",S.moveHandler,w),d==null||d.addEventListener("touchend",S.upHandler,w)):(d==null||d.addEventListener("mousemove",p.moveHandler,w),d==null||d.addEventListener("mouseup",p.upHandler,w)),t.setColumnSizingInfo(C=>({...C,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?wt():(n=e.initialState.columnSizingInfo)!=null?n:wt())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ot=null;function Gs(){if(typeof ot=="boolean")return ot;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ot=e,ot}function Dt(e){return e.type==="touchstart"}const ks={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ue("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=b(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),T(t.options,"debugRows")),e.getVisibleCells=b(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],T(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>b(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),T(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,o)=>({...s,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Ze(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const qs={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Ws={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ue("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>we.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return dt(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:we[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Ks={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ue("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,o;e.setExpanded(r?{}:(s=(o=e.initialState)==null?void 0:o.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const i=o.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const o=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{i[a]=!0}):i=r,n=(s=n)!=null?s:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=i;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Ft=0,Mt=10,yt=()=>({pageIndex:Ft,pageSize:Mt}),Xs={getInitialState:e=>({...e,pagination:{...yt(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ue("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=o=>Ee(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?yt():(s=e.initialState.pagination)!=null?s:yt())},e.setPageIndex=r=>{e.setPagination(s=>{let o=Ee(r,s.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...s,pageIndex:o}})},e.resetPageIndex=r=>{var s,o;e.setPageIndex(r?Ft:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?s:Ft)},e.resetPageSize=r=>{var s,o;e.setPageSize(r?Mt:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?s:Mt)},e.setPageSize=r=>{e.setPagination(s=>{const o=Math.max(1,Ee(r,s.pageSize)),i=s.pageSize*s.pageIndex,a=Math.floor(i/o);return{...s,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(s=>{var o;let i=Ee(r,(o=e.options.pageCount)!=null?o:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...s,pageCount:i}}),e.getPageOptions=b(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((o,i)=>i)),s},T(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Et=()=>({top:[],bottom:[]}),Ys={getInitialState:e=>({rowPinning:Et(),...e}),getDefaultOptions:e=>({onRowPinningChange:ue("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],i=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...i,e.id,...o]);t.setRowPinning(l=>{var u,g;if(n==="bottom"){var h,f;return{top:((h=l==null?void 0:l.top)!=null?h:[]).filter(S=>!(a!=null&&a.has(S))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(S=>!(a!=null&&a.has(S))),...Array.from(a)]}}if(n==="top"){var d,p;return{top:[...((d=l==null?void 0:l.top)!=null?d:[]).filter(S=>!(a!=null&&a.has(S))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(S=>!(a!=null&&a.has(S)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(S=>!(a!=null&&a.has(S))),bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(S=>!(a!=null&&a.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>s==null?void 0:s.includes(a));return o?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const o=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:a}=i;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Et():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Et())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,o;return!!((s=r.top)!=null&&s.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(i=>{const a=e.getRow(i,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(i=>t.find(a=>a.id===i))).filter(Boolean).map(i=>({...i,position:r}))},e.getTopRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),T(e.options,"debugRows")),e.getBottomRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),T(e.options,"debugRows")),e.getCenterRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(o=>!s.has(o.id))},T(e.options,"debugRows"))}},Zs={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ue("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):s.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(o=>{Pt(s,o.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=b(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Rt(e,n):{rows:[],flatRows:[],rowsById:{}},T(e.options,"debugTable")),e.getFilteredSelectedRowModel=b(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Rt(e,n):{rows:[],flatRows:[],rowsById:{}},T(e.options,"debugTable")),e.getGroupedSelectedRowModel=b(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Rt(e,n):{rows:[],flatRows:[],rowsById:{}},T(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(o=>{var i;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return o;const a={...o};return Pt(a,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Wt(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Nt(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Nt(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Pt=(e,t,n,r,s)=>{var o;const i=s.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(a=>Pt(e,a.id,n,r,s))};function Rt(e,t){const n=e.getState().rowSelection,r=[],s={},o=function(i,a){return i.map(l=>{var u;const g=Wt(l,n);if(g&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),g)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:s}}function Wt(e,t){var n;return(n=t[e.id])!=null?n:!1}function Nt(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,o=!1;return e.subRows.forEach(i=>{if(!(o&&!s)&&(i.getCanSelect()&&(Wt(i,t)?o=!0:s=!1),i.subRows&&i.subRows.length)){const a=Nt(i,t);a==="all"?o=!0:(a==="some"&&(o=!0),s=!1)}}),s?"all":o?"some":!1}const Vt=/([0-9]+)/gm,Qs=(e,t,n)=>Mr(xe(e.getValue(n)).toLowerCase(),xe(t.getValue(n)).toLowerCase()),Js=(e,t,n)=>Mr(xe(e.getValue(n)),xe(t.getValue(n))),eo=(e,t,n)=>Kt(xe(e.getValue(n)).toLowerCase(),xe(t.getValue(n)).toLowerCase()),to=(e,t,n)=>Kt(xe(e.getValue(n)),xe(t.getValue(n))),no=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},ro=(e,t,n)=>Kt(e.getValue(n),t.getValue(n));function Kt(e,t){return e===t?0:e>t?1:-1}function xe(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Mr(e,t){const n=e.split(Vt).filter(Boolean),r=t.split(Vt).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),o=r.shift(),i=parseInt(s,10),a=parseInt(o,10),l=[i,a].sort();if(isNaN(l[0])){if(s>o)return 1;if(o>s)return-1;continue}if(isNaN(l[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}return n.length-r.length}const Ke={alphanumeric:Qs,alphanumericCaseSensitive:Js,text:eo,textCaseSensitive:to,datetime:no,basic:ro},so={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ue("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const o=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Ke.datetime;if(typeof o=="string"&&(r=!0,o.split(Vt).length>1))return Ke.alphanumeric}return r?Ke.text:Ke.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return dt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ke[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(i=>{const a=i==null?void 0:i.find(d=>d.id===e.id),l=i==null?void 0:i.findIndex(d=>d.id===e.id);let u=[],g,h=o?n:s==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?a?g="toggle":g="add":i!=null&&i.length&&l!==i.length-1?g="replace":a?g="toggle":g="replace",g==="toggle"&&(o||s||(g="remove")),g==="add"){var f;u=[...i,{id:e.id,desc:h}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else g==="toggle"?u=i.map(d=>d.id===e.id?{...d,desc:h}:d):g==="remove"?u=i.filter(d=>d.id!==e.id):u=[{id:e.id,desc:h}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:i==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},oo=[Ts,ks,Hs,Bs,Is,Os,qs,Ws,so,$s,Ks,Xs,Ys,Zs,Us];function io(e){var t,n;const r=[...oo,...(t=e._features)!=null?t:[]];let s={_features:r};const o=s._features.reduce((f,d)=>Object.assign(f,d.getDefaultOptions==null?void 0:d.getDefaultOptions(s)),{}),i=f=>s.options.mergeOptions?s.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(f=>{var d;l=(d=f.getInitialState==null?void 0:f.getInitialState(l))!=null?d:l});const u=[];let g=!1;const h={_features:r,options:{...o,...e},initialState:l,_queue:f=>{u.push(f),g||(g=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();g=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{s.setState(s.initialState)},setOptions:f=>{const d=Ee(f,s.options);s.options=i(d)},getState:()=>s.options.state,setState:f=>{s.options.onStateChange==null||s.options.onStateChange(f)},_getRowId:(f,d,p)=>{var S;return(S=s.options.getRowId==null?void 0:s.options.getRowId(f,d,p))!=null?S:`${p?[p.id,d].join("."):d}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(f,d)=>{let p=(d?s.getPrePaginationRowModel():s.getRowModel()).rowsById[f];if(!p&&(p=s.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:b(()=>[s.options.defaultColumn],f=>{var d;return f=(d=f)!=null?d:{},{header:p=>{const S=p.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:p=>{var S,w;return(S=(w=p.renderValue())==null||w.toString==null?void 0:w.toString())!=null?S:null},...s._features.reduce((p,S)=>Object.assign(p,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...f}},T(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:b(()=>[s._getColumnDefs()],f=>{const d=function(p,S,w){return w===void 0&&(w=0),p.map(C=>{const D=bs(s,C,w,S),E=C;return D.columns=E.columns?d(E.columns,D,w+1):[],D})};return d(f)},T(e,"debugColumns")),getAllFlatColumns:b(()=>[s.getAllColumns()],f=>f.flatMap(d=>d.getFlatColumns()),T(e,"debugColumns")),_getAllFlatColumnsById:b(()=>[s.getAllFlatColumns()],f=>f.reduce((d,p)=>(d[p.id]=p,d),{}),T(e,"debugColumns")),getAllLeafColumns:b(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(f,d)=>{let p=f.flatMap(S=>S.getLeafColumns());return d(p)},T(e,"debugColumns")),getColumn:f=>s._getAllFlatColumnsById()[f]};Object.assign(s,h);for(let f=0;f<s._features.length;f++){const d=s._features[f];d==null||d.createTable==null||d.createTable(s)}return s}function ae(){return e=>b(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,o,i){o===void 0&&(o=0);const a=[];for(let u=0;u<s.length;u++){const g=kt(e,e._getRowId(s[u],u,i),s[u],u,o,void 0,i==null?void 0:i.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,a.push(g),e.options.getSubRows){var l;g.originalSubRows=e.options.getSubRows(s[u],u),(l=g.originalSubRows)!=null&&l.length&&(g.subRows=r(g.originalSubRows,o+1,g))}}return a};return n.rows=r(t),n},T(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ao(){return e=>b(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:Pr(n),T(e.options,"debugTable"))}function Pr(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function lo(e,t,n){return n.options.filterFromLeafRows?uo(e,t,n):co(e,t,n)}function uo(e,t,n){var r;const s=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const g=[];for(let f=0;f<l.length;f++){var h;let d=l[f];const p=kt(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,(h=d.subRows)!=null&&h.length&&u<i){if(p.subRows=a(d.subRows,u+1),d=p,t(d)&&!p.subRows.length){g.push(d),o[d.id]=d,s.push(d);continue}if(t(d)||p.subRows.length){g.push(d),o[d.id]=d,s.push(d);continue}}else d=p,t(d)&&(g.push(d),o[d.id]=d,s.push(d))}return g};return{rows:a(e),flatRows:s,rowsById:o}}function co(e,t,n){var r;const s=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const g=[];for(let f=0;f<l.length;f++){let d=l[f];if(t(d)){var h;if((h=d.subRows)!=null&&h.length&&u<i){const S=kt(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);S.subRows=a(d.subRows,u+1),d=S}g.push(d),s.push(d),o[d.id]=d}}return g};return{rows:a(e),flatRows:s,rowsById:o}}function go(){return e=>b(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const s=[],o=[];(n??[]).forEach(f=>{var d;const p=e.getColumn(f.id);if(!p)return;const S=p.getFilterFn();S&&s.push({id:f.id,filterFn:S,resolvedValue:(d=S.resolveFilterValue==null?void 0:S.resolveFilterValue(f.value))!=null?d:f.value})});const i=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(i.push("__global__"),l.forEach(f=>{var d;o.push({id:f.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?d:r})}));let u,g;for(let f=0;f<t.flatRows.length;f++){const d=t.flatRows[f];if(d.columnFilters={},s.length)for(let p=0;p<s.length;p++){u=s[p];const S=u.id;d.columnFilters[S]=u.filterFn(d,S,u.resolvedValue,w=>{d.columnFiltersMeta[S]=w})}if(o.length){for(let p=0;p<o.length;p++){g=o[p];const S=g.id;if(g.filterFn(d,S,g.resolvedValue,w=>{d.columnFiltersMeta[S]=w})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const h=f=>{for(let d=0;d<i.length;d++)if(f.columnFilters[i[d]]===!1)return!1;return!0};return lo(t.rows,h,e)},T(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function fo(e){return t=>b(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:o}=n;let{rows:i,flatRows:a,rowsById:l}=r;const u=s*o,g=u+s;i=i.slice(u,g);let h;t.options.paginateExpandedRows?h={rows:i,flatRows:a,rowsById:l}:h=Pr({rows:i,flatRows:a,rowsById:l}),h.flatRows=[];const f=d=>{h.flatRows.push(d),d.subRows.length&&d.subRows.forEach(f)};return h.rows.forEach(f),h},T(t.options,"debugTable"))}function Xt(){return e=>b(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],o=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),i={};o.forEach(l=>{const u=e.getColumn(l.id);u&&(i[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(g=>({...g}));return u.sort((g,h)=>{for(let d=0;d<o.length;d+=1){var f;const p=o[d],S=i[p.id],w=S.sortUndefined,C=(f=p==null?void 0:p.desc)!=null?f:!1;let D=0;if(w){const E=g.getValue(p.id),V=h.getValue(p.id),y=E===void 0,x=V===void 0;if(y||x){if(w==="first")return y?-1:1;if(w==="last")return y?1:-1;D=y&&x?0:y?w:-w}}if(D===0&&(D=S.sortingFn(g,h,p.id)),D!==0)return C&&(D*=-1),S.invertSorting&&(D*=-1),D}return g.index-h.index}),u.forEach(g=>{var h;s.push(g),(h=g.subRows)!=null&&h.length&&(g.subRows=a(g.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},T(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function W(e,t){return e?po(e)?v.createElement(e,t):e:null}function po(e){return ho(e)||typeof e=="function"||mo(e)}function ho(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function mo(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function le(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=v.useState(()=>({current:io(t)})),[r,s]=v.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:i=>{s(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}const So="_tableContainer_1q5os_1",Co="_tableContainer_autoWidth_1q5os_8",vo="_notSortable_1q5os_18",wo="_tableGrouping_1q5os_23",Do="_checkboxColumn_1q5os_41",yo="_tableContainerExpandable_1q5os_48",Eo="_expanderColumn_1q5os_48",Ro="_tableHeaderSticky_1q5os_53",_={tableContainer:So,tableContainer_autoWidth:Co,notSortable:vo,tableGrouping:wo,checkboxColumn:Do,tableContainerExpandable:yo,expanderColumn:Eo,tableHeaderSticky:Ro},xo=()=>{const e=le({data:Je,columns:rn,getCoreRowModel:ae()});return c.jsx("div",{style:{width:"800px",height:"600px",overflowY:"auto",overflowX:"auto"},children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{children:e.getHeaderGroups().map(t=>c.jsx(z,{children:t.headers.map((n,r)=>{var s;return c.jsx(Z,{className:_.notSortable,title:W(n.column.columnDef.header,n.getContext()),right:((s=n.column.columnDef.meta)==null?void 0:s.isNumeric)&&r!==0},n.id)})},t.id))}),c.jsx(ie,{children:e.getRowModel().rows.map(t=>c.jsx(z,{children:t.getVisibleCells().map((n,r)=>c.jsx(K,{color:t.original.status,align:r===0?"left":void 0,...Q(n)},n.id))},t.id))})]})})},bo=()=>{const e=le({data:Je,columns:rn,getCoreRowModel:ae()}),t=n=>({[m.SUCCESS]:{color:tt.success,icon:"IconAllDoneDoubleCheckOutlined24"},[m.ERROR]:{color:tt.error,icon:"IconBlockCloseOutlined24"},[m.DEFAULT]:{color:tt.default,icon:"IconCloudDoneOutlined24"},[m.WARNING]:{color:tt.success,icon:"IconPeopleCheckDoneOutlined24"}})[n];return c.jsx("div",{className:_.tableContainer,children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{style:{position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(n=>c.jsx(z,{children:n.headers.map((r,s)=>{var o;return c.jsx(Z,{className:_.notSortable,title:W(r.column.columnDef.header,r.getContext()),right:((o=r.column.columnDef.meta)==null?void 0:o.isNumeric)&&s!==0},r.id)})},n.id))}),c.jsx(ie,{children:e.getRowModel().rows.map(n=>c.jsx(z,{children:n.getVisibleCells().map((r,s)=>r.column.id==="status"?c.jsx(K,{...Q(r),children:c.jsx(Dr,{...t(n.original.status),children:n.original.status})},r.id):c.jsx(K,{align:s===0?"left":void 0,...Q(r)},r.id))},n.id))})]})})},To=[{header:"ID",accessorKey:"id",enableSorting:!0,meta:{isNumeric:!0}},{header:"Name",accessorKey:"name",enableSorting:!0},{header:"Age",accessorKey:"age",enableSorting:!0,meta:{isNumeric:!0}},{header:"Production Date",accessorKey:"productionDate",enableSorting:!0,cell:e=>e.getValue().toLocaleDateString()},{header:"Status",accessorKey:"status",enableSorting:!1}],Io=[{id:1,name:"Сталь",age:25,status:m.DEFAULT,productionDate:new Date("2023-01-10")},{id:2,name:"Металл",age:30,status:m.SUCCESS,productionDate:new Date("2023-02-15")},{id:3,name:"Чугун",age:40,status:m.ERROR,productionDate:new Date("2023-03-20")},{id:4,name:"Сталь",age:22,status:m.DEFAULT,productionDate:new Date("2023-04-05")},{id:5,name:"Металл",age:35,status:m.SUCCESS,productionDate:new Date("2023-05-10")},{id:6,name:"Чугун",age:28,status:m.ERROR,productionDate:new Date("2023-06-18")},{id:7,name:"Сталь",age:27,status:m.DEFAULT,productionDate:new Date("2023-07-01")},{id:8,name:"Металл",age:32,status:m.SUCCESS,productionDate:new Date("2023-08-12")},{id:9,name:"Чугун",age:38,status:m.ERROR,productionDate:new Date("2023-09-15")},{id:10,name:"Сталь",age:24,status:m.DEFAULT,productionDate:new Date("2023-10-20")},{id:11,name:"Алюминий",age:29,status:m.SUCCESS,productionDate:new Date("2023-11-05")},{id:12,name:"Медь",age:33,status:m.ERROR,productionDate:new Date("2023-12-15")},{id:13,name:"Титан",age:45,status:m.DEFAULT,productionDate:new Date("2024-01-03")},{id:14,name:"Бронза",age:31,status:m.SUCCESS,productionDate:new Date("2024-01-18")},{id:15,name:"Латунь",age:36,status:m.ERROR,productionDate:new Date("2024-02-01")},{id:16,name:"Никель",age:26,status:m.DEFAULT,productionDate:new Date("2024-02-14")},{id:17,name:"Цинк",age:42,status:m.SUCCESS,productionDate:new Date("2024-02-28")},{id:18,name:"Свинец",age:34,status:m.ERROR,productionDate:new Date("2024-03-10")},{id:19,name:"Олово",age:37,status:m.DEFAULT,productionDate:new Date("2024-03-22")},{id:20,name:"Хром",age:28,status:m.SUCCESS,productionDate:new Date("2024-04-05")},{id:21,name:"Вольфрам",age:39,status:m.ERROR,productionDate:new Date("2024-04-18")},{id:22,name:"Молибден",age:41,status:m.DEFAULT,productionDate:new Date("2024-05-01")},{id:23,name:"Платина",age:44,status:m.SUCCESS,productionDate:new Date("2024-05-15")},{id:24,name:"Палладий",age:30,status:m.ERROR,productionDate:new Date("2024-05-28")},{id:25,name:"Серебро",age:23,status:m.DEFAULT,productionDate:new Date("2024-06-10")}],Oo=()=>{const[e,t]=v.useState([]),[n]=v.useState("onChange"),r=le({data:Io,columns:To,state:{sorting:e},onSortingChange:t,getCoreRowModel:ae(),getSortedRowModel:Xt(),columnResizeMode:n,enableColumnResizing:!0,defaultColumn:{minSize:100,maxSize:800,size:150}}),s=r.getCenterTotalSize();return c.jsx("div",{className:_.tableContainer,children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,style:{tableLayout:"fixed",width:Math.max(s,800)},children:[c.jsx(oe,{children:r.getHeaderGroups().map(o=>c.jsx(z,{children:o.headers.map((i,a)=>{var g;const l=i.column.getCanSort(),u=i.column.getIsSorted();return c.jsx(Z,{disable:!l,sort:l,sortDirection:u,style:{width:i.getSize()},drag:!0,onMouseDown:i.getResizeHandler(),onTouchStart:i.getResizeHandler(),onClick:()=>{l&&i.column.toggleSorting()},title:W(i.column.columnDef.header,i.getContext()),right:((g=i.column.columnDef.meta)==null?void 0:g.isNumeric)&&a!==0},i.id)})},o.id))}),c.jsx(ie,{children:r.getRowModel().rows.map(o=>c.jsx(z,{children:o.getVisibleCells().map((i,a)=>{const l=o.original.status;return c.jsx(K,{color:l,align:a===0?"left":void 0,...Q(i),style:{width:i.column.getSize()}},i.id)})},o.id))})]})})};function Ie(e,t,n){let r=n.initialDeps??[],s;return()=>{var o,i,a,l;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const g=e();if(!(g.length!==r.length||g.some((d,p)=>r[p]!==d)))return s;r=g;let f;if(n.key&&((i=n.debug)!=null&&i.call(n))&&(f=Date.now()),s=t(...g),n.key&&((a=n.debug)!=null&&a.call(n))){const d=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-f)*100)/100,S=p/16,w=(C,D)=>{for(C=String(C);C.length<D;)C=" "+C;return C};console.info(`%c⏱ ${w(p,5)} /${w(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,s),s}}function xt(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const _o=(e,t)=>Math.abs(e-t)<1,Fo=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Mo=e=>e,Po=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},No=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=i=>{const{width:a,height:l}=i;t({width:Math.round(a),height:Math.round(l)})};if(s(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(i=>{const a=()=>{const l=i[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},ln={passive:!0},un=typeof window>"u"?!0:"onscrollend"in window,Vo=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const o=e.options.useScrollendEvent&&un?()=>{}:Fo(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),i=g=>()=>{const{horizontal:h,isRtl:f}=e.options;s=h?n.scrollLeft*(f&&-1||1):n.scrollTop,o(),t(s,g)},a=i(!0),l=i(!1);l(),n.addEventListener("scroll",a,ln);const u=e.options.useScrollendEvent&&un;return u&&n.addEventListener("scrollend",l,ln),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}},Ao=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},zo=(e,{adjustments:t=0,behavior:n},r)=>{var s,o;const i=e+t;(o=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class jo{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const i=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=r())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=r())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Mo,rangeExtractor:Po,onChange:()=>{},measureElement:Ao,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Ie(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,o=new Map;for(let i=r-1;i>=0;i--){const a=n[i];if(s.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&s.set(a.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=Ie(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=Ie(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:o,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let g=l;g<n;g++){const h=o(g),f=this.options.lanes===1?u[g-1]:this.getFurthestMeasurement(u,g),d=f?f.end+this.options.gap:r+s,p=a.get(h),S=typeof p=="number"?p:this.options.estimateSize(g),w=d+S,C=f?f.lane:g%this.options.lanes;u[g]={index:g,start:d,size:S,end:w,key:h,lane:C}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ie(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,s)=>this.range=n.length>0&&r>0?$o({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ie(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,o,i)=>o===null||i===null?[]:n({startIndex:o,endIndex:i,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const i=o.key,a=this.elementsCache.get(i);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,i=r-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,i,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Ie(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let o=0,i=n.length;o<i;o++){const a=n[o],l=r[a];s.push(l)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return xt(r[Nr(0,r.length-1,s=>xt(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+s&&(r="end"),r==="end"&&(n-=s);const i=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-s;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),i=this.getScrollOffset();if(r==="auto")if(s.end>=i+o-this.options.scrollPaddingEnd)r="end";else if(s.start<=i+this.options.scrollPaddingStart)r="start";else return[i,r];const a=s.start-this.options.scrollPaddingStart+(s.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(s.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(s.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[i,a]=o;this._scrollToOffset(i,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=xt(this.getOffsetForIndex(n,a));_o(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:s})}else this.scrollToIndex(n,{align:a,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Nr=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<r)e=s+1;else if(o>r)t=s-1;else return s}return e>0?e-1:0};function $o({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=Nr(0,r,a=>e[a].start,n);let i=o;for(;i<r&&e[i].end<n+t;)i++;return{startIndex:o,endIndex:i}}const cn=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Lo(e){const t=v.useReducer(()=>({}),{})[1],n={...e,onChange:(s,o)=>{var i;o?ws.flushSync(t):t(),(i=e.onChange)==null||i.call(e,s,o)}},[r]=v.useState(()=>new jo(n));return r.setOptions(n),cn(()=>r._didMount(),[]),cn(()=>r._willUpdate()),r}function Yt(e){return Lo({observeElementRect:No,observeElementOffset:Vo,scrollToFn:zo,...e})}const Q=e=>{const t=e.getValue();if(t instanceof Date){const n=new Date(t);if(!isNaN(n.getTime()))return{text:n.toLocaleDateString()}}return typeof t=="number"?{number:t}:typeof t=="string"?{text:t}:{children:c.jsx(Te,{variant:"Body1-Medium",color:"var(--steel-90)",children:W(e.column.columnDef.cell,e.getContext())})}};try{Q.displayName="getCellProps",Q.__docgenInfo={description:"",displayName:"getCellProps",props:{}}}catch{}const Ho=[{accessorKey:"id",header:"ID",size:60,meta:{isNumeric:!0}},{accessorKey:"firstName",header:"First Name"},{accessorKey:"lastName",header:"Last Name"},{accessorKey:"age",header:"Age",size:50,meta:{isNumeric:!0}},{accessorKey:"visits",header:"Visits",size:50,meta:{isNumeric:!0}},{accessorKey:"status",header:"Status"},{accessorKey:"progress",header:"Progress",size:80,meta:{isNumeric:!0}},{accessorKey:"createdAt",header:"Created At",cell:e=>e.getValue().toLocaleString(),size:180}],dn=Array.from({length:1e3},(e,t)=>({id:t+1,firstName:"Name "+(t+1),lastName:"Last "+(t+1),age:20+t%40,visits:Math.floor(Math.random()*1e3),status:t%3===0?"error":"ok",progress:t%100,createdAt:new Date(Date.now()-t*36e5)})),Bo=()=>{const e=le({data:v.useMemo(()=>dn,[]),columns:v.useMemo(()=>Ho,[]),getCoreRowModel:ae()}),t=e.getRowModel().rows,n=v.useRef(null),r=Yt({count:t.length,getScrollElement:()=>n.current,estimateSize:()=>56,overscan:5,measureElement:s=>(s==null?void 0:s.getBoundingClientRect().height)??0});return c.jsxs("div",{children:[c.jsxs(Te,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",dn.length," rows)"]}),c.jsx("div",{className:_.tableContainer,ref:n,children:c.jsxs(re,{style:{display:"grid"},horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{style:{display:"grid",position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(s=>c.jsx(z,{style:{display:"flex",width:"100%"},children:s.headers.map((o,i)=>{var l;const a=o.getSize();return c.jsx(Z,{style:{display:"flex",width:a},title:W(o.column.columnDef.header,o.getContext()),right:((l=o.column.columnDef.meta)==null?void 0:l.isNumeric)&&i!==0,className:_.notSortable},o.id)})},s.id))}),c.jsx(ie,{style:{display:"grid",position:"relative",height:r.getTotalSize()},children:r.getVirtualItems().map(s=>{const o=t[s.index];return c.jsx(z,{ref:i=>{i&&r.measureElement(i)},style:{position:"absolute",transform:`translateY(${s.start}px)`,display:"flex",width:"100%"},children:o.getVisibleCells().map((i,a)=>{const l=i.column.getSize();return c.jsx(K,{color:m.WARNING,style:{width:l},align:a===0?"left":void 0,...Q(i)},i.id)})},o.id)})})]})})]})},Uo=[{accessorKey:"id",header:"ID",size:60,meta:{isNumeric:!0}},{accessorKey:"firstName",header:"First Name"},{accessorKey:"lastName",header:"Last Name"},{accessorKey:"age",header:"Age",size:50,meta:{isNumeric:!0}},{accessorKey:"visits",header:"Visits",size:50,meta:{isNumeric:!0}},{accessorKey:"status",header:"Status"},{accessorKey:"progress",header:"Progress",size:80,meta:{isNumeric:!0}},{accessorKey:"createdAt",header:"Created At",cell:e=>e.getValue().toLocaleString(),size:180}],Go=e=>({accessorKey:`column${e}`,header:`Column ${e}`,size:100,cell:t=>`Value ${e}-${t.row.index}`}),gn=[...Uo,...Array.from({length:992},(e,t)=>Go(t+9))],ko=Array.from({length:12},(e,t)=>{const n={id:t+1,firstName:"Name "+(t+1),lastName:"Last "+(t+1),age:20+t%40,visits:Math.floor(Math.random()*1e3),status:t%3===0?"error":"ok",progress:t%100,createdAt:new Date(Date.now()-t*36e5)};for(let r=8;r<=1e3;r++)n[`column${r}`]=`Value ${r}-${t}`;return n}),qo=()=>{var a,l;const e=le({data:v.useMemo(()=>ko,[]),columns:v.useMemo(()=>gn,[]),getCoreRowModel:ae()}),t=e.getVisibleLeafColumns(),n=v.useRef(null),r=Yt({count:t.length,estimateSize:u=>t[u].getSize(),getScrollElement:()=>n.current,horizontal:!0,overscan:1}),s=r.getVirtualItems(),o=((a=s[0])==null?void 0:a.start)??0,i=r.getTotalSize()-(((l=s[s.length-1])==null?void 0:l.end)??0);return c.jsxs("div",{children:[c.jsxs(Te,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",gn.length," columns)"]}),c.jsx("div",{className:_.tableContainer,ref:n,children:c.jsxs(re,{style:{width:`${r.getTotalSize()}px`},horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{style:{position:"sticky",top:0,zIndex:1},children:e.getHeaderGroups().map(u=>c.jsxs(z,{style:{display:"flex",width:"100%"},children:[o>0&&c.jsx(Z,{style:{width:o}}),s.map((g,h)=>{var d;const f=u.headers[g.index];return c.jsx(Z,{style:{width:f.getSize()},title:W(f.column.columnDef.header,f.getContext()),right:((d=f.column.columnDef.meta)==null?void 0:d.isNumeric)&&h!==0,className:_.notSortable},f.id)}),i>0&&c.jsx(Z,{style:{width:i}})]},u.id))}),c.jsx(ie,{children:e.getRowModel().rows.map(u=>c.jsxs(z,{style:{display:"flex",width:"100%"},children:[o>0&&c.jsx(K,{style:{width:o}}),s.map(({index:g})=>{const h=u.getVisibleCells()[g];return c.jsx(K,{color:m.WARNING,style:{width:h.column.getSize()},align:g===0?"left":void 0,...Q(h)},h.id)}),i>0&&c.jsx(K,{style:{width:i}})]},u.id))})]})})]})},Wo=e=>{const t=["В наличии","Заканчивается","Нет в наличии","Под заказ"],n=["Металлы","Сплавы","Драгоценные металлы","Редкие металлы"],r=["Сталь","Медь","Алюминий","Титан","Золото","Серебро","Платина","Никель","Цинк","Свинец","Олово","Хром","Вольфрам","Молибден"],s=new Date,o=new Date(s.getTime()-30*24*60*60*1e3);return Array.from({length:e},(i,a)=>({id:a+1,name:r[Math.floor(Math.random()*r.length)],amount:Math.floor(Math.random()*1e3)+1,status:t[Math.floor(Math.random()*t.length)],category:n[Math.floor(Math.random()*n.length)],price:Math.floor(Math.random()*1e4)+100,lastUpdate:new Date(o.getTime()+Math.random()*(s.getTime()-o.getTime())),supplier:`Поставщик ${Math.floor(Math.random()*20)+1}`,quality:Math.floor(Math.random()*100)+1}))},fn=Wo(100),Ko=[{accessorKey:"id",header:"ID",cell:e=>e.getValue(),size:200,enableColumnFilter:!0,enableSorting:!0,filterFn:Ce,meta:{isNumeric:!0}},{accessorKey:"name",header:"Название",cell:e=>e.getValue(),enableColumnFilter:!1,enableSorting:!1,filterFn:Ce},{accessorKey:"amount",header:"Количество",cell:({getValue:e})=>e().toLocaleString(),enableColumnFilter:!0,enableSorting:!0,filterFn:Ce,meta:{isNumeric:!0}},{accessorKey:"status",header:"Статус",cell:e=>e.getValue(),enableColumnFilter:!0,enableSorting:!0,filterFn:Ce},{accessorKey:"category",header:"Категория",cell:e=>e.getValue(),enableColumnFilter:!0,enableSorting:!0,filterFn:Ce},{accessorKey:"price",header:"Цена",cell:({getValue:e})=>`${e().toLocaleString()} ₽`,enableColumnFilter:!0,filterFn:Ce,meta:{isNumeric:!0}},{accessorKey:"lastUpdate",header:"Последнее обновление",cell:({getValue:e})=>new Date(e()).toLocaleDateString(),enableColumnFilter:!0,filterFn:Ce},{accessorKey:"supplier",header:"Поставщик",cell:e=>e.getValue(),enableColumnFilter:!0,filterFn:Ce},{accessorKey:"quality",header:"Качество",cell:({getValue:e})=>`${e()}%`,enableColumnFilter:!0,filterFn:Ce,meta:{isNumeric:!0}}],Xo=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[s]=v.useState("onChange"),o=le({data:fn,columns:Ko,state:{columnFilters:e,sorting:n},onColumnFiltersChange:t,onSortingChange:r,getCoreRowModel:ae(),getSortedRowModel:Xt(),getFilteredRowModel:go(),columnResizeMode:s,enableColumnResizing:!0,defaultColumn:{minSize:200,maxSize:800,size:200}}),i=a=>{const l=new Set;return fn.forEach(u=>{const g=u[a];g!=null&&l.add(String(g))}),Array.from(l).map(u=>({value:u,label:u}))};return c.jsx("div",{className:_.tableContainer,children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,style:{tableLayout:"fixed",width:o.getCenterTotalSize()},children:[c.jsx(oe,{children:o.getHeaderGroups().map(a=>c.jsx(z,{children:a.headers.map((l,u)=>{var f;const g=l.column.getCanSort(),h=l.column.getIsSorted();return c.jsx(Z,{style:{width:l.getSize()},drag:!0,onMouseDown:l.getResizeHandler(),onTouchStart:l.getResizeHandler(),sort:g,filtered:!!l.column.getFilterValue(),sortDirection:h,onClick:()=>{g&&l.column.toggleSorting()},className:l.column.getCanSort()?"":_.notSortable,title:W(l.column.columnDef.header,l.getContext()),right:((f=l.column.columnDef.meta)==null?void 0:f.isNumeric)&&u!==0,children:l.column.getCanFilter()&&c.jsx(Qr,{defaultValue:"",defaultFilterType:"contains",filterTypeOptions:Ds,filterValueOptions:i(l.column.id),placeholder:"Поиск ...",withPortal:!0,onFilterChange:(d,p)=>{if(!d||!p){l.column.setFilterValue(void 0);return}let S=d;l.column.id==="lastUpdate"&&d&&(S=new Date(d).toISOString()),l.column.setFilterValue({type:p,value:S})}})},l.id)})},a.id))}),c.jsx(ie,{children:o.getRowModel().rows.map(a=>c.jsx(z,{children:a.getVisibleCells().map((l,u)=>c.jsx(K,{style:{width:l.column.getSize()},align:u===0?"left":void 0,...Q(l)},l.id))},a.id))})]})})},Yo=[{id:"expander",header:"",cell:({row:e})=>{const t=!!e.original.details,n=e.getIsExpanded();return t?c.jsx("div",{style:{cursor:"pointer",display:"flex",alignItems:"center"},onClick:e.getToggleExpandedHandler(),children:c.jsx(is,{name:n?"IconChevronArrowUpOutlined16":"IconChevronArrowDownOutlined16"})}):null},size:40,enableSorting:!1,meta:{isExpander:!0}},{header:"ID",accessorKey:"id",cell:({getValue:e})=>String(e()),size:100,enableSorting:!0,meta:{isNumeric:!0}},{header:"Name",accessorKey:"name",size:150,enableSorting:!0},{header:"Age",accessorKey:"age",size:100,enableSorting:!0,meta:{isNumeric:!0}},{header:"Status",accessorKey:"status",size:120,enableSorting:!1}],Zo=[{id:1,name:"Сталь 45",age:1450,status:m.SUCCESS,details:"Конструкционная углеродистая сталь для деталей машин."},{id:2,name:"Чугун СЧ20",age:1200,status:m.ERROR,details:"Серый чугун для изготовления станин и корпусных деталей."},{id:3,name:"Сплав Д16",age:660,status:m.DEFAULT,details:"Дюралюминий для авиационных конструкций и высоконагруженных деталей."},{id:4,name:"ВТ6",age:1668,status:m.SUCCESS,details:"Титановый сплав для ответственных деталей в авиастроении."},{id:5,name:"У12А",age:1350,status:m.WARNING,details:"Инструментальная углеродистая сталь для режущих инструментов."},{id:6,name:"ХВГ",age:1280,status:m.SUCCESS,details:"Инструментальная легированная сталь для штампов холодного деформирования."},{id:7,name:"БрАЖ9-4",age:1040,status:m.DEFAULT,details:"Алюминиево-железистая бронза для подшипников и втулок."},{id:8,name:"ЛС59-1",age:880,status:m.ERROR,details:"Латунь свинцовая для деталей, работающих при высоких нагрузках."},{id:9,name:"40Х13",age:1510,status:m.SUCCESS,details:"Коррозионностойкая сталь для режущего инструмента."},{id:10,name:"АМг6",age:580,status:m.WARNING,details:"Алюминиевый сплав для сварных конструкций."},{id:11,name:"30ХГСА",age:1420,status:m.DEFAULT,details:"Конструкционная легированная сталь для ответственных деталей."},{id:12,name:"БрОЦС4-4-2.5",age:920,status:m.SUCCESS,details:"Оловянно-цинково-свинцовая бронза для антифрикционных деталей."},{id:13,name:"12Х18Н10Т",age:1480,status:m.ERROR,details:"Нержавеющая сталь для химического оборудования."},{id:14,name:"МЛ5",age:650,status:m.SUCCESS,details:"Магниевый литейный сплав для деталей авиационной техники."},{id:15,name:"ВТ1-0",age:1720,status:m.WARNING,details:"Технически чистый титан для химической промышленности."}],Qo=()=>{const[e,t]=v.useState({}),[n,r]=v.useState([]),s=le({data:Zo,columns:Yo,state:{expanded:e,sorting:n},onExpandedChange:t,onSortingChange:r,getCoreRowModel:ae(),getExpandedRowModel:ao(),getSortedRowModel:Xt(),getRowCanExpand:o=>!!o.original.details,defaultColumn:{minSize:30}});return c.jsx("div",{className:De(_.tableContainer,_.tableContainerExpandable),children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{children:s.getHeaderGroups().map(o=>c.jsx(z,{children:o.headers.map((i,a)=>{var g,h;const l=i.column.getCanSort(),u=i.column.getIsSorted();return c.jsx(Z,{sort:l,sortDirection:u,style:{width:i.getSize(),minWidth:i.getSize()},onClick:()=>{l&&i.column.toggleSorting()},className:De(i.column.getCanSort()?"":_.notSortable,((g=i.column.columnDef.meta)==null?void 0:g.isExpander)&&_.expanderColumn),title:W(i.column.columnDef.header,i.getContext()),right:((h=i.column.columnDef.meta)==null?void 0:h.isNumeric)&&a!==1},i.id)})},o.id))}),c.jsx(ie,{children:s.getRowModel().rows.map(o=>c.jsxs(Er.Fragment,{children:[c.jsx(z,{children:o.getVisibleCells().map((i,a)=>{var u,g;const l=o.original.status;return c.jsx(K,{color:l,align:a===1?"left":void 0,...Q(i),disableHover:(u=i.column.columnDef.meta)==null?void 0:u.isExpander,className:De(((g=i.column.columnDef.meta)==null?void 0:g.isExpander)&&_.expanderColumn)},i.id)})}),o.getIsExpanded()&&o.original.details&&c.jsx(z,{children:c.jsx(K,{colSpan:o.getVisibleCells().length,children:c.jsxs(Te,{variant:"Body1-Medium",color:"var(--steel-90)",style:{padding:"8px",background:"transparent"},children:[c.jsx("strong",{children:"Details:"})," ",o.original.details]})})})]},o.id))})]})})},Jo=[{id:1,firstName:"Иван",lastName:"Петров",age:25,visits:10,status:m.SUCCESS,progress:80},{id:2,firstName:"Мария",lastName:"Иванова",age:32,visits:15,status:m.WARNING,progress:65},{id:3,firstName:"Алексей",lastName:"Смирнов",age:28,visits:20,status:m.SUCCESS,progress:90},{id:4,firstName:"Елена",lastName:"Козлова",age:41,visits:8,status:m.ERROR,progress:45},{id:5,firstName:"Дмитрий",lastName:"Соколов",age:35,visits:25,status:m.SUCCESS,progress:95},{id:6,firstName:"Анна",lastName:"Морозова",age:29,visits:12,status:m.WARNING,progress:70},{id:7,firstName:"Сергей",lastName:"Волков",age:45,visits:18,status:m.SUCCESS,progress:85},{id:8,firstName:"Ольга",lastName:"Павлова",age:33,visits:22,status:m.WARNING,progress:75},{id:9,firstName:"Михаил",lastName:"Новиков",age:38,visits:30,status:m.SUCCESS,progress:100},{id:10,firstName:"Татьяна",lastName:"Федорова",age:27,visits:14,status:m.ERROR,progress:50},{id:11,firstName:"Андрей",lastName:"Морозов",age:31,visits:16,status:m.SUCCESS,progress:88},{id:12,firstName:"Наталья",lastName:"Кузнецова",age:36,visits:28,status:m.WARNING,progress:72},{id:13,firstName:"Павел",lastName:"Семенов",age:42,visits:19,status:m.SUCCESS,progress:93},{id:14,firstName:"Екатерина",lastName:"Андреева",age:34,visits:24,status:m.ERROR,progress:55},{id:15,firstName:"Виктор",lastName:"Егоров",age:39,visits:21,status:m.SUCCESS,progress:82},{id:16,firstName:"Светлана",lastName:"Орлова",age:30,visits:17,status:m.WARNING,progress:68},{id:17,firstName:"Роман",lastName:"Макаров",age:37,visits:23,status:m.SUCCESS,progress:91}],he=et(),ei=[he.accessor("id",{cell:e=>e.getValue(),meta:{rowSpan:3,isNumeric:!0}}),he.group({id:"information",header:"Информация",columns:[he.accessor("firstName",{header:"Имя",meta:{rowSpan:2}}),he.accessor("lastName",{header:"Фамилия",meta:{rowSpan:2}})]}),he.group({id:"metrics",header:"Показатели",columns:[he.accessor("age",{header:"Возраст",meta:{rowSpan:2,isNumeric:!0}}),he.group({id:"additionalMetrics",header:"Дополнительно",columns:[he.accessor("visits",{header:"Посещения",meta:{isNumeric:!0}}),he.accessor("status",{header:"Статус"}),he.accessor("progress",{header:"Прогресс",meta:{isNumeric:!0}})]})]})],ti=()=>{const e=le({data:Jo,columns:ei,getCoreRowModel:ae()});return c.jsx("div",{className:De(_.tableContainer,_.tableGrouping),children:c.jsxs(re,{verticalBorders:!0,horizontalBorders:!0,children:[c.jsx(oe,{children:e.getHeaderGroups().map(t=>c.jsx(z,{children:t.headers.map((n,r)=>{var a,l;if(n.depth-n.column.depth>1)return null;let o=1;if(n.isPlaceholder){const u=n.getLeafHeaders();o=u[u.length-1].depth-n.depth}const i=(a=n.column.columnDef.meta)==null?void 0:a.rowSpan;return i&&(o=i),c.jsx(Z,{colSpan:n.colSpan,rowSpan:o,title:W(n.column.columnDef.header,n.getContext()),className:_.notSortable,right:((l=n.column.columnDef.meta)==null?void 0:l.isNumeric)&&r!==0},n.id)})},t.id))}),c.jsx(ie,{children:e.getRowModel().rows.map(t=>c.jsx(z,{children:t.getVisibleCells().map((n,r)=>c.jsx(K,{color:t.original.status,align:r===0?"left":void 0,...Q(n)},n.id))},t.id))})]})})},ni=[{id:1,plantName:"СтальПром",steel:12500,iron:11e3,efficiency:92,status:m.SUCCESS},{id:2,plantName:"МеталлКомбинат",steel:13200,iron:12100,efficiency:88,status:m.WARNING},{id:3,plantName:"УралМеталл",steel:11800,iron:10500,efficiency:95,status:m.SUCCESS},{id:4,plantName:"ВостокСталь",steel:8900,iron:7800,efficiency:85,status:m.WARNING},{id:5,plantName:"МетПромКомплекс",steel:7500,iron:6900,efficiency:78,status:m.ERROR}],ye=et(),ri=[ye.accessor("id",{header:"№",size:80,meta:{rowSpan:2,isNumeric:!0}}),ye.accessor("plantName",{header:"Предприятие",size:150,meta:{rowSpan:2}}),ye.group({header:"Производство (тонн/месяц)",columns:[ye.accessor(e=>e.steel,{id:"steel",header:"Сталь",size:120,meta:{isNumeric:!0}}),ye.accessor(e=>e.iron,{id:"iron",header:"Чугун",size:120,meta:{isNumeric:!0}})]}),ye.group({header:"Показатели",columns:[ye.accessor("efficiency",{header:"Эффективность (%)",cell:e=>`${e.getValue()}%`,size:150,meta:{isNumeric:!0}}),ye.accessor("status",{header:"Статус",size:120})]})],si=()=>{const[e]=v.useState("onChange"),t=le({data:ni,columns:ri,getCoreRowModel:ae(),columnResizeMode:e,enableColumnResizing:!0,defaultColumn:{minSize:30,maxSize:800}});return c.jsx("div",{className:_.tableContainer,style:{width:t.getCenterTotalSize(),height:"500px"},children:c.jsxs(re,{verticalBorders:!0,horizontalBorders:!0,style:{width:t.getCenterTotalSize()},children:[c.jsx(oe,{children:t.getHeaderGroups().map(n=>c.jsx(z,{children:n.headers.map((r,s)=>{var l,u;if(!r||!r.column||r.depth-r.column.depth>1&&r.id===r.column.id)return null;let i=1;if(r.isPlaceholder){const g=r.getLeafHeaders();i=g[g.length-1].depth-r.depth}const a=(l=r.column.columnDef.meta)==null?void 0:l.rowSpan;return a&&(i=a),c.jsx(Z,{colSpan:r.colSpan,rowSpan:i,style:{width:r.getSize(),position:"relative"},drag:r.column.getCanResize(),onMouseDown:r.getResizeHandler(),onTouchStart:r.getResizeHandler(),onDoubleClick:()=>r.column.resetSize(),title:W(r.column.columnDef.header,r.getContext()),right:((u=r.column.columnDef.meta)==null?void 0:u.isNumeric)&&s!==0},r.id)})},n.id))}),c.jsx(ie,{children:t.getRowModel().rows.map(n=>c.jsx(z,{children:n.getVisibleCells().map((r,s)=>c.jsx(K,{style:{width:r.column.getSize()},align:s===0?"left":void 0,...Q(r)},r.id))},n.id))})]})})};de.DEFAULT,de.SELECTED,de.ACTIVE,de.DISABLED;m.DEFAULT,m.ERROR,m.SUCCESS,m.WARNING;const oi=[{id:"select",header:({table:e})=>c.jsx(Re,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:c.jsx(Re,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56,meta:{className:""}},{header:"ID",accessorKey:"id",meta:{className:_.notSortable,isNumeric:!0}},{header:"Name",accessorKey:"name",meta:{className:_.notSortable}},{header:"Age",accessorKey:"age",meta:{className:_.notSortable,isNumeric:!0}},{header:"Production Date",accessorKey:"productionDate",meta:{className:_.notSortable}},{header:"Status",accessorKey:"status",meta:{className:_.notSortable}}],ii=[{id:1,name:"Сталь",age:25,status:m.DEFAULT,productionDate:new Date("2023-01-10")},{id:2,name:"Металл",age:30,status:m.SUCCESS,productionDate:new Date("2023-02-15")},{id:3,name:"Чугун",age:40,status:m.ERROR,productionDate:new Date("2023-03-20")},{id:4,name:"Алюминий",age:22,status:m.DEFAULT,productionDate:new Date("2023-04-05")},{id:5,name:"Медь",age:35,status:m.SUCCESS,productionDate:new Date("2023-05-10")},{id:6,name:"Титан",age:28,status:m.ERROR,productionDate:new Date("2023-06-18")},{id:7,name:"Бронза",age:27,status:m.DEFAULT,productionDate:new Date("2023-07-01")},{id:8,name:"Латунь",age:32,status:m.SUCCESS,productionDate:new Date("2023-08-12")},{id:9,name:"Никель",age:38,status:m.ERROR,productionDate:new Date("2023-09-15")},{id:10,name:"Цинк",age:24,status:m.DEFAULT,productionDate:new Date("2023-10-20")},{id:11,name:"Свинец",age:29,status:m.SUCCESS,productionDate:new Date("2023-11-05")},{id:12,name:"Олово",age:33,status:m.ERROR,productionDate:new Date("2023-12-15")}],ai=()=>{const[e,t]=v.useState({}),n=le({data:ii,columns:oi,state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:ae()});return c.jsx("div",{className:_.tableContainer,children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{children:n.getHeaderGroups().map(r=>c.jsx(z,{children:r.headers.map((s,o)=>{var i,a;return c.jsx(Z,{className:(i=s.column.columnDef.meta)==null?void 0:i.className,title:s.column.columnDef.id!=="select"?String(s.column.columnDef.header):"",right:((a=s.column.columnDef.meta)==null?void 0:a.isNumeric)&&o!==1,children:s.column.columnDef.id==="select"?W(s.column.columnDef.header,s.getContext()):null},s.id)})},r.id))}),c.jsx(ie,{children:n.getRowModel().rows.map(r=>{const s=r.getIsSelected();return c.jsx(z,{children:r.getVisibleCells().map((o,i)=>c.jsx(K,{state:s?de.SELECTED:de.DEFAULT,style:{width:o.column.getSize()},align:i===1?"left":void 0,...o.column.id!=="select"?Q(o):{},children:o.column.id==="select"?W(o.column.columnDef.cell,o.getContext()):null},o.id))},r.id)})})]})})},li=[{id:"select",header:({table:e})=>c.jsx(Re,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:c.jsx(Re,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56,meta:{className:""}},{header:"ID",accessorKey:"id",size:80,meta:{className:_.notSortable,isNumeric:!0}},{header:"Наименование руды",accessorKey:"name",size:200,meta:{className:_.notSortable}},{header:"Тип",accessorKey:"category",size:150,meta:{className:_.notSortable}},{header:"Содержание Fe, %",accessorKey:"ironContent",cell:e=>`${Number(e.getValue()).toFixed(1)}%`,size:250,meta:{className:_.notSortable,isNumeric:!0}},{header:"Статус добычи",accessorKey:"status",size:250,meta:{className:_.notSortable}},{header:"Дата анализа",accessorKey:"lastUpdated",cell:e=>e.getValue().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),size:180,meta:{className:_.notSortable}}],Xe=[{id:1,name:"Магнетитовая руда",category:"Магнетитовые",ironContent:65,status:m.SUCCESS,lastUpdated:new Date("2024-02-15")},{id:2,name:"Гематитовая руда",category:"Гематитовые",ironContent:58,status:m.DEFAULT,lastUpdated:new Date("2024-02-14")},{id:3,name:"Сидеритовая руда",category:"Карбонатные",ironContent:35,status:m.ERROR,lastUpdated:new Date("2024-02-13")},{id:4,name:"Лимонитовая руда",category:"Бурые железняки",ironContent:55,status:m.SUCCESS,lastUpdated:new Date("2024-02-12")},{id:5,name:"Титаномагнетит",category:"Комплексные",ironContent:50,status:m.DEFAULT,lastUpdated:new Date("2024-02-11")},{id:6,name:"Мартитовая руда",category:"Магнетитовые",ironContent:63,status:m.SUCCESS,lastUpdated:new Date("2024-02-10")},{id:7,name:"Гётитовая руда",category:"Бурые железняки",ironContent:48,status:m.ERROR,lastUpdated:new Date("2024-02-09")},{id:8,name:"Железистые кварциты",category:"Метаморфические",ironContent:40,status:m.DEFAULT,lastUpdated:new Date("2024-02-08")},{id:9,name:"Магномагнетит",category:"Комплексные",ironContent:52,status:m.SUCCESS,lastUpdated:new Date("2024-02-07")},{id:10,name:"Красный железняк",category:"Гематитовые",ironContent:60,status:m.DEFAULT,lastUpdated:new Date("2024-02-06")},{id:11,name:"Бурый железняк",category:"Бурые железняки",ironContent:45,status:m.ERROR,lastUpdated:new Date("2024-02-05")},{id:12,name:"Шпатовый железняк",category:"Карбонатные",ironContent:38,status:m.SUCCESS,lastUpdated:new Date("2024-02-04")},{id:13,name:"Богословская руда",category:"Гематитовые",ironContent:62,status:m.WARNING,lastUpdated:new Date("2024-02-03")},{id:14,name:"Оолитовый железняк",category:"Бурые железняки",ironContent:42,status:m.WARNING,lastUpdated:new Date("2024-02-02")},{id:15,name:"Текитовая руда",category:"Метаморфические",ironContent:54,status:m.ERROR,lastUpdated:new Date("2024-02-01")},{id:16,name:"Элменитовая руда",category:"Комплексные",ironContent:47,status:m.DEFAULT,lastUpdated:new Date("2024-01-31")},{id:17,name:"Хромистый железняк",category:"Комплексные",ironContent:58,status:m.SUCCESS,lastUpdated:new Date("2024-01-30")},{id:18,name:"Гематитовый песчаник",category:"Гематитовые",ironContent:61,status:m.WARNING,lastUpdated:new Date("2024-01-29")},{id:19,name:"Сидеритовый сланец",category:"Карбонатные",ironContent:36,status:m.ERROR,lastUpdated:new Date("2024-01-28")},{id:20,name:"Железная штейн",category:"Магнетитовые",ironContent:64,status:m.SUCCESS,lastUpdated:new Date("2024-01-27")}],ui=()=>{const[e,t]=v.useState(1),[n,r]=v.useState(10),[s,o]=v.useState({}),i=le({data:Xe,columns:li,state:{pagination:{pageIndex:e-1,pageSize:n},rowSelection:s},enableRowSelection:!0,onRowSelectionChange:o,getCoreRowModel:ae(),getPaginationRowModel:fo()}),a=i.getSelectedRowModel().rows.length;return c.jsxs(c.Fragment,{children:[c.jsx(Te,{variant:"Body1-Bold",color:"var(--steel-90)",children:a>0?`Выбрано элементов: ${a} из ${Xe.length}`:`Всего элементов: ${Xe.length}`}),c.jsxs("div",{className:_.tableContainer,style:{height:"100%"},children:[c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{children:i.getHeaderGroups().map(l=>c.jsx(z,{children:l.headers.map((u,g)=>{var h,f;return c.jsx(Z,{className:(h=u.column.columnDef.meta)==null?void 0:h.className,title:u.column.columnDef.id!=="select"?String(u.column.columnDef.header):"",right:((f=u.column.columnDef.meta)==null?void 0:f.isNumeric)&&g!==1,children:u.column.columnDef.id==="select"?W(u.column.columnDef.header,u.getContext()):null},u.id)})},l.id))}),c.jsx(ie,{children:i.getRowModel().rows.map(l=>{const u=l.getIsSelected();return c.jsx(z,{children:l.getVisibleCells().map((g,h)=>c.jsx(K,{state:u?de.SELECTED:de.DEFAULT,style:{width:g.column.getSize()},align:h===1?"left":void 0,...g.column.id!=="select"?Q(g):{},children:g.column.id==="select"?W(g.column.columnDef.cell,g.getContext()):null},g.id))},l.id)})})]}),c.jsx(yr,{currentPage:e,setCurrentPage:t,elementsPerPage:n,setElementsPerPage:r,pageSizes:[10,15,Xe.length],withSelect:!0,maxPageCount:Math.ceil(Xe.length/n)})]})]})};var qe=(e=>(e[e.InProcess=0]="InProcess",e[e.Done=1]="Done",e))(qe||{});const pn=["Никель","Олово","Медь","Цинк","Алюминий","Железо"],hn=["Алтай","СГОК","Стагдок","Атриум","Пилигрим","МелТЭК"],ci=Array.from({length:20},(e,t)=>{const n=pn[Math.floor(Math.random()*pn.length)],r=hn[Math.floor(Math.random()*hn.length)],s=Math.floor(Math.random()*1e3)+100,o=Math.random()>.5?s:Math.floor(Math.random()*(s+1)),i=o===s?qe.Done:qe.InProcess;return{id:t+1,name:n,plan:s,fact:o,enterprise:r,status:i}}),Oe=et(),di=[{id:"select",header:({table:e})=>c.jsx(Re,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:c.jsx(Re,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),meta:{rowSpan:2},size:56},Oe.accessor("name",{header:"Название",meta:{rowSpan:2}}),Oe.group({header:"Объем продукции",columns:[Oe.accessor(e=>e.plan,{id:"plan",header:"План",meta:{isNumeric:!0}}),Oe.accessor(e=>e.fact,{id:"fact",header:"Факт",meta:{isNumeric:!0,isLastInGroup:!0}})]}),Oe.accessor("enterprise",{header:"Предприятие",meta:{rowSpan:2}}),Oe.accessor("status",{header:"Статус",cell:({cell:e})=>{const t=e.getValue(),n=t===qe.Done?"IconDoneCheckOutlined24":"IconScheduleTimeWatchOutlined24",r=t===qe.Done?"success":"warning",s=t===qe.Done?"Выполнен":"В процессе",o={color:r,icon:n};return c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:c.jsx(Dr,{...o,children:s})})},meta:{rowSpan:2}})],gi=()=>{const[e,t]=v.useState({}),n=le({data:ci,columns:di,state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:ae()}),r=v.useMemo(()=>["select","status"],[]);return c.jsx("div",{className:De(_.tableContainer,_.tableGrouping),children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{children:n.getHeaderGroups().map(s=>c.jsx(z,{children:s.headers.map((o,i)=>{var f,d,p;if(o.depth-o.column.depth>1)return null;let l=1;if(o.isPlaceholder){const S=o.getLeafHeaders();l=S[S.length-1].depth-o.depth}const u=(f=o.column.columnDef.meta)==null?void 0:f.rowSpan;u&&(l=u);const g=o.column.id==="select",h=(d=o.column.columnDef.meta)==null?void 0:d.isLastInGroup;return c.jsx(Z,{colSpan:o.colSpan,rowSpan:l,title:o.column.columnDef.id!=="select"?String(o.column.columnDef.header):"",right:((p=o.column.columnDef.meta)==null?void 0:p.isNumeric)&&i!==1,lastInGroup:h,className:De({[_.notSortable]:!g}),children:g?W(o.column.columnDef.header,o.getContext()):null},o.id)})},s.id))}),c.jsx(ie,{children:n.getRowModel().rows.map(s=>{const o=s.getIsSelected();return c.jsx(z,{children:s.getVisibleCells().map((i,a)=>c.jsx(K,{state:o?de.SELECTED:de.DEFAULT,style:{width:i.column.getSize()},align:a===1?"left":void 0,...i.column.id!=="select"?Q(i):{},children:r.includes(i.column.id)?W(i.column.columnDef.cell,i.getContext()):null},i.id))},s.id)})})]})})},mn=["Никель","Олово","Медь","Цинк","Алюминий","Железо"],Sn=["Алтай","СГОК","Стагдок","Атриум","Пилигрим","МелТЭК"],Cn=Array.from({length:1e3},(e,t)=>{const n=mn[Math.floor(Math.random()*mn.length)],r=Sn[Math.floor(Math.random()*Sn.length)],s=Math.floor(Math.random()*1e3)+100,o=new Date(Date.now()+t*36e5);return{id:t+1,name:n,plan:s,date:o,enterprise:r}}),it=et(),fi=[{id:"select",header:({table:e})=>c.jsx(Re,{checked:e.getIsAllRowsSelected()||e.getIsSomeRowsSelected(),multiple:e.getIsSomeRowsSelected()&&!e.getIsAllRowsSelected(),onChange:e.getToggleAllRowsSelectedHandler()}),cell:({row:e})=>c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:c.jsx(Re,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()})}),size:56},it.accessor("name",{header:"Название сырья",size:180}),it.accessor("plan",{header:"Плановый объем",meta:{isNumeric:!0}}),it.accessor("date",{header:"Сроки поставки",cell:e=>e.getValue().toLocaleString(),size:180}),it.accessor("enterprise",{header:"Предприятие"})],pi=()=>{const[e,t]=v.useState({}),n=le({data:v.useMemo(()=>Cn,[]),columns:v.useMemo(()=>fi,[]),state:{rowSelection:e},enableRowSelection:!0,onRowSelectionChange:t,getCoreRowModel:ae()}),r=n.getRowModel().rows,s=v.useRef(null),o=Yt({count:r.length,getScrollElement:()=>s.current,estimateSize:()=>56,overscan:5,measureElement:i=>(i==null?void 0:i.getBoundingClientRect().height)??0});return c.jsxs("div",{children:[c.jsxs(Te,{variant:"Body1-Bold",color:"var(--steel-90)",children:["(Виртуализированная таблица: ",Cn.length," rows)"]}),c.jsx("div",{className:De(_.tableContainer,_.tableContainer_autoWidth),ref:s,children:c.jsxs(re,{style:{display:"grid"},horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{style:{display:"grid",position:"sticky",top:0,zIndex:1},children:n.getHeaderGroups().map(i=>c.jsx(z,{style:{display:"flex",width:"100%"},children:i.headers.map((a,l)=>{var h;const u=a.getSize(),g=a.column.columnDef.id==="select";return c.jsx(Z,{style:{display:"flex",width:u},className:De({[_.notSortable]:!g}),title:W(a.column.columnDef.header,a.getContext()),right:((h=a.column.columnDef.meta)==null?void 0:h.isNumeric)&&l!==1},a.id)})},i.id))}),c.jsx(ie,{style:{display:"grid",position:"relative",height:o.getTotalSize()},children:o.getVirtualItems().map(i=>{const a=r[i.index];return c.jsx(z,{ref:l=>{l&&o.measureElement(l)},style:{position:"absolute",transform:`translateY(${i.start}px)`,display:"flex",width:"100%"},children:a.getVisibleCells().map((l,u)=>{const g=a.getIsSelected();return c.jsx(K,{state:g?de.SELECTED:de.DEFAULT,style:{width:l.column.getSize()},align:u===1?"left":void 0,...l.column.id!=="select"?Q(l):{},children:l.column.id==="select"?W(l.column.columnDef.cell,l.getContext()):null},l.id)})},a.id)})})]})})]})},ve=et(),Ye=[{header:"Личные данные",id:"personalInfo",meta:{rowSpan:1},columns:[ve.accessor("id",{header:"ID",cell:e=>e.getValue(),meta:{title:"Идентификатор",size:80}}),ve.accessor("firstName",{header:"Имя",cell:e=>e.getValue(),meta:{title:"Имя сотрудника",size:120}}),ve.accessor("lastName",{header:"Фамилия",cell:e=>e.getValue(),meta:{title:"Фамилия сотрудника",size:130}}),ve.accessor("age",{header:"Возраст",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Возраст сотрудника",size:80}})]},{header:"Рабочая информация",id:"workInfo",meta:{rowSpan:1},columns:[ve.accessor("department",{header:"Отдел",cell:e=>e.getValue(),meta:{title:"Отдел",size:120}}),ve.accessor("position",{header:"Должность",cell:e=>e.getValue(),meta:{title:"Должность",size:160}})]},{header:"Статистика",id:"statistics",meta:{rowSpan:1},columns:[ve.accessor("visits",{header:"Посещения",cell:e=>e.getValue(),meta:{isNumeric:!0,title:"Количество посещений",size:100}}),ve.accessor("status",{header:"Статус",cell:e=>e.getValue(),meta:{title:"Текущий статус",size:120}}),ve.accessor("progress",{header:"Прогресс",cell:e=>`${e.getValue()}%`,meta:{isNumeric:!0,title:"Процент выполнения",size:90}})]}],hi=[{id:"1",firstName:"Алексей",lastName:"Иванов",age:35,visits:12,status:"Активен",progress:78,department:"ИТ",position:"Разработчик"},{id:"2",firstName:"Елена",lastName:"Петрова",age:28,visits:8,status:"Активен",progress:62,department:"Маркетинг",position:"Менеджер"},{id:"3",firstName:"Дмитрий",lastName:"Смирнов",age:42,visits:5,status:"Отпуск",progress:91,department:"Руководство",position:"Директор"},{id:"4",firstName:"Ольга",lastName:"Козлова",age:31,visits:15,status:"Активен",progress:45,department:"Продажи",position:"Менеджер"},{id:"5",firstName:"Николай",lastName:"Морозов",age:39,visits:3,status:"Больничный",progress:27,department:"ИТ",position:"Архитектор"},{id:"6",firstName:"Мария",lastName:"Васильева",age:25,visits:18,status:"Активен",progress:84,department:"HR",position:"Специалист"},{id:"7",firstName:"Андрей",lastName:"Соколов",age:33,visits:9,status:"Активен",progress:53,department:"Бухгалтерия",position:"Главный бухгалтер"},{id:"8",firstName:"Ирина",lastName:"Новикова",age:29,visits:7,status:"Активен",progress:68,department:"Маркетинг",position:"Аналитик"},{id:"9",firstName:"Сергей",lastName:"Попов",age:44,visits:4,status:"Командировка",progress:96,department:"Продажи",position:"Руководитель отдела"},{id:"10",firstName:"Анна",lastName:"Кузнецова",age:27,visits:10,status:"Активен",progress:71,department:"ИТ",position:"Тестировщик"}],Vr=v.createContext({dragDropManager:void 0});function O(e,t,...n){if(mi()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function mi(){return typeof process<"u"&&!0}function Si(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function Ci(e,t){return e.filter(n=>n!==t)}function Ar(e){return typeof e=="object"}function vi(e,t){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((o,i)=>{o===1&&s.push(i)}),s}function wi(e,t){return e.filter(n=>t.indexOf(n)>-1)}const Zt="dnd-core/INIT_COORDS",gt="dnd-core/BEGIN_DRAG",Qt="dnd-core/PUBLISH_DRAG_SOURCE",ft="dnd-core/HOVER",pt="dnd-core/DROP",ht="dnd-core/END_DRAG";function vn(e,t){return{type:Zt,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Di={type:Zt,payload:{clientOffset:null,sourceClientOffset:null}};function yi(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:i}=r,a=e.getMonitor(),l=e.getRegistry();e.dispatch(vn(o)),Ei(n,a,l);const u=bi(n,a);if(u==null){e.dispatch(Di);return}let g=null;if(o){if(!i)throw new Error("getSourceClientOffset must be defined");Ri(i),g=i(u)}e.dispatch(vn(o,g));const f=l.getSource(u).beginDrag(a,u);if(f==null)return;xi(f),l.pinSource(u);const d=l.getSourceType(u);return{type:gt,payload:{itemType:d,item:f,sourceId:u,clientOffset:o||null,sourceClientOffset:g||null,isSourcePublic:!!s}}}}function Ei(e,t,n){O(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){O(n.getSource(r),"Expected sourceIds to be registered.")})}function Ri(e){O(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function xi(e){O(Ar(e),"Item must be an object.")}function bi(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Ti(e,s,n[s])})}return e}function Oi(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();_i(r),Pi(r).forEach((i,a)=>{const l=Fi(i,a,s,r),u={type:pt,payload:{dropResult:Ii({},n,l)}};e.dispatch(u)})}}function _i(e){O(e.isDragging(),"Cannot call drop while not dragging."),O(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Fi(e,t,n,r){const s=n.getTarget(e);let o=s?s.drop(r,e):void 0;return Mi(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function Mi(e){O(typeof e>"u"||Ar(e),"Drop result must either be an object or undefined.")}function Pi(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Ni(e){return function(){const n=e.getMonitor(),r=e.getRegistry();Vi(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:ht}}}function Vi(e){O(e.isDragging(),"Cannot call endDrag while not dragging.")}function At(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function Ai(e){return function(n,{clientOffset:r}={}){zi(n);const s=n.slice(0),o=e.getMonitor(),i=e.getRegistry(),a=o.getItemType();return $i(s,i,a),ji(s,o,i),Li(s,o,i),{type:ft,payload:{targetIds:s,clientOffset:r||null}}}}function zi(e){O(Array.isArray(e),"Expected targetIds to be an array.")}function ji(e,t,n){O(t.isDragging(),"Cannot call hover while not dragging."),O(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];O(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(s);O(o,"Expected targetIds to be registered.")}}function $i(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],o=t.getTargetType(s);At(o,n)||e.splice(r,1)}}function Li(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function Hi(e){return function(){if(e.getMonitor().isDragging())return{type:Qt}}}function Bi(e){return{beginDrag:yi(e),publishDragSource:Hi(e),hover:Ai(e),drop:Oi(e),endDrag:Ni(e)}}class Ui{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(o){return(...i)=>{const a=o.apply(t,i);typeof a<"u"&&n(a)}}const s=Bi(this);return Object.keys(s).reduce((o,i)=>{const a=s[i];return o[i]=r(a),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Gi(e,t){return{x:e.x+t.x,y:e.y+t.y}}function zr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ki(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:zr(Gi(t,r),n)}function qi(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:zr(t,n)}const Qe=[],Jt=[];Qe.__IS_NONE__=!0;Jt.__IS_ALL__=!0;function Wi(e,t){return e===Qe?!1:e===Jt||typeof t>"u"?!0:wi(t,e).length>0}class Ki{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;O(typeof t=="function","listener must be a function."),O(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const i=this.store.getState(),a=i.stateId;try{a===s||a===s+1&&!Wi(i.dirtyHandlerIds,r)||t()}finally{s=a}};return this.store.subscribe(o)}subscribeToOffsetChange(t){O(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return O(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(O(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return At(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(O(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),o=this.getItemType();if(o&&!At(s,o))return!1;const i=this.getTargetIds();if(!i.length)return!1;const a=i.indexOf(t);return r?a===i.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return ki(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return qi(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const wn=typeof global<"u"?global:self,jr=wn.MutationObserver||wn.WebKitMutationObserver;function $r(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function Xi(e){let t=1;const n=new jr(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Yi=typeof jr=="function"?Xi:$r;class Zi{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Yi(this.flush),this.requestErrorThrow=$r(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Qi{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class Ji{create(t){const n=this.freeTasks,r=n.length?n.pop():new Qi(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Lr=new Zi,ea=new Ji(Lr.registerPendingError);function ta(e){Lr.enqueueTask(ea.create(e))}const en="dnd-core/ADD_SOURCE",tn="dnd-core/ADD_TARGET",nn="dnd-core/REMOVE_SOURCE",mt="dnd-core/REMOVE_TARGET";function na(e){return{type:en,payload:{sourceId:e}}}function ra(e){return{type:tn,payload:{targetId:e}}}function sa(e){return{type:nn,payload:{sourceId:e}}}function oa(e){return{type:mt,payload:{targetId:e}}}function ia(e){O(typeof e.canDrag=="function","Expected canDrag to be a function."),O(typeof e.beginDrag=="function","Expected beginDrag to be a function."),O(typeof e.endDrag=="function","Expected endDrag to be a function.")}function aa(e){O(typeof e.canDrop=="function","Expected canDrop to be a function."),O(typeof e.hover=="function","Expected hover to be a function."),O(typeof e.drop=="function","Expected beginDrag to be a function.")}function zt(e,t){if(t&&Array.isArray(e)){e.forEach(n=>zt(n,!1));return}O(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ce;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ce||(ce={}));let la=0;function ua(){return la++}function ca(e){const t=ua().toString();switch(e){case ce.SOURCE:return`S${t}`;case ce.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Dn(e){switch(e[0]){case"S":return ce.SOURCE;case"T":return ce.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function yn(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,o]}=n.next();if(o===t)return!0;r=!!s}while(!r);return!1}class da{addSource(t,n){zt(t),ia(n);const r=this.addHandler(ce.SOURCE,t,n);return this.store.dispatch(na(r)),r}addTarget(t,n){zt(t,!0),aa(n);const r=this.addHandler(ce.TARGET,t,n);return this.store.dispatch(ra(r)),r}containsHandler(t){return yn(this.dragSources,t)||yn(this.dropTargets,t)}getSource(t,n=!1){return O(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return O(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return O(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return O(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Dn(t)===ce.SOURCE}isTargetId(t){return Dn(t)===ce.TARGET}removeSource(t){O(this.getSource(t),"Expected an existing source."),this.store.dispatch(sa(t)),ta(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){O(this.getTarget(t),"Expected an existing target."),this.store.dispatch(oa(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);O(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){O(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=ca(t);return this.types.set(s,n),t===ce.SOURCE?this.dragSources.set(s,r):t===ce.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const ga=(e,t)=>e===t;function fa(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function pa(e,t,n=ga){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function ha(e=Qe,t){switch(t.type){case ft:break;case en:case tn:case mt:case nn:return Qe;case gt:case Qt:case ht:case pt:default:return Jt}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=vi(n,r);if(!(s.length>0||!pa(n,r)))return Qe;const i=r[r.length-1],a=n[n.length-1];return i!==a&&(i&&s.push(i),a&&s.push(a)),s}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){ma(e,s,n[s])})}return e}const En={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ca(e=En,t){const{payload:n}=t;switch(t.type){case Zt:case gt:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ft:return fa(e.clientOffset,n.clientOffset)?e:Sa({},e,{clientOffset:n.clientOffset});case ht:case pt:return En;default:return e}}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){va(e,s,n[s])})}return e}const wa={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Da(e=wa,t){const{payload:n}=t;switch(t.type){case gt:return _e({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Qt:return _e({},e,{isSourcePublic:!0});case ft:return _e({},e,{targetIds:n.targetIds});case mt:return e.targetIds.indexOf(n.targetId)===-1?e:_e({},e,{targetIds:Ci(e.targetIds,n.targetId)});case pt:return _e({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case ht:return _e({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ya(e=0,t){switch(t.type){case en:case tn:return e+1;case nn:case mt:return e-1;default:return e}}function Ea(e=0){return e+1}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Ra(e,s,n[s])})}return e}function ba(e={},t){return{dirtyHandlerIds:ha(e.dirtyHandlerIds,{type:t.type,payload:xa({},t.payload,{prevTargetIds:Si(e,"dragOperation.targetIds",[])})}),dragOffset:Ca(e.dragOffset,t),refCount:ya(e.refCount,t),dragOperation:Da(e.dragOperation,t),stateId:Ea(e.stateId)}}function Ta(e,t=void 0,n={},r=!1){const s=Ia(r),o=new Ki(s,new da(s)),i=new Ui(s,o),a=e(i,t,n);return i.receiveBackend(a),i}function Ia(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Jr(ba,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Oa(e,t){if(e==null)return{};var n=_a(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _a(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let Rn=0;const ct=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Fa=v.memo(function(t){var{children:n}=t,r=Oa(t,["children"]);const[s,o]=Ma(r);return v.useEffect(()=>{if(o){const i=Hr();return++Rn,()=>{--Rn===0&&(i[ct]=null)}}},[]),c.jsx(Vr.Provider,{value:s,children:n})});function Ma(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Pa(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Pa(e,t=Hr(),n,r){const s=t;return s[ct]||(s[ct]={dragDropManager:Ta(e,t,n,r)}),s[ct]}function Hr(){return typeof global<"u"?global:window}var Na=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Va=as(Na),be=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Aa(e,t,n){const[r,s]=v.useState(()=>t(e)),o=v.useCallback(()=>{const i=t(e);Va(r,i)||(s(i),n&&n())},[r,e,n]);return be(o),[r,o]}function za(e,t,n){const[r,s]=Aa(e,t,n);return be(function(){const i=e.getHandlerId();if(i!=null)return e.subscribeToStateChange(s,{handlerIds:[i]})},[e,s]),r}function Br(e,t,n){return za(t,e||(()=>({})),()=>n.reconnect())}function Ur(e,t){const n=[];return typeof e!="function"&&n.push(e),v.useMemo(()=>typeof e=="function"?e():e,n)}function ja(e){return v.useMemo(()=>e.hooks.dragSource(),[e])}function $a(e){return v.useMemo(()=>e.hooks.dragPreview(),[e])}let bt=!1,Tt=!1;class La{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){O(!bt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return bt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{bt=!1}}isDragging(){if(!this.sourceId)return!1;O(!Tt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Tt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Tt=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let It=!1;class Ha{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;O(!It,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return It=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{It=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Ba(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function Ua(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function jt(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<o.length;l++){const u=o[l];if(!a(u))return!1;const g=e[u],h=t[u];if(s=void 0,s===!1||s===void 0&&g!==h)return!1}return!0}function $t(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ga(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function ka(e){return(t=null,n=null)=>{if(!v.isValidElement(t)){const o=t;return e(o,n),o}const r=t;return Ga(r),qa(r,n?o=>e(o,n):e)}}function Gr(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=ka(r);t[n]=()=>s}}),t}function xn(e,t){typeof e=="function"?e(t):e.current=t}function qa(e,t){const n=e.ref;return O(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?v.cloneElement(e,{ref:r=>{xn(n,r),xn(t,r)}}):v.cloneElement(e,{ref:t})}class Wa{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!jt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!jt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Gr({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,$t(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,$t(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Ka{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!jt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Gr({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,$t(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function We(){const{dragDropManager:e}=v.useContext(Vr);return O(e!=null,"Expected drag drop context"),e}function Xa(e,t){const n=We(),r=v.useMemo(()=>new Wa(n.getBackend()),[n]);return be(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),be(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function Ya(){const e=We();return v.useMemo(()=>new La(e),[e])}class Za{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:o}=r;return o?o(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function Qa(e,t,n){const r=v.useMemo(()=>new Za(e,t,n),[t,n]);return v.useEffect(()=>{r.spec=e},[e]),r}function Ja(e){return v.useMemo(()=>{const t=e.type;return O(t!=null,"spec.type must be defined"),t},[e])}function el(e,t,n){const r=We(),s=Qa(e,t,n),o=Ja(e);be(function(){if(o!=null){const[a,l]=Ua(o,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),l}},[r,t,n,s,o])}function tl(e,t){const n=Ur(e);O(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Ya(),s=Xa(n.options,n.previewOptions);return el(n,r,s),[Br(n.collect,r,s),ja(s),$a(s)]}function nl(e){return v.useMemo(()=>e.hooks.dropTarget(),[e])}function rl(e){const t=We(),n=v.useMemo(()=>new Ka(t.getBackend()),[t]);return be(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function sl(){const e=We();return v.useMemo(()=>new Ha(e),[e])}function ol(e){const{accept:t}=e;return v.useMemo(()=>(O(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class il{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function al(e,t){const n=v.useMemo(()=>new il(e,t),[t]);return v.useEffect(()=>{n.spec=e},[e]),n}function ll(e,t,n){const r=We(),s=al(e,t),o=ol(e);be(function(){const[a,l]=Ba(o,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),l},[r,t,s,n,o.map(i=>i.toString()).join("|")])}function bn(e,t){const n=Ur(e),r=sl(),s=rl(n.options);return ll(n,r,s),[Br(n.collect,r,s),nl(s)]}function kr(e){let t=null;return()=>(t==null&&(t=e()),t)}function ul(e,t){return e.filter(n=>n!==t)}function cl(e,t){const n=new Set,r=o=>n.add(o);e.forEach(r),t.forEach(r);const s=[];return n.forEach(o=>s.push(o)),s}class dl{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=cl(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=ul(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class gl{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const qr="__NATIVE_FILE__",Wr="__NATIVE_URL__",Kr="__NATIVE_TEXT__",Xr="__NATIVE_HTML__",Tn=Object.freeze(Object.defineProperty({__proto__:null,FILE:qr,HTML:Xr,TEXT:Kr,URL:Wr},Symbol.toStringTag,{value:"Module"}));function Ot(e,t,n){const r=t.reduce((s,o)=>s||e.getData(o),"");return r??n}const Lt={[qr]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Xr]:{exposeProperties:{html:(e,t)=>Ot(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Wr]:{exposeProperties:{urls:(e,t)=>Ot(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Kr]:{exposeProperties:{text:(e,t)=>Ot(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function fl(e,t){const n=Lt[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new gl(n);return r.loadDataTransfer(t),r}function _t(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Lt).filter(n=>{const r=Lt[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const pl=kr(()=>/firefox/i.test(navigator.userAgent)),Yr=kr(()=>!!window.safari);class In{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:o,c3s:i}=this;let a=n.length-1;if(t===n[a])return r[a];let l=0,u=i.length-1,g;for(;l<=u;){g=Math.floor(.5*(l+u));const d=n[g];if(d<t)l=g+1;else if(d>t)u=g-1;else return r[g]}a=Math.max(0,u);const h=t-n[a],f=h*h;return r[a]+s[a]*h+o[a]*f+i[a]*h*f}constructor(t,n){const{length:r}=t,s=[];for(let d=0;d<r;d++)s.push(d);s.sort((d,p)=>t[d]<t[p]?-1:1);const o=[],i=[];let a,l;for(let d=0;d<r-1;d++)a=t[d+1]-t[d],l=n[d+1]-n[d],o.push(a),i.push(l/a);const u=[i[0]];for(let d=0;d<o.length-1;d++){const p=i[d],S=i[d+1];if(p*S<=0)u.push(0);else{a=o[d];const w=o[d+1],C=a+w;u.push(3*C/((C+w)/p+(C+a)/S))}}u.push(i[i.length-1]);const g=[],h=[];let f;for(let d=0;d<u.length-1;d++){f=i[d];const p=u[d],S=1/o[d],w=p+u[d+1]-f-f;g.push((f-p-w)*S),h.push(w*S*S)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=g,this.c3s=h}}const hl=1;function Zr(e){const t=e.nodeType===hl?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function at(e){return{x:e.clientX,y:e.clientY}}function ml(e){var t;return e.nodeName==="IMG"&&(pl()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Sl(e,t,n,r){let s=e?t.width:n,o=e?t.height:r;return Yr()&&e&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function Cl(e,t,n,r,s){const o=ml(t),a=Zr(o?e:t),l={x:n.x-a.x,y:n.y-a.y},{offsetWidth:u,offsetHeight:g}=e,{anchorX:h,anchorY:f}=r,{dragPreviewWidth:d,dragPreviewHeight:p}=Sl(o,t,u,g),S=()=>{let x=new In([0,.5,1],[l.y,l.y/g*p,l.y+p-g]).interpolate(f);return Yr()&&o&&(x+=(window.devicePixelRatio-1)*p),x},w=()=>new In([0,.5,1],[l.x,l.x/u*d,l.x+d-u]).interpolate(h),{offsetX:C,offsetY:D}=s,E=C===0||C,V=D===0||D;return{x:E?C:w(),y:V?D:S()}}class vl{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){wl(e,s,n[s])})}return e}class Dl{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=i=>this.handleDragStart(i,t),o=i=>this.handleSelectStart(i);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=i=>this.handleDragEnter(i,t),s=i=>this.handleDragOver(i,t),o=i=>this.handleDrop(i,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return On({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return On({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Tn).some(n=>Tn[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=fl(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&Zr(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const i=at(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:i});const{dataTransfer:a}=s,l=_t(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const g=this.monitor.getSourceId(),h=this.sourceNodes.get(g),f=this.sourcePreviewNodes.get(g)||h;if(f){const{anchorX:d,anchorY:p,offsetX:S,offsetY:w}=this.getCurrentSourcePreviewNodeOptions(),E=Cl(h,f,i,{anchorX:d,anchorY:p},{offsetX:S,offsetY:w});a.setDragImage(f,E.x,E.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=_t(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:at(s)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=at(s),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else _t(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:at(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new vl(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new dl(this.isNodeInDocument)}}const yl=function(t,n,r){return new Dl(t,n,r)},El="_columnListContainer_1psfi_1",Rl="_droppableArea_1psfi_10",xl="_customSettingsContainer_1psfi_17",bl="_searchBox_1psfi_27",Tl="_buttonsGroup_1psfi_31",Il="_column_1psfi_1",Ol="_dragging_1psfi_41",_l="_dropTarget_1psfi_47",Fl="_childColumns_1psfi_53",Ml="_dropZone_1psfi_58",Pl="_dropIndicator_1psfi_64",Nl="_drawer_1psfi_72",me={columnListContainer:El,droppableArea:Rl,customSettingsContainer:xl,searchBox:bl,buttonsGroup:Tl,column:Il,dragging:Ol,dropTarget:_l,childColumns:Fl,dropZone:Ml,dropIndicator:Pl,drawer:Nl},lt="column",Ht=({columns:e,visibleColumns:t,pinnedColumns:n,onVisibilityChange:r,onPinChange:s,columnOrder:o,onOrderChange:i})=>{const[a,l]=v.useState({}),[u,g]=v.useState({rootIds:[],parentMap:{},childrenMap:{},columnsMap:{},levels:{}});v.useEffect(()=>{const y=[],x={},R={},$={},M={},A=(G,k,Y=0)=>{G.forEach(B=>{const q=B.id||(typeof B.accessorKey=="string"?B.accessorKey:null);q&&($[q]=B,M[q]=Y,k?(x[q]=k,R[k]||(R[k]=[]),R[k].push(q)):y.push(q),B.columns&&Array.isArray(B.columns)&&A(B.columns,q,Y+1))})};A(e),g({rootIds:y,parentMap:x,childrenMap:R,columnsMap:$,levels:M});const L={};Object.keys(R).forEach(G=>{L[G]=!1}),l(L)},[e]);const h=v.useCallback(y=>{l(x=>({...x,[y]:!x[y]}))},[]),f=v.useCallback((y="")=>{const{rootIds:x,childrenMap:R}=u,$=y?R[y]||[]:x;return[...$].sort((M,A)=>{const L=o.indexOf(M),G=o.indexOf(A);return L!==-1&&G!==-1?L-G:L!==-1?-1:G!==-1?1:$.indexOf(M)-$.indexOf(A)})},[u,o]),d=v.useCallback((y,x)=>{r(y,x);const R=[],$=A=>{(u.childrenMap[A]||[]).forEach(G=>{R.push(G),u.childrenMap[G]&&$(G)})};u.childrenMap[y]&&($(y),x?R.forEach(A=>{r(A,!0)}):R.forEach(A=>{r(A,!1)}));const M=u.parentMap[y];if(M){const A=u.childrenMap[M]||[],L={};A.forEach(B=>{B===y?L[B]=x:L[B]=t[B]!==!1});const G=A.every(B=>L[B]===!1),k=A.some(B=>L[B]!==!1);G?r(M,!1):k&&r(M,!0);const Y=B=>{const q=u.parentMap[B];if(!q)return;const fe=u.childrenMap[q]||[],I=fe.every(F=>t[F]===!1),P=fe.some(F=>t[F]!==!1);I?r(q,!1):P&&r(q,!0),Y(q)};Y(M)}},[u,r,t]),p=v.useCallback((y,x,R="",$="",M="before")=>{if(y===x||R!==$)return;const A=f(R);if(A.length<=1)return;const L=A.indexOf(y),G=A.indexOf(x);if(L===-1||G===-1)return;const k=[...A];k.splice(L,1);let Y;M==="before"?Y=k.indexOf(x):Y=k.indexOf(x)+1,Y<0&&(Y=0),Y>k.length&&(Y=k.length),k.splice(Y,0,y);const B=[],q=(fe="")=>{let I;fe?fe===R?I=k:I=f(fe):R===""?I=k:I=f("");for(const P of I)B.push(P),(u.childrenMap[P]||[]).length>0&&q(P)};q(),i(B)},[u,f,i]),S=v.useCallback((y,x="")=>{const R=f(x);R.length<=1||R[0]===y||p(y,R[0],x,x,"before")},[f,p]),w=v.useCallback((y,x="")=>{const R=f(x);R.length<=1||R[R.length-1]===y||p(y,R[R.length-1],x,x,"after")},[f,p]),C=v.useCallback(({parentId:y="",position:x})=>{const[R,$]=bn({accept:lt,canDrop:M=>{const{parentMap:A}=u;return(A[M.id]||"")===y},drop:M=>(x==="start"?S(M.id,y):w(M.id,y),{handled:!0}),collect:M=>({isOver:M.isOver()&&M.canDrop()})});return c.jsx("div",{ref:$,className:me.dropZone,"data-position":x,"data-parent-id":y})},[u,S,w]),D=v.useCallback(({columnId:y,index:x,parentId:R="",level:$=0})=>{var pe;const{columnsMap:M,childrenMap:A}=u,L=M[y];if(!L)return null;const G=!!A[y]&&A[y].length>0,k=a[y]||!1,Y=t[y]!==!1,B=n[y]||!1,q=typeof L.header=="string"?L.header:((pe=L.meta)==null?void 0:pe.title)||y,[{isDragging:fe},I]=tl({type:lt,item:{id:y,parentId:R,index:x,type:lt},collect:H=>({isDragging:H.isDragging()})}),[{isOver:P,canDrop:F},j]=bn({accept:lt,canDrop:H=>{if(H.id===y)return!1;const{parentMap:U}=u;return(U[H.id]||"")===R},drop:(H,U)=>{if(U.didDrop())return;const X=f(R).indexOf(H.id),te=f(R).indexOf(y),Se=X<te?"after":"before";return p(H.id,y,R,R,Se),{handled:!0}},collect:H=>({isOver:H.isOver({shallow:!0}),canDrop:H.canDrop()})}),N=G?f(y):[],J=N.join(","),ee=[me.column,fe?me.dragging:"",P&&F?me.dropTarget:""].filter(Boolean).join(" "),se={marginLeft:`${$*16}px`};return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:H=>{I(j(H))},className:ee,style:se,"data-id":y,"data-parent-id":R,"data-level":$,children:c.jsx(es,{id:y,title:q,visible:Y,pinned:B,hasChildren:G,expanded:k,draggable:!0,onVisibilityChange:H=>d(y,H),onPinChange:H=>s(y,H),onExpandChange:()=>h(y)})}),G&&k&&c.jsxs("div",{className:me.childColumns,children:[c.jsx(C,{parentId:y,position:"start"}),N.map((H,U)=>c.jsx(D,{columnId:H,index:U,parentId:y,level:$+1},H)),c.jsx(C,{parentId:y,position:"end"})]},J)]})},[u,a,t,n,f,h,d,s,p,C]),E=f(),V=E.join(",");return c.jsx("div",{className:me.table,children:c.jsxs("div",{children:[c.jsx(C,{position:"start"}),E.map((y,x)=>c.jsx(D,{columnId:y,index:x,parentId:"",level:0},y)),c.jsx(C,{position:"end"})]},V)})};try{Ht.displayName="TableColumnList",Ht.__docgenInfo={description:"Компонент TableColumnList - список колонок с возможностью перетаскивания",displayName:"TableColumnList",props:{columns:{defaultValue:null,description:"Список колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Видимость колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Закрепление колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnId: string, isVisible: boolean) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(newOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепления колонок",name:"onPinChange",required:!0,type:{name:'(columnId: string, pinned: false | "right" | "left") => void'}}}}}catch{}const Bt=({columns:e,visibleColumns:t,columnOrder:n,pinnedColumns:r,onVisibilityChange:s,onOrderChange:o,onPinChange:i})=>{const[a,l]=v.useState(!1),[u,g]=v.useState({}),[h,f]=v.useState([]),[d,p]=v.useState({}),S=v.useRef({visibleColumns:{},columnOrder:[],pinnedColumns:{}}),[w,C]=v.useState(""),D=v.useRef(!1),[E,V]=v.useState({}),y=v.useCallback(()=>{const I={},P=F=>{F.forEach(j=>{j.id&&(I[j.id]=!0),j.columns&&P(j.columns)})};return P(e),I},[e]),x=v.useCallback(()=>{const I=[],P=F=>{F.forEach(j=>{j.id&&I.push(j.id),j.columns&&P(j.columns)})};return P(e),I},[e]),R=v.useCallback(()=>{let I=0,P=!1,F=0;const j={},N={},J=(U,X)=>{U.forEach(te=>{te.id&&(X&&(j[X]||(j[X]=[]),j[X].push(te.id),N[te.id]=X),te.columns&&J(te.columns,te.id))})};J(e);const ee=new Set,se=U=>{if(ee.has(U))return 0;ee.add(U);const X=S.current.visibleColumns[U]??!0,te=t[U]??!0;if(X!==te){const Se=N[U];if(Se){const sn=S.current.visibleColumns[Se]??!0,St=t[Se]??!0;return!St&&!te&&sn!==St||St&&te&&!sn&&X?0:1}else return 1}return 0};return Object.keys({...S.current.visibleColumns,...t}).forEach(U=>{I+=se(U)}),n.join(",")!==S.current.columnOrder.join(",")&&(P=!0),new Set([...Object.keys(S.current.pinnedColumns),...Object.keys(r)]).forEach(U=>{const X=S.current.pinnedColumns[U]||!1,te=r[U]||!1;X!==te&&F++}),I+(P?1:0)+F},[t,n,r,e]);v.useEffect(()=>{const I={},P=(F,j)=>{F.forEach(N=>{N.id&&(j&&(I[j]||(I[j]=[]),I[j].push(N.id)),N.columns&&P(N.columns,N.id))})};P(e),V(I)},[e]),v.useEffect(()=>{D.current||(g({...t}),f([...n]),p({...r}),S.current={visibleColumns:{...t},columnOrder:[...n],pinnedColumns:{...r}},D.current=!0)},[t,n,r]),v.useEffect(()=>{a&&(g({...t}),f([...n]),p({...r}),C(""))},[a,t,n,r]);const $=Er.useMemo(()=>{if(!w)return e;const I=w.toLowerCase(),P=F=>{var N;return(typeof F.header=="string"?F.header:((N=F.meta)==null?void 0:N.title)||F.id||"").toLowerCase().includes(I)?!0:F.columns&&F.columns.length>0?F.columns.some(P):!1};return e.filter(P)},[e,w]),M=I=>{l(I)},A=I=>{C(I.target.value)},L=(I,P)=>{g(N=>({...N,[I]:P}));const F=[],j=N=>{(E[N]||[]).forEach(ee=>{F.push(ee),E[ee]&&j(ee)})};E[I]&&(j(I),g(P?N=>{const J={...N};return F.forEach(ee=>{J[ee]=!0}),J}:N=>{const J={...N};return F.forEach(ee=>{J[ee]=!1}),J})),setTimeout(()=>{const N=Object.keys(E).find(J=>E[J].includes(I));if(N){g(ee=>{const se={...ee},pe=E[N]||[],H=pe.every(X=>!se[X]),U=pe.some(X=>se[X]);return H?se[N]=!1:U&&(se[N]=!0),se});const J=ee=>{const se=Object.keys(E).find(pe=>E[pe].includes(ee));se&&(g(pe=>{const H={...pe},U=E[se]||[],X=U.every(Se=>!H[Se]),te=U.some(Se=>H[Se]);return X?H[se]=!1:te&&(H[se]=!0),H}),J(se))};J(N)}},0)},G=I=>{f(I)},k=(I,P)=>{p(F=>({...F,[I]:P}))},Y=()=>{const I=y(),P=x(),F={};s(I),o(P),i(F),S.current={visibleColumns:{...I},columnOrder:[...P],pinnedColumns:{...F}},l(!1)},B=()=>{const I=new Set,P=j=>{j.forEach(N=>{N.id&&I.add(N.id),N.columns&&P(N.columns)})};P(e);const F=[...h];I.forEach(j=>{F.includes(j)||F.push(j)}),s(u),o(F),i(d),l(!1)},q=()=>{l(!1)},fe=R();return c.jsxs(c.Fragment,{children:[c.jsxs(ut,{gap:"4px",alignItems:"center",children:[c.jsx(nt,{variant:"secondary",color:"ghost",size:"s",iconButton:c.jsx(Cs,{color:"primary"}),onClick:()=>M(!0),title:"Настройки таблицы"}),c.jsx(ts,{size:"m",style:{height:"24px"},children:fe})]}),c.jsx(ns,{isOpen:a,onClose:()=>M(!1),position:"right",width:"450px",className:me.drawer,children:c.jsxs("div",{className:me.customSettingsContainer,children:[c.jsxs(ut,{style:{display:"flex",flexDirection:"column",height:"100%",gap:"16px",padding:"0px 24px"},children:[c.jsx(Te,{variant:"Heading3",color:"var(--steel-90)",children:"Настройки колонок таблицы"}),c.jsx("div",{className:me.searchBox,children:c.jsx(rs,{placeholder:"Поиск колонок",value:w,onChange:A,icon:c.jsx(vs,{})})}),c.jsx("div",{className:me.columnListContainer,children:c.jsx(Fa,{backend:yl,children:c.jsx(Ht,{columns:$,visibleColumns:u,columnOrder:h,pinnedColumns:d,onVisibilityChange:L,onOrderChange:G,onPinChange:k})})})]}),c.jsxs(ut,{style:{display:"flex",gap:"16px",borderTop:"1px solid",borderColor:"var(--unique-divider)",padding:"24px",position:"fixed",bottom:0,width:"100%",backgroundColor:"var(--steel-10)"},children:[c.jsx(nt,{variant:"primary",onClick:B,children:"Применить"}),c.jsx(nt,{variant:"secondary",onClick:q,children:"Отмена"}),c.jsx(nt,{variant:"secondary",color:"ghost",onClick:Y,children:"Сбросить"})]})]})})]})};try{Bt.displayName="CustomSettings",Bt.__docgenInfo={description:`Компонент CustomSettings - панель настроек таблицы

Отвечает за:
- Отображение модального окна настроек таблицы
- Управление видимостью колонок
- Управление порядком колонок
- Управление закреплением колонок`,displayName:"CustomSettings",props:{title:{defaultValue:null,description:"Заголовок панели настроек",name:"title",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"Определения колонок таблицы",name:"columns",required:!0,type:{name:"ColumnDef<T, any>[]"}},visibleColumns:{defaultValue:null,description:"Состояние видимости колонок",name:"visibleColumns",required:!0,type:{name:"Record<string, boolean>"}},columnOrder:{defaultValue:null,description:"Порядок колонок",name:"columnOrder",required:!0,type:{name:"string[]"}},pinnedColumns:{defaultValue:null,description:"Состояние закрепленных колонок",name:"pinnedColumns",required:!0,type:{name:'Record<string, false | "right" | "left">'}},defaultVisibleColumns:{defaultValue:null,description:`Начальное состояние видимости колонок
Используется для сброса к дефолтному состоянию`,name:"defaultVisibleColumns",required:!1,type:{name:"Record<string, boolean>"}},defaultColumnOrder:{defaultValue:null,description:`Начальный порядок колонок
Используется для сброса к дефолтному состоянию`,name:"defaultColumnOrder",required:!1,type:{name:"string[]"}},defaultPinnedColumns:{defaultValue:null,description:`Начальное состояние закрепленных колонок
Используется для сброса к дефолтному состоянию`,name:"defaultPinnedColumns",required:!1,type:{name:'Record<string, false | "right" | "left">'}},onVisibilityChange:{defaultValue:null,description:"Обработчик изменения видимости колонок",name:"onVisibilityChange",required:!0,type:{name:"(columnVisibility: Record<string, boolean>) => void"}},onOrderChange:{defaultValue:null,description:"Обработчик изменения порядка колонок",name:"onOrderChange",required:!0,type:{name:"(columnOrder: string[]) => void"}},onPinChange:{defaultValue:null,description:"Обработчик изменения закрепленных колонок",name:"onPinChange",required:!0,type:{name:'(pinnedColumns: Record<string, false | "right" | "left">) => void'}}}}}catch{}const Ut=()=>{const e=()=>{const w=[],C=D=>{D.forEach(E=>{E.id&&w.push(E.id),E.columns&&C(E.columns)})};return C(Ye),w},t=()=>{const w={},C=D=>{D.forEach(E=>{E.id&&(w[E.id]=!0),E.columns&&C(E.columns)})};return C(Ye),w},[n,r]=v.useState([]),[s,o]=v.useState(t()),[i,a]=v.useState(e()),[l,u]=v.useState({}),[g]=v.useState("onChange"),h={};l.left&&l.left.forEach(w=>{h[w]="left"}),l.right&&l.right.forEach(w=>{h[w]="right"});const f=le({data:hi,columns:Ye,state:{columnFilters:n,columnVisibility:s,columnOrder:i,columnPinning:l},onColumnFiltersChange:r,onColumnVisibilityChange:o,onColumnOrderChange:a,onColumnPinningChange:u,getCoreRowModel:ae(),columnResizeMode:g,enableColumnResizing:!0,defaultColumn:{minSize:80,maxSize:500,size:120}}),d=w=>{const C={},D={},E=(y,x)=>{y.forEach(R=>{R.id&&(x&&(D[R.id]=x),R.columns&&R.columns.length>0&&E(R.columns,R.id))})};E(Ye);const V=y=>{let x=y;for(;D[x];){const R=D[x];if(w[R]===!1)return!0;x=R}return!1};Object.keys(w).forEach(y=>{C[y]=w[y]&&!V(y)}),o(C)},p=w=>{a(w)},S=w=>{const C=[],D=[];Object.entries(w).forEach(([E,V])=>{V==="left"?C.push(E):V==="right"&&D.push(E)}),u({left:C,right:D})};return c.jsxs("div",{children:[c.jsx(Bt,{columns:Ye,visibleColumns:s,columnOrder:i,pinnedColumns:h,defaultVisibleColumns:t(),defaultColumnOrder:e(),onVisibilityChange:d,onOrderChange:p,onPinChange:S}),c.jsx("div",{className:_.tableContainer,style:{width:"100%"},children:c.jsxs(re,{horizontalBorders:!0,verticalBorders:!0,children:[c.jsx(oe,{style:{position:"sticky",top:0,zIndex:1},children:f.getHeaderGroups().map((w,C)=>c.jsx(z,{children:w.headers.map(D=>{var R,$,M,A;if(D.depth-D.column.depth>1)return null;let V=1;if(D.isPlaceholder){const L=D.getLeafHeaders();V=Math.max(1,L[L.length-1].depth-D.depth)}const y=(R=D.column.columnDef.meta)==null?void 0:R.rowSpan;y!==void 0&&(V=y);const x=(($=D.column.columnDef.meta)==null?void 0:$.size)||D.getSize();return c.jsx(Z,{style:{width:x},colSpan:D.colSpan,rowSpan:V,drag:!0,onMouseDown:D.getResizeHandler(),onTouchStart:D.getResizeHandler(),title:typeof D.column.columnDef.header=="string"?D.column.columnDef.header:((M=D.column.columnDef.meta)==null?void 0:M.title)||D.id,right:((A=D.column.columnDef.meta)==null?void 0:A.isNumeric)&&C!==1},D.id)})},w.id))}),c.jsx(ie,{children:f.getRowModel().rows.map(w=>c.jsx(z,{children:w.getVisibleCells().map((C,D)=>{var V;const E=((V=C.column.columnDef.meta)==null?void 0:V.size)||C.column.getSize();return c.jsx(K,{style:{width:E},align:D===0?"left":void 0,...Q(C)},C.id)})},w.id))})]})})]})};try{Ut.displayName="SettingsTableExample",Ut.__docgenInfo={description:`Компонент SettingsTableExample - пример таблицы с настраиваемыми колонками

Этот компонент демонстрирует возможности по настройке таблицы:
- Изменение порядка колонок (перетаскивание)
- Показ/скрытие колонок
- Закрепление колонок (слева/справа)`,displayName:"SettingsTableExample",props:{}}}catch{}const Je=[{id:1,name:"Сталь",age:25,status:m.DEFAULT},{id:2,name:"Металл",age:30,status:m.SUCCESS},{id:3,name:"Чугун",age:40,status:m.ERROR},{id:4,name:"Сталь",age:25,status:m.DEFAULT},{id:5,name:"Металл",age:30,status:m.SUCCESS},{id:6,name:"Чугун",age:40,status:m.ERROR},{id:7,name:"Алюминий",age:28,status:m.DEFAULT},{id:8,name:"Медь",age:35,status:m.SUCCESS},{id:9,name:"Титан",age:45,status:m.ERROR},{id:10,name:"Бронза",age:32,status:m.DEFAULT},{id:11,name:"Латунь",age:38,status:m.SUCCESS},{id:12,name:"Никель",age:27,status:m.ERROR},{id:13,name:"Цинк",age:42,status:m.DEFAULT},{id:14,name:"Свинец",age:33,status:m.SUCCESS},{id:15,name:"Олово",age:36,status:m.ERROR},{id:16,name:"Хром",age:29,status:m.DEFAULT}],rn=[{header:"ID",accessorKey:"id",meta:{isNumeric:!0}},{header:"Name",accessorKey:"name"},{header:"Age",accessorKey:"age",meta:{isNumeric:!0}},{header:"Status",accessorKey:"status"}],Gt=({data:e,columns:t,isLoading:n=!1,onSortingChange:r,onPageChange:s,onPageSizeChange:o,state:i,size:a=os.S,stickyHeader:l=!1,withPagination:u=!1,pagination:g})=>{const h=le({data:e,columns:t,getCoreRowModel:ae(),onSortingChange:r,state:i,pageCount:g==null?void 0:g.pageCount}),f=h.getState().pagination,d=C=>s==null?void 0:s(typeof C=="function"?C(f.pageIndex+1):C),p=C=>{var D;return o==null?void 0:o(typeof C=="function"?C(((D=i==null?void 0:i.pagination)==null?void 0:D.pageSize)||10):C)},S=C=>{C.column.getCanSort()&&C.column.toggleSorting()},w=h.getPageCount();return c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{height:"100%"},children:n?c.jsx(ut,{justifyContent:"center",children:c.jsx(ss,{})}):c.jsxs(re,{children:[c.jsx(oe,{className:De(l&&_.tableHeaderSticky),children:h.getHeaderGroups().map(C=>c.jsx(z,{children:C.headers.map(D=>c.jsx(Z,{align:"left",onClick:()=>S(D),size:a,sort:D.column.getCanSort(),sortDirection:D.column.getIsSorted(),title:W(D.column.columnDef.header,D.getContext())},D.id))},C.id))}),c.jsx(ie,{children:h.getRowModel().rows.map(C=>c.jsx(z,{children:C.getVisibleCells().map(D=>c.jsx(K,{align:"right",size:a,width:D.column.getSize(),children:W(D.column.columnDef.cell,D.getContext())},D.id))},C.id))})]})}),u&&c.jsx(yr,{currentPage:f.pageIndex+1,elementsPerPage:f.pageSize,maxPageCount:w,pageSizes:g==null?void 0:g.pageSizes,setCurrentPage:d,setElementsPerPage:p,withSelect:!0})]})};try{Gt.displayName="CommonTable",Gt.__docgenInfo={description:"",displayName:"CommonTable",props:{data:{defaultValue:null,description:"The data for the table to display. This array should match the type you provided to `table.setRowType<...>`. Columns can access this data via string/index or a functional accessor. When the `data` option changes reference, the table will reprocess the data.",name:"data",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"The array of column defs to use for the table.",name:"columns",required:!0,type:{name:"ColumnDef<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onSortingChange:{defaultValue:null,description:"If provided, this function will be called with an `updaterFn` when `state.sorting` changes. This overrides the default internal state management, so you will need to persist the state change either fully or partially outside of the table.",name:"onSortingChange",required:!1,type:{name:"OnChangeFn<SortingState>"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!1,type:{name:"((page: number) => void)"}},onPageSizeChange:{defaultValue:null,description:"",name:"onPageSizeChange",required:!1,type:{name:"((size: number) => void)"}},size:{defaultValue:{value:"ESize.S"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"s"'},{value:'"xs"'}]}},stickyHeader:{defaultValue:{value:"false"},description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},withPagination:{defaultValue:{value:"false"},description:"",name:"withPagination",required:!1,type:{name:"boolean"}},pagination:{defaultValue:null,description:"",name:"pagination",required:!1,type:{name:"{ pageCount: number; pageSizes: number[]; }"}},filterFns:{defaultValue:null,description:"",name:"filterFns",required:!1,type:{name:"Record<string, FilterFn<any>>"}},sortingFns:{defaultValue:null,description:"",name:"sortingFns",required:!1,type:{name:"Record<string, SortingFn<any>>"}},aggregationFns:{defaultValue:null,description:"",name:"aggregationFns",required:!1,type:{name:"Record<string, AggregationFn<any>>"}}}}}catch{}const Vl=()=>{const[e,t]=v.useState(Je),[n,r]=v.useState([]),[s,o]=v.useState(1),[i,a]=v.useState(10),l=h=>{o(1),r(h)},u=Math.ceil(Je.length/i),g={sorting:n,pagination:{pageIndex:s-1,pageSize:i}};return v.useEffect(()=>{const{pagination:h,sorting:f}=g,{pageIndex:d,pageSize:p}=h,S=[...Je].sort((D,E)=>{for(const V of f)return((x,R)=>{const $=x[V.id]??0,M=R[V.id]??0;return V.desc?$<M?1:-1:$>M?1:-1})(D,E);return 0}),w=d*p,C=(d+1)*p;t(S.slice(w,C))},[s,i,n]),c.jsx(Gt,{stickyHeader:!0,columns:rn,data:e,isLoading:!1,withPagination:!0,pagination:{pageCount:u,pageSizes:[10,15]},onPageChange:o,onPageSizeChange:a,onSortingChange:l,state:g})};try{CommonTableExample.displayName="CommonTableExample",CommonTableExample.__docgenInfo={description:"",displayName:"CommonTableExample",props:{}}}catch{}const Al=e=>c.jsx("div",{style:{minHeight:80},children:c.jsx(e,{})}),ru={title:"Table/Stories",component:re,decorators:[Al]},Fe=()=>c.jsx(xo,{});Fe.storyName="Таблица по умолчанию";Fe.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Me=()=>c.jsx(bo,{});Me.storyName="Таблица с закрепленным заголовком";Me.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Pe=()=>c.jsx(Bo,{});Pe.storyName="Виртуализированная таблица с динамической высотой строк";Pe.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ne=()=>c.jsx(qo,{});Ne.storyName="Таблица с горизонтальной виртуализацией";Ne.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ve=()=>c.jsx(Xo,{});Ve.storyName="Таблица с фильтрами, сортировкой и возможностью изменения ширины столбцов";Ve.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ae=()=>c.jsx(Oo,{});Ae.storyName="Таблица с сортировкой и возможностью изменения ширины столбцов";Ae.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const ze=()=>c.jsx(Qo,{});ze.storyName="Таблица с раскрывающимися строками";ze.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const je=()=>c.jsx(ti,{});je.storyName="Таблица с группировкой и заголовками";je.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const $e=()=>c.jsx(si,{});$e.storyName="Таблица с группировкой и заголовками с возможностью изменения ширины столбцов";$e.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Le=()=>c.jsx(Ut,{});Le.storyName="Таблица с настройками колонок";Le.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const He=()=>c.jsx(ai,{});He.storyName="Таблица с выбором строк";He.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Be=()=>c.jsx(ui,{});Be.storyName="Таблица с выбором строк и пагинацией";Be.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ue=()=>c.jsx(gi,{});Ue.storyName="Таблица с выбором строк и многоуровневой шапкой";Ue.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const Ge=()=>c.jsx(pi,{});Ge.storyName="Таблица с выбором строк и виртуализацией";Ge.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};const ke=()=>c.jsx(Vl,{});ke.storyName="Переиспользуемый компонент таблицы с пагинацией и сортировкой из проекта на основе TanStack";ke.parameters={controls:{disable:!0},previewTabs:{controls:{hidden:!0}}};var _n,Fn,Mn;Fe.parameters={...Fe.parameters,docs:{...(_n=Fe.parameters)==null?void 0:_n.docs,source:{originalSource:"() => <TableWithTanStackExample />",...(Mn=(Fn=Fe.parameters)==null?void 0:Fn.docs)==null?void 0:Mn.source}}};var Pn,Nn,Vn;Me.parameters={...Me.parameters,docs:{...(Pn=Me.parameters)==null?void 0:Pn.docs,source:{originalSource:"() => <TableWithStickyHeader />",...(Vn=(Nn=Me.parameters)==null?void 0:Nn.docs)==null?void 0:Vn.source}}};var An,zn,jn;Pe.parameters={...Pe.parameters,docs:{...(An=Pe.parameters)==null?void 0:An.docs,source:{originalSource:"() => <VirtualizedTableWithDynamicRowHeightExample />",...(jn=(zn=Pe.parameters)==null?void 0:zn.docs)==null?void 0:jn.source}}};var $n,Ln,Hn;Ne.parameters={...Ne.parameters,docs:{...($n=Ne.parameters)==null?void 0:$n.docs,source:{originalSource:"() => <VirtualizedTableWithHorizontalVirtualizationExample />",...(Hn=(Ln=Ne.parameters)==null?void 0:Ln.docs)==null?void 0:Hn.source}}};var Bn,Un,Gn;Ve.parameters={...Ve.parameters,docs:{...(Bn=Ve.parameters)==null?void 0:Bn.docs,source:{originalSource:"() => <FilterableTableExample />",...(Gn=(Un=Ve.parameters)==null?void 0:Un.docs)==null?void 0:Gn.source}}};var kn,qn,Wn;Ae.parameters={...Ae.parameters,docs:{...(kn=Ae.parameters)==null?void 0:kn.docs,source:{originalSource:"() => <SortableTableExample />",...(Wn=(qn=Ae.parameters)==null?void 0:qn.docs)==null?void 0:Wn.source}}};var Kn,Xn,Yn;ze.parameters={...ze.parameters,docs:{...(Kn=ze.parameters)==null?void 0:Kn.docs,source:{originalSource:"() => <ExpandableTableExample />",...(Yn=(Xn=ze.parameters)==null?void 0:Xn.docs)==null?void 0:Yn.source}}};var Zn,Qn,Jn;je.parameters={...je.parameters,docs:{...(Zn=je.parameters)==null?void 0:Zn.docs,source:{originalSource:"() => <GroupingHeaderTableExample />",...(Jn=(Qn=je.parameters)==null?void 0:Qn.docs)==null?void 0:Jn.source}}};var er,tr,nr;$e.parameters={...$e.parameters,docs:{...(er=$e.parameters)==null?void 0:er.docs,source:{originalSource:"() => <GroupHeaderTableWithResizeExample />",...(nr=(tr=$e.parameters)==null?void 0:tr.docs)==null?void 0:nr.source}}};var rr,sr,or;Le.parameters={...Le.parameters,docs:{...(rr=Le.parameters)==null?void 0:rr.docs,source:{originalSource:"() => <SettingsTableExample />",...(or=(sr=Le.parameters)==null?void 0:sr.docs)==null?void 0:or.source}}};var ir,ar,lr;He.parameters={...He.parameters,docs:{...(ir=He.parameters)==null?void 0:ir.docs,source:{originalSource:"() => <SelectableTableExample />",...(lr=(ar=He.parameters)==null?void 0:ar.docs)==null?void 0:lr.source}}};var ur,cr,dr;Be.parameters={...Be.parameters,docs:{...(ur=Be.parameters)==null?void 0:ur.docs,source:{originalSource:"() => <SelectableTableWithPaginationExample />",...(dr=(cr=Be.parameters)==null?void 0:cr.docs)==null?void 0:dr.source}}};var gr,fr,pr;Ue.parameters={...Ue.parameters,docs:{...(gr=Ue.parameters)==null?void 0:gr.docs,source:{originalSource:"() => <SelectableTableWithGroupingHeaderExample />",...(pr=(fr=Ue.parameters)==null?void 0:fr.docs)==null?void 0:pr.source}}};var hr,mr,Sr;Ge.parameters={...Ge.parameters,docs:{...(hr=Ge.parameters)==null?void 0:hr.docs,source:{originalSource:"() => <SelectableTableWithVirtualizationExample />",...(Sr=(mr=Ge.parameters)==null?void 0:mr.docs)==null?void 0:Sr.source}}};var Cr,vr,wr;ke.parameters={...ke.parameters,docs:{...(Cr=ke.parameters)==null?void 0:Cr.docs,source:{originalSource:"() => <SortingPaginationExample />",...(wr=(vr=ke.parameters)==null?void 0:vr.docs)==null?void 0:wr.source}}};const su=["BasicTable","StickyHeader","VirtualizedTableWithDynamicRowHeight","VirtualizedTableWithHorizontalVirtualization","FilterableTable","SortableTable","ExpandableTable","GroupingHeaderTable","GroupHeaderTableWithResize","TableWithSettings","SelectableTable","SelectableTableWithPagination","SelectableTableWithGroupingHeader","SelectableTableWithVirtualization","CommonTableWithPaginationAndSortingUsage"];export{Fe as BasicTable,ke as CommonTableWithPaginationAndSortingUsage,ze as ExpandableTable,Ve as FilterableTable,$e as GroupHeaderTableWithResize,je as GroupingHeaderTable,He as SelectableTable,Ue as SelectableTableWithGroupingHeader,Be as SelectableTableWithPagination,Ge as SelectableTableWithVirtualization,Ae as SortableTable,Me as StickyHeader,Le as TableWithSettings,Pe as VirtualizedTableWithDynamicRowHeight,Ne as VirtualizedTableWithHorizontalVirtualization,su as __namedExportsOrder,ru as default};
