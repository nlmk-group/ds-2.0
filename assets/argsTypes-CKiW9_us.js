import{r as l,j as t}from"./iframe-DUDunD5j.js";import{B as N,a as V}from"./index-aoSKrGJR.js";import{c as g}from"./clsx-B-dksMZM.js";import{I as j}from"./24-C99UGV7O.js";const q="Modal-module__backdrop___jYpTA",z="Modal-module__modalWrapper___M8-7F",B="Modal-module__modalInner___ZpE-a",I="Modal-module__modal___yNG-7",R="Modal-module__resizable___DhmTN",D="Modal-module__topPadding___zqq2x",L="Modal-module__dragHandle___OE1hW",P="Modal-module__draggable___RkWeI",X="Modal-module__modalClose___-gJHU",a={backdrop:q,modalWrapper:z,modalInner:B,modal:I,resizable:R,topPadding:D,dragHandle:L,draggable:P,modalClose:X,"no-scroll":"Modal-module__no-scroll___XtI2w"},y=({children:p,isOpen:d,onClose:r,onEscapeDown:u,isDraggable:n=!1,isResizable:v=!1,disableBackdropClick:E=!1,disablePageScroll:k=!1,className:C})=>{const s=l.useRef(null),f=l.useRef(null),o=l.useRef({left:0,top:0,dragStartX:0,dragStartY:0}),[_,b]=l.useState(!1),i=l.useCallback(e=>{if(!_)return;const{dragStartX:m,dragStartY:S}=o.current;o.current.left+=e.clientX-m,o.current.top+=e.clientY-S,o.current.dragStartX=e.clientX,o.current.dragStartY=e.clientY,s.current&&(s.current.style.left=`${o.current.left}px`,s.current.style.top=`${o.current.top}px`)},[_]),c=l.useCallback(()=>b(!1),[]),M=l.useCallback(e=>{!n||e.target!==f.current||(b(!0),o.current.dragStartX=e.clientX,o.current.dragStartY=e.clientY)},[n]),w=e=>{E||r(e)};if(l.useEffect(()=>(d&&k?document.body.classList.add(a["no-scroll"]):document.body.classList.remove(a["no-scroll"]),()=>{document.body.classList.remove(a["no-scroll"])}),[d]),l.useEffect(()=>{n&&(window.addEventListener("mousemove",i),window.addEventListener("mouseup",c));const e=m=>{m.key==="Escape"&&(u&&u(),r())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",c),window.removeEventListener("keydown",e)}},[n,i,c,r,u]),!d)return null;const x=g(a.modal,{[a.resizable]:v,[a.topPadding]:!n},C),h=g(a.dragHandle,{[a.draggable]:n});return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:a.backdrop,onClick:w,"data-ui-modal-backdrop":!0}),t.jsx("div",{className:a.modalWrapper,"data-ui-modal":!0,children:t.jsxs("div",{className:a.modalInner,ref:s,onMouseDown:M,children:[t.jsxs("div",{className:x,children:[n&&t.jsx("div",{ref:f,className:h}),p]}),t.jsx(N,{type:"button",iconButton:t.jsx(j,{htmlColor:"var(--unique-white)"}),color:"ghost",variant:"secondary",className:a.modalClose,"aria-label":"Close",onClick:e=>r(e),size:V.s,"data-ui-modal-button":!0})]})})]})};try{y.displayName="Modal",y.__docgenInfo={description:"Компонент Modal для отображения модального окна.",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(e?: SyntheticEvent<Element, Event> | undefined) => void"}},isDraggable:{defaultValue:{value:"false"},description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},isResizable:{defaultValue:{value:"false"},description:"",name:"isResizable",required:!1,type:{name:"boolean"}},onEscapeDown:{defaultValue:null,description:"",name:"onEscapeDown",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableBackdropClick:{defaultValue:{value:"false"},description:"",name:"disableBackdropClick",required:!1,type:{name:"boolean"}},disablePageScroll:{defaultValue:{value:"false"},description:"",name:"disablePageScroll",required:!1,type:{name:"boolean"}}}}}catch{}const A={isOpen:{description:"Определяет, открыто ли модальное окно",control:{type:"boolean"},defaultValue:!1},onClose:{description:"Функция, вызываемая при закрытии модального окна",action:"modalClosed"},children:{description:"Содержимое модального окна",control:{type:"text"}},isDraggable:{description:"Указывает, можно ли перетаскивать модальное окно",control:{type:"boolean"},defaultValue:!1},isResizable:{description:"Указывает, можно ли изменять размер модального окна",control:{type:"boolean"},defaultValue:!1},disableBackdropClick:{description:"Указывает, можно ли закрыть модальное окно только по клику на крестик",control:{type:"boolean"},defaultValue:!1},disablePageScroll:{description:"Блокирует скролл на странице при открытом модальном окне",control:{type:"boolean"}},onEscapeDown:{description:"Функция, вызываемая при нажатии клавиши Escape",action:"escapePressed"},className:{description:"Дополнительный класс для стилизации",control:{type:"text"}}};export{y as M,A as a};
