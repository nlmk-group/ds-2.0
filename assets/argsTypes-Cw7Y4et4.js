import{r as d,j as u}from"./iframe-CVAHojaF.js";import{S as y}from"./index-BkUb-THO.js";import{T as p}from"./index-BHrg75jh.js";import{c as o}from"./clsx-B-dksMZM.js";const e={"pdf-viewer":"PdfPreview-module__pdf-viewer___6ITio","pdf-viewer--loading":"PdfPreview-module__pdf-viewer--loading___hNRqq","pdf-viewer--error":"PdfPreview-module__pdf-viewer--error___mpNk8","pdf-viewer--empty":"PdfPreview-module__pdf-viewer--empty___eZnB-"},n=({data:r,loading:f,style:a,errorMessage:s,emptyMessage:c="Выберите PDF файл для просмотра"})=>{const[l,m]=d.useState(null),i=d.useMemo(()=>{if(r)try{const t=new Blob([r],{type:"application/pdf"}),E=URL.createObjectURL(t);if(t.type!=="application/pdf")throw new Error("Неверный формат файла");return E}catch(t){m(t instanceof Error?t.message:"Ошибка обработки файла");return}},[r]);return d.useEffect(()=>()=>{i&&URL.revokeObjectURL(i)},[i]),f?u.jsx("div",{className:o(e["pdf-viewer"],e["pdf-viewer--loading"]),style:a,"data-testid":"PDF_PREVIEW","data-ui-pdf":!0,children:u.jsx(y,{})}):l&&s?u.jsx("div",{className:o(e["pdf-viewer"],e["pdf-viewer--error"]),style:a,"data-testid":"PDF_PREVIEW","data-ui-pdf":!0,children:u.jsx(p,{color:"var(--spectrum-red-50)",variant:"Body1-Bold",children:l||s})}):r?u.jsx("div",{className:e["pdf-viewer"],style:a,"data-testid":"PDF_PREVIEW","data-ui-pdf":!0,children:u.jsx("embed",{src:i,type:"application/pdf",width:"100%",height:"100%"})}):u.jsx("div",{className:o(e["pdf-viewer"],e["pdf-viewer--empty"]),style:a,"data-testid":"PDF_PREVIEW","data-ui-pdf":!0,children:u.jsx(p,{variant:"Body1-Bold",color:"var(--steel-90)",children:c})})};try{n.displayName="PdfPreview",n.__docgenInfo={description:"Компонент для предварительного просмотра PDF файлов",displayName:"PdfPreview",props:{data:{defaultValue:null,description:"Данные для отображения в формате blob",name:"data",required:!0,type:{name:"BlobPart | null"}},loading:{defaultValue:null,description:"Состояние загрузки",name:"loading",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Дополнительные стили",name:"style",required:!1,type:{name:"CSSProperties"}},errorMessage:{defaultValue:null,description:"Сообщение об ошибке отображения",name:"errorMessage",required:!1,type:{name:"string"}},emptyMessage:{defaultValue:{value:"Выберите PDF файл для просмотра"},description:"Текст для отображения, когда файл не выбран",name:"emptyMessage",required:!1,type:{name:"string"}}}}}catch{}const B={data:{description:"Данные для отображения в формате blob",table:{type:{summary:"BlobPart | null"}},control:{type:"object"}},loading:{description:"Состояние загрузки",table:{defaultValue:{summary:"false"},type:{summary:"boolean"}},control:{type:"boolean"}},style:{description:"Дополнительные стили для компонента",table:{type:{summary:"CSSProperties"}},control:{type:"object"}},errorMessage:{description:"Сообщение об ошибке отображения",table:{defaultValue:{summary:"Ошибка предпросмотра"},type:{summary:"string"}},control:{type:"text"}}};export{n as P,B as a};
