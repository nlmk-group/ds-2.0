import{j as u,r as t}from"./iframe-CxLN9ksd.js";import{c as _}from"./clsx-B-dksMZM.js";import{L as k}from"./index-CosC_TVD.js";import{L as A}from"./index-Boblobe5.js";import{I as N}from"./index-M8Uj9-kW.js";import{C as w}from"./index-CYd80pzx.js";const R="Breadcrumbs-module__breadcrumbs___R-ku-",g="Breadcrumbs-module__crumb___w0-8v",I="Breadcrumbs-module__link___B1vub",L="Breadcrumbs-module__separator___KChd-",x="Breadcrumbs-module__isLast___vdvvA",v="Breadcrumbs-module__options___Al2u4",j="Breadcrumbs-module__show___utTDu",F="Breadcrumbs-module__list___RGYQR",T="Breadcrumbs-module__option___INhL2",a={breadcrumbs:R,crumb:g,link:I,separator:L,isLast:x,options:v,show:j,list:F,option:T},f=({crumbs:e})=>u.jsx(u.Fragment,{children:e.map((o,s)=>{const r=s===e.length-1;return t.cloneElement(o,{isLast:r,showSeparator:!r,key:s})})});try{f.displayName="BasicBreadcrumbs",f.__docgenInfo={description:"",displayName:"BasicBreadcrumbs",props:{crumbs:{defaultValue:null,description:"",name:"crumbs",required:!0,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>[]"}}}}}catch{}const B=({crumbs:e})=>{const[o,s]=t.useState(!1),r=t.useCallback(()=>s(c=>!c),[]),{firstElement:l,lastElement:p,otherElementsArray:h}=t.useMemo(()=>{const[c,...i]=e,d=i[i.length-1];return{firstElement:c,lastElement:d,otherElementsArray:i}},[e]);return u.jsxs(u.Fragment,{children:[t.cloneElement(l),u.jsxs("div",{className:_(a.options,o&&a.show),onClick:r,"data-ui-crumbs-hidden-options-button":!0,"data-testid":"HIDDEN_OPTIONS_BUTTON",children:[u.jsx("span",{children:"..."}),u.jsx("div",{className:a.separator,children:u.jsx(N,{name:"IconChevronArrowRightOutlined24",containerSize:16})}),o&&u.jsx(w,{onClickAway:r,children:u.jsx(k,{className:a.list,"data-ui-crumbs-list":!0,"data-testid":"HIDDEN_OPTIONS_LIST",children:h.map((c,i)=>{const d=c.props;return u.jsx(A,{className:_(a.option),"data-ui-crumbs-list-item":!0,children:t.cloneElement(c,{children:t.cloneElement(d.children,{className:_(a.link,d.children.props.className)}),isLast:!1,showSeparator:!1})},i)})})})]}),t.cloneElement(p,{isLast:!0,showSeparator:!1})]})};try{B.displayName="ShortenBreadcrumbs",B.__docgenInfo={description:"",displayName:"ShortenBreadcrumbs",props:{crumbs:{defaultValue:null,description:"",name:"crumbs",required:!0,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>[]"}}}}}catch{}const b=({isLast:e=!1,showSeparator:o=!0,children:s})=>{const r=s.props,l=r.children,p=typeof l=="string";return u.jsxs("div",{className:_(a.crumb,e&&a.isLast,r.className),"data-ui-crumb":!0,children:[t.cloneElement(s,{"data-testid":"LINK_HREF",className:_(a.link,r.className),"data-link-width":!0,...p&&{title:l}}),o&&u.jsx("div",{className:a.separator,"data-ui-crumb-separator":!0,"data-testid":"CRUMB_SEPARATOR",children:u.jsx(N,{name:"IconChevronArrowRightOutlined24",containerSize:16})})]})};b.displayName="Crumb";const C=e=>u.jsx(b,{...e});C.displayName="Crumb";try{b.displayName="Crumb",b.__docgenInfo={description:"",displayName:"Crumb",props:{children:{defaultValue:null,description:"Дочерний элемент, обычно ссылка",name:"children",required:!0,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}const O=8,W=16,y=({width:e="100%",className:o,children:s})=>{const r=t.useRef(null),[l,p]=t.useState(0),[h,c]=t.useState(0),i=()=>{r.current&&l!==r.current.offsetWidth&&p(r.current.offsetWidth)};t.useLayoutEffect(()=>{i()},[e,s]),t.useEffect(()=>{const m=()=>{i()};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[]),t.useEffect(()=>{c(d())},[l,e,s]);const d=()=>{let m=0;return(r.current?.querySelectorAll("[data-link-width]")||[]).forEach(({clientWidth:S})=>{m+=S+O+W}),m},E=t.Children.toArray(s).filter(m=>t.isValidElement(m)&&m.type.displayName==="Crumb"),D=l>h||E.length<=2;return u.jsx("div",{ref:r,className:_(a.breadcrumbs,o),style:{width:e},"data-ui-breadcrumbs":!0,"data-testid":"BREADCRUMBS_WRAPPER",children:D?u.jsx(f,{crumbs:E}):u.jsx(B,{crumbs:E})})};y.Crumb=C;try{y.displayName="Breadcrumbs",y.__docgenInfo={description:`Компонент Breadcrumbs для отображения навигационной цепочки (хлебных крошек).
Использует паттерн Compound Components для гибкости использования.`,displayName:"Breadcrumbs",props:{width:{defaultValue:{value:"100%"},description:"Ширина компонента в процентах",name:"width",required:!1,type:{name:"Width<string | number>"}},className:{defaultValue:null,description:"Дополнительный CSS-класс",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Дочерние элементы, обычно Crumb",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}var n=(e=>(e._blank="_blank",e._self="_self",e._parent="_parent",e._top="_top",e))(n||{});const G="Обычное использование компонента",J="Компонент с разными target",M=[{href:"/about",label:"О компании"},{href:"/business-model",label:"Бизнес-модель"},{href:"/production",label:"Производство"},{href:"/production/steel",label:"Сталеплавильное производство"},{href:"/production/steel/converters",label:"Конвертерный цех"}],X=[{href:"https://nlmk.com/ru/about/",label:`${n._blank}`,target:n._blank},{href:"https://nlmk.shop",label:`${n._parent}`,target:n._parent},{href:"https://career.nlmk.com",label:`${n._self}`,target:n._self},{href:"https://lipetsk.nlmk.com",label:`${n._top}`,target:n._top}];export{y as B,J as D,G as a,M as b,X as t};
