import{r as s,j as o}from"./iframe-BPtLBEuk.js";import{B as A,a as I}from"./index-C5OaxW6Y.js";import{E as p}from"./types-TdnjS80C.js";import{c as d}from"./clsx-B-dksMZM.js";import{I as b}from"./24-BA0GVvoT.js";const x="Drawer-module__drawerOverlay___GAoZ6",V="Drawer-module__fadeIn___Hmu2h",q="Drawer-module__drawerOverlayBackdrop___CKlh5",N="Drawer-module__left___pwTcW",R="Drawer-module__right___EzGpI",T="Drawer-module__top___xQejO",j="Drawer-module__bottom___r3Q5Z",L="Drawer-module__wrapper___P-Z58",S="Drawer-module__slideInLeft___hi7WB",z="Drawer-module__slideOutLeft___aaryC",W="Drawer-module__slideInRight___ApauN",$="Drawer-module__slideOutRight___VIp8R",H="Drawer-module__slideInTop___zO1ay",K="Drawer-module__slideOutTop___rWW4O",Q="Drawer-module__slideInBottom___eP-Uj",Z="Drawer-module__slideOutBottom___z57QP",G="Drawer-module__drawer___IKoOm",P="Drawer-module__drawerContent___ldqvP",U="Drawer-module__close___lyp-5",J="Drawer-module__drawerClose___-ikV0",u={drawerOverlay:x,fadeIn:V,drawerOverlayBackdrop:q,left:N,right:R,top:T,bottom:j,wrapper:L,slideInLeft:S,slideOutLeft:z,slideInRight:W,slideOutRight:$,slideInTop:H,slideOutTop:K,slideInBottom:Q,slideOutBottom:Z,drawer:G,drawerContent:P,close:U,drawerClose:J};var r=(t=>(t.left="left",t.right="right",t.top="top",t.bottom="bottom",t))(r||{});const B=({isOpen:t,onClose:m,position:e=r.right,className:v,overlayClassName:D,children:E,width:i="var(--drawer-default-width)",height:c="var(--drawer-default-height)",disableBackdropClick:y,isViewCloseButton:h=!0,overlay:w=!0,clickAwayEventType:F=p.click})=>{const[a,f]=s.useState(!1),_=s.useRef(!1),n=s.useCallback(()=>{f(!0),setTimeout(()=>{f(!1),m()},300)},[m]);if(s.useEffect(()=>{if(t){_.current=!0;const l=setTimeout(()=>{_.current=!1},300);return()=>clearTimeout(l)}},[t]),s.useEffect(()=>{const l=k=>{k.key==="Escape"&&t&&!a&&n()};return t&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[t,a,n]),!t&&!a)return null;const C=e===r.left||e===r.right,g={right:e===r.right?`calc(${i} + 16px)`:"auto",left:e===r.left?`calc(${i} + 16px)`:"auto",top:e===r.top?`calc(${c} + 16px)`:"auto",bottom:e===r.bottom?`calc(${c} + 16px)`:"auto"},O=l=>{if(l.target===l.currentTarget){if(F===p.click&&_.current||y)return;n()}};return o.jsx("div",{className:d(u.drawerOverlay,u[e],D,{[u.fadeOut]:a,[u.drawerOverlayBackdrop]:!w}),onClick:O,"data-ui-drawer":!0,"data-testid":"DRAWER",children:o.jsxs("div",{className:d(u.wrapper,u[e],{[u.slideOutLeft]:a&&e===r.left,[u.slideOutRight]:a&&e===r.right,[u.slideOutTop]:a&&e===r.top,[u.slideOutBottom]:a&&e===r.bottom}),children:[o.jsx("div",{className:d(u.drawer,u[e],v),style:C?{width:i}:{height:c},children:o.jsx("div",{className:d(u.drawerContent,u[e]),"data-ui-drawer-content":!0,children:E})}),!a&&h&&o.jsx("div",{className:d(u.close,u[e]),children:o.jsx(A,{type:"button",iconButton:o.jsx(b,{htmlColor:w?"var(--unique-white)":"var(--steel-90)"}),color:"ghost",variant:"secondary",className:d(u.drawerClose,u[e]),onClick:n,"aria-label":"Close",size:I.s,style:g,"data-ui-drawer-close-button":!0})})]})})};try{B.displayName="Drawer",B.__docgenInfo={description:"Компонент Drawer для отображения боковой панели.",displayName:"Drawer",props:{isOpen:{defaultValue:null,description:"Состояние открытия/закрытия панели",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Функция для закрытия панели",name:"onClose",required:!0,type:{name:"() => void"}},position:{defaultValue:{value:"EDrawerPosition.right"},description:"Позиция панели",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},className:{defaultValue:null,description:"Дополнительные CSS классы для панели",name:"className",required:!1,type:{name:"string"}},overlayClassName:{defaultValue:null,description:"Дополнительные CSS классы для оверлея",name:"overlayClassName",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Содержимое панели",name:"children",required:!0,type:{name:"ReactNode"}},width:{defaultValue:{value:"var(--drawer-default-width)"},description:"Ширина панели (если позиция 'left' или 'right')",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:{value:"var(--drawer-default-height)"},description:"Высота панели (если позиция 'top' или 'bottom')",name:"height",required:!1,type:{name:"Height<string | number>"}},disableBackdropClick:{defaultValue:null,description:"Отключает закрытие панели по клику вне её области",name:"disableBackdropClick",required:!1,type:{name:"boolean"}},isViewCloseButton:{defaultValue:{value:"true"},description:"Отображает кнопку закрытия",name:"isViewCloseButton",required:!1,type:{name:"boolean"}},overlay:{defaultValue:{value:"true"},description:"Отображает оверлей",name:"overlay",required:!1,type:{name:"boolean"}},clickAwayEventType:{defaultValue:{value:"EClickAwayEvent.click"},description:"Тип события для закрытия панели при клике вне её области",name:"clickAwayEventType",required:!1,type:{name:"enum",value:[{value:'"click"'},{value:'"mouseup"'},{value:'"mousedown"'}]}}}}}catch{}export{B as D};
