import{r as s,j as i,R as en,e as un}from"./iframe-BPtLBEuk.js";import{t as pu,e as nn,g as tn,d as le,s as ge,f as je,u as an,p as Pe,a as Oe,i as Te,b as cu}from"./hook-JwTY4vm2.js";import{u as rn}from"./useFloatingReferenceSync-C_yD6V-Z.js";import{P as ln}from"./index-Dr7AntG3.js";import{C as Wu}from"./index-jNLleeyk.js";import{u as sn,a as on,o as cn,f as dn,s as mn}from"./floating-ui.react-tm3IGrEk.js";import{c as ve}from"./clsx-B-dksMZM.js";import{c as Bu}from"./colorsMapping-C6bFIk14.js";import{s as fn}from"./sizeMappingInput-XXScYzk1.js";import{I as pn}from"./index-B8NQmRXS.js";import{T as Ne}from"./index-C9_7xPUt.js";import{D as Qu}from"./index-BUWLdeqz.js";import{B as Je}from"./index-C5OaxW6Y.js";import{x as yn}from"./index-CDRf2h9x.js";import{e as Dn,c as _n}from"./24-DOwtHgIx.js";import{g as hn}from"./generateUUID-M57HTP56.js";function ku(e){const t=pu(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ce(e,t){const u=pu(e),a=pu(t);return+u<+a}const gn="Datepicker-module__root___YRWWN",Cn="Datepicker-module__disabled___ECJrZ",qn="Datepicker-module__isOpen___A3uhS",du={root:gn,disabled:Cn,isOpen:qn},mu={1:0,2:3,3:6,4:9},Xe={0:0,1:0,2:0,3:3,4:3,5:3,6:6,7:6,8:6,9:9,10:9,11:9},Su=(e,t,u)=>{const a={day:D=>tn(D),month:D=>ku(D),year:D=>nn(D),quarter:D=>ku(D)};if(!a[e])throw new Error(`Unknown level: ${e}`);const l=a[e](t),d=a[e](u);if(e==="quarter"){const D=Xe[t.getMonth()],_=Xe[u.getMonth()];return D===_&&t.getFullYear()===u.getFullYear()}return le(l,d)},yu="dd.MM.yyyy",vu="dd.MM.yyyy HH:mm",xu="dd.MM.yyyy HH:mm:ss",wu="dd.MM",Au="dd.MM HH:mm",Iu="dd.MM HH:mm:ss",Pu="yyyy",bn="MM.yyyy",Ou="MM.yyyy",Ku="9999",En="____",Uu="99.9999",Vn="__.____",Ju=e=>`9 ${e} 9999`,Fn=e=>`_ ${e} ____`,Mn="__.__.____",Du="99.99.9999",ju="99.99.9999 99:99",Tu="99.99.9999 99:99:99",Bn="99.99",kn="99.99 99:99",Sn="99.99 99:99:99",vn="9999 — 9999",xn="99.9999 — 99.9999",wn=e=>`9 ${e} 9999 — 9 ${e} 9999`,Zu="99.99.9999 — 99.99.9999",An="99.99.9999/3 — 99.99.9999/3",In="99.99.9999/2 — 99.99.9999/2",Se={day:yu,month:Ou,quarter:bn,year:Pu},jn=e=>({day:Zu,month:xn,quarter:wn(e),year:vn}),Nu=e=>({day:Mn,month:Vn,quarter:Fn(e),year:En}),Tn=e=>({day:Du,month:Uu,quarter:Ju(e),year:Ku});function Nn(e,t=e){const u={};for(let a=e;a<=t;a++)u[a]=$n(a);return u}function $n(e){const t=[];for(let u=1;u<=12;u++)t.push(Rn(e,u));return t}function Rn(e,t){const u=Hn(e,t),a=Yn(e,t);return[...new Array(u).fill(""),...Array.from({length:a},(l,d)=>(d+1).toString())]}function Yn(e,t){return new Date(e,t,0).getDate()}function Hn(e,t,u){const a=new Date(e,t-1).getDay();return a?a-1:6}const zn=(e,t,u,a)=>{const l=t||u;if(!l)return;const d=Xe[l.getMonth()],D=a.find(_=>_.month===d)?.values[2];switch(e){case"day":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59);case"month":return new Date(l.getFullYear(),l.getMonth()+1,0,23,59,59);case"quarter":return new Date(l.getFullYear(),(D||l.getMonth())+1,0,23,59,59);default:return new Date(l.getFullYear(),11,31,23,59,59)}},Fu=e=>new Array(e).fill(null).map((t,u)=>({value:u,label:u.toString().padStart(2,"0")})),$u=Fu(24),Ru=Fu(60),Yu=Fu(60);function w(e,t){const u=e.getFullYear(),a=e.getMonth(),l=e.getDate();switch(t){case"day":return+new Date(u,a,l);case"quarter":return+new Date(u,Xe[a]);case"month":return+new Date(u,a);case"year":return+new Date(u);default:return+e}}const Xu=s.createContext("en"),Ln=Xu.Provider,Le=()=>s.useContext(Xu),Ge=s.forwardRef(({level:e,value:t,onChange:u,onPeriodChange:a,disableChange:l,withPeriod:d,withShift:D,withTime:_,withSeconds:q,valueTo:b,valueFrom:o,shiftFrom:f,shiftTo:y,shiftLength:g,enabledTo:x,enabledFrom:F,enabledHourFrom:k,enabledHourTo:ee,enabledMinuteFrom:S,enabledMinuteTo:T,onClose:R,onReset:O,disableChangesOnBlur:z,isOpenOnFocus:h,isHideYear:I,withoutWeekdays:$,onPanelChange:Z,onSelect:K,infiniteTimeScroll:Fe,...xe},j)=>{const ne=Le(),[v,ue]=s.useState("day"),[N,P]=s.useState(d?o:t),[fe,pe]=s.useState(new Date),[Y,se]=s.useState({valueFrom:o,valueTo:b}),[oe,qe]=s.useState((d?o:t)||new Date),[ye,be]=s.useState(f??1),[Me,we]=s.useState(y??1),me=s.useRef(null),Ee=s.useMemo(()=>z||d&&(!Y.valueFrom||!Y.valueTo)||!d&&!N,[z,Y,N,d]);s.useEffect(()=>{ue(e)},[e]),s.useEffect(()=>{be(f??1),we(y??1)},[f,y]),s.useEffect(()=>{d||t&&(P(t),_&&pe(t))},[t,d,_]),s.useEffect(()=>{d&&(se({valueFrom:o,valueTo:b}),(o||b)&&qe(o||b||new Date),me.current=null)},[o,b,d]);const $e=s.useMemo(()=>{if(!oe)return"";if(v===B.day)return`${de[ne].months[oe.getMonth()]}, ${oe.getFullYear()}`;if(v===B.month||v===B.quarter)return oe.getFullYear();const E=oe.getFullYear();return`${E-Lt} — ${E+Wt}`},[oe,v]),Re=s.useCallback(()=>{if(d&&a){const r=Y.valueFrom,m=zn(e,Y.valueTo,r,de[ne].quarters),C=V=>D?V:void 0,[c,p]=[C(ye),C(Me)];a(r,m,c,p),R();return}const E=N||Y.valueFrom;if(!E||!u)return;if(!_||!fe){u(E),R();return}let n=ge(E,{hours:fe.getHours(),minutes:fe.getMinutes()});q&&(n=ge(n,{seconds:fe.getSeconds()})),u(n),R()},[Y.valueFrom,Y.valueTo,ye,Me,N,e,v,u,R,a,fe,d,q,D,_]),We=s.useCallback(()=>{O()},[O]),Be=s.useCallback(E=>{if(K&&K(E),(e===v||v===B.day)&&P(E),(!d||e!==B.year)&&qe(E),v===B.month&&e===B.day&&ue("day"),v===B.year&&e===B.quarter&&ue("quarter"),v===B.year&&(e===B.month||e===B.day)&&ue("month"),!d&&!_&&e===v){u&&u(E),R();return}d&&se(n=>{const r=n.valueFrom,m=n.valueTo;if(!r&&e===v)return me.current=v,{valueFrom:E};if(r&&!m){const C=+r-+E>0?E:r,c=+r-+E>0?r:E;return me.current=v,{valueFrom:C,valueTo:c}}return r&&m&&e===v?me.current&&me.current!==v?(me.current=v,+E<+r?{valueFrom:E,valueTo:r}:{valueFrom:r,valueTo:E}):(me.current=v,{valueFrom:E}):n})},[v,e,u,R,d,_,K]),De={[B.day]:E=>ge(E,{month:E.getMonth()-1}),[B.quarter]:E=>ge(E,{year:E.getFullYear()-1}),[B.month]:E=>ge(E,{year:E.getFullYear()-1}),[B.year]:E=>ge(E,{year:E.getFullYear()-12})},Ae=s.useCallback(()=>{qe(E=>{if(!E)return E;const n=De[v],r=n?n(E):E;return Z?.(r),r})},[v,Z]),ie=s.useCallback(()=>{qe(E=>{if(!E)return E;const n={[B.day]:m=>ge(m,{month:m.getMonth()+1}),[B.quarter]:m=>ge(m,{year:m.getFullYear()+1}),[B.month]:m=>ge(m,{year:m.getFullYear()+1}),[B.year]:m=>ge(m,{year:m.getFullYear()+12})}[v],r=n?n(E):E;return Z?.(r),r})},[v,Z]),Ie=s.useCallback(()=>{switch(v){case B.day:{ue("month");break}case B.month:{ue("year");break}case B.quarter:{ue("year");break}}},[v]),Qe=Ht[v],ke=()=>i.jsx(eu,{ref:j,timeSlot:_?i.jsx(tu,{innerValue:N,disabled:l,enabledHourFrom:k,enabledHourTo:ee,enabledMinuteFrom:S,enabledMinuteTo:T,withSeconds:q,value:t,selectedTime:fe,onChange:pe,infiniteTimeScroll:Fe}):void 0,period:$e,withSeconds:q,onLeftClick:Ae,disableContentOfPeriodPicker:v===B.year,onContentClick:Ie,onRightClick:ie,onAccept:Re,onDecline:We,disableChange:l,showFooter:_||D||q||d,showShiftsSelector:D&&v===B.day,shiftFrom:ye,shiftTo:Me,shiftLength:g,onChangeShiftFrom:be,onChangeShiftTo:we,level:e,isHideYear:I,selectedPanel:v,...xe,children:i.jsx(Qe,{valueFrom:Y.valueFrom,valueTo:Y.valueTo,withPeriod:d,withTime:_,selectedDate:N,disableChange:l,onSelect:Be,enabledFrom:F,enabledTo:x,panelValue:oe,withoutWeekdays:$})});return h?i.jsx(i.Fragment,{children:ke()}):i.jsx(Wu,{onClickAway:()=>Ee?R():Re(),children:ke()})});Ge.displayName="CalendarPanel";try{Ge.displayName="CalendarPanel",Ge.__docgenInfo={description:"",displayName:"CalendarPanel",props:{}}}catch{}const Wn="CommonCalendar-module__root___t7d6p",Qn="CommonCalendar-module__withTime___FsEL0",Pn="CommonCalendar-module__withSeconds___dTRYV",On="CommonCalendar-module__withTimeSlot___Z-YYu",Kn="CommonCalendar-module__withSecondsSlot___TErw5",Un="CommonCalendar-module__calendarPanel___m-MoG",Jn="CommonCalendar-module__timePanel___Rew4I",Zn="CommonCalendar-module__footer___0qnpm",Xn="CommonCalendar-module__period___5btMz",Gn="CommonCalendar-module__periodTitle___DisTU",et="CommonCalendar-module__periodSelectors___diK7H",_e={root:Wn,withTime:Qn,withSeconds:Pn,withTimeSlot:On,withSecondsSlot:Kn,calendarPanel:Un,timePanel:Jn,footer:Zn,"period-wrapper":"CommonCalendar-module__period-wrapper___cr-Lg",period:Xn,periodTitle:Gn,periodSelectors:et},eu=s.forwardRef(({disableContentOfPeriodPicker:e,showFooter:t,onDecline:u,onAccept:a,onRightClick:l,onLeftClick:d,onContentClick:D,children:_,period:q,timeSlot:b,shiftTo:o,shiftFrom:f,shiftLength:y,onChangeShiftFrom:g,onChangeShiftTo:x,withSeconds:F,disableChange:k,showShiftsSelector:ee,isHideYear:S,selectedPanel:T,...R},O)=>{const z=Le();return i.jsxs("div",{ref:O,className:ve(_e.root,!!b&&_e.withTime,!!F&&_e.withSeconds),...R,children:[i.jsxs("div",{className:ve(b&&_e.withTimeSlot,F&&_e.withSecondsSlot),children:[i.jsx(Cu,{disableContent:k||e,onLeftClick:d,onRightClick:l,onContentClick:D,isHideYear:S,selectedPanel:T,children:q}),i.jsx("div",{className:_e.calendarPanel,children:_}),b&&i.jsx("div",{className:_e.timePanel,children:b})]}),ee&&i.jsxs("div",{className:_e["period-wrapper"],children:[i.jsx(Qu,{}),i.jsxs("div",{className:_e.period,children:[i.jsx("div",{className:_e.periodTitle,children:i.jsx(Ne,{variant:"Caption",children:de[z].shiftDescription})}),i.jsxs("div",{className:_e.periodSelectors,children:[i.jsx(nu,{disabled:k,value:f,shiftLength:y,onChange:g})," ","—"," ",i.jsx(nu,{disabled:k,value:o,shiftLength:y,onChange:x})]})]})]}),t&&i.jsx(hu,{onDecline:u,onAccept:a,className:_e.footer,disable:k})]})});eu.displayName="CommonCalendar";try{eu.displayName="CommonCalendar",eu.__docgenInfo={description:"",displayName:"CommonCalendar",props:{}}}catch{}const _u=e=>i.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 7H24C25.1 7 26 7.9 26 9V25C26 26.1 25.1 27 24 27H8C6.9 27 6 26.1 6 25V9C6 7.9 6.9 7 8 7H9V5H11V7H21V5H23V7ZM8 25H24V12H8V25Z",fill:"currentColor"})});try{_u.displayName="CalendarSvgIcon",_u.__docgenInfo={description:"",displayName:"CalendarSvgIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: any) => void)"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}}}}}catch{}const ut="DatePickerInput-module__calendar___UExd9",nt="DatePickerInput-module__input___TNbx6",fu={calendar:ut,input:nt,"icon-xs":"DatePickerInput-module__icon-xs___83qdl"},uu=s.forwardRef(({withPeriod:e,valueFrom:t,valueTo:u,className:a,disabled:l,showTime:d,onFocus:D,onBlur:_,onEnterKeyDown:q,onTabKeyDown:b,value:o,enabledTo:f,enabledFrom:y,enabledHourFrom:g,enabledHourTo:x,enabledMinuteFrom:F,enabledMinuteTo:k,onChange:ee,withShift:S,withSeconds:T,shiftTo:R,shiftFrom:O,shiftLength:z,level:h,isOpenOnFocus:I,isHideYear:$,disableChangesOnBlur:Z,reset:K,onReset:Fe,error:xe,helperText:j,...ne},v)=>{const ue=Le(),[N,P]=s.useState(""),[fe,pe]=en.useState(!1);s.useRef(null);const Y=s.useRef(""),se=s.useRef(null),oe=s.useRef(!1),qe=s.useCallback(()=>h===B.quarter?"_ квартал ____":h===B.year?"____":h===B.month?"__.____":d?T?$?"__.__  __:__:__":"__.__.____  __:__:__":$?"__.__  __:__":"__.__.____  __:__":$?"__.__":"__.__.____",[h,d,T,$]),ye=s.useCallback(()=>Nu(de[ue].quarterTranslation)[h],[h,ue]),be=s.useCallback(()=>{const n=ye(),r=S?"/":" — ";return S?`${n}/_${r}${n}/_`:`${n}${r}${n}`},[ye,S]),Me=()=>{if(pe(!0),!e&&!o&&!N){const n=qe();P(n),Y.current=n}else if(e&&!t&&!u&&!N){const n=be();P(n),Y.current=n}D&&I&&D()},we=()=>pe(!1);s.useEffect(()=>{let n="";if(!e)if(!o)n="";else if(h===B.month||h===B.year){const r=Se[h];n=je(o,r)}else if(h===B.quarter){const r=Math.floor((o.getMonth()+3)/3),m=o.getFullYear();n=`${r} квартал ${m}`}else{const r=$?wu:yu,m=$?Au:vu,C=$?Iu:xu,p=d?T?C:m:r;n=je(o,p)}if(e){const r=ye(),m=t?je(t,Se[h]):"",C=u?je(u,Se[h]):"";if(!m&&!C)n="";else{const c=m?O??"_":"_",p=C?R??"_":"_",V=" — ";let M="";S?M=`${m||r}/${c}${V}${C||r}/${p}`:t&&u&&h===B.quarter?M=`${Ue(t)}${V}${Ue(u)}`:M=`${m||r}${V}${C||r}`,n=M}}P(n),Y.current=n},[h,O,R,d,o,t,u,e,T,S]);const me=s.useMemo(()=>{let n="";t&&(n=h===B.quarter?Ue(t):je(t,Se[h]));const r=Tn(de[ue].quarterTranslation)[h],m=jn(de[ue].quarterTranslation)[h],C=$?kn:ju,c=$?Sn:Tu,p=z===Gu?An:In,V=Nu(de[ue].quarterTranslation)[h];return h!==B.day&&!e?r:e?S?p:!fe&&t&&u&&Su(h,t,u)?r:(fe&&t&&u&&Su(h,t,u)&&P(`${n} — ${V}`),m):d?T?c:C:$?Bn:Du},[fe,h,z,d,t,u,e,T,S]),{ref:Ee,value:$e,setValue:Re}=an(e?{mask:!1,lazy:!1}:{mask:me,definitions:{9:/[0-9]/,3:/[0-3]/,2:/[0-2]/},lazy:!1},{onAccept:n=>{e||(P(n),Y.current=n)}});s.useEffect(()=>{if(v){if(typeof v=="function"){v(Ee.current);return}v.current=Ee.current}},[v,Ee]),s.useEffect(()=>{!e&&$e!==N&&Re(N)},[N,$e,Re,e]);const We=(n,r)=>n.replace(/9/gi,"_")===r,Be=(n=null,r=null,m,C)=>{const c=[m,C],p=n||o||new Date,V=g&&p&&Number(g(p)),M=x&&p&&Number(x(p)),A=F&&p&&Number(F(p)),U=k&&p&&Number(k(p)),H=!!(g||x||g===0),J=!!(F||F===0||k),X=V||0,G=M||23,ce=A&&A>0?A:0,te=U&&U<60?U:59,L=Array.from({length:G-X+1},(re,Ye)=>X+Ye),W=Array.from({length:te-ce+1},(re,Ye)=>ce+Ye),ae=re=>{if(!re)return null;const Ye=L.includes(new Date(re).getHours()),iu=W.includes(new Date(re).getMinutes());return ge(new Date(re),{hours:Ye?new Date(re).getHours():L[0],minutes:iu?new Date(re).getMinutes():W[0]})};return y&&!f?n?n&&w(n,h)>=w(y,h)||r&&w(r,h)>=w(y,h)?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[ae(n),null,c[0],c[1]]:[n?new Date(n):null,null,c[0],c[1]]:e?[t?new Date(t):null,u?new Date(u):null,c[0],c[1]]:H||J?[o?ae(o):null,null,c[0],c[1]]:[o?new Date(o):null,null,c[0],c[1]]:e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[null,null,null,null]:[n?new Date(n):null,null,null,null]:!y&&f?n?n&&w(n,h)<=w(f,h)||r&&w(r,h)<=w(f,h)?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[ae(n),null,null,null]:[n?new Date(n):null,null,null,null]:e?[t?new Date(t):null,u?new Date(u):null,c[0],c[1]]:H||J?[o?ae(o):null,null,null,null]:[o?new Date(o):null,null,null,null]:e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[null,null,null,null]:[n?new Date(n):null,null,null,null]:y&&f?n?(n&&w(n,h)>=w(y,h)||r&&w(r,h)>=w(y,h))&&(n&&w(n,h)<=w(f,h)||r&&w(r,h)<=w(f,h))?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[ae(n),null,null,null]:[n?new Date(n):null,null,null,null]:e?[t?new Date(t):null,u?new Date(u):null,c[0],c[1]]:H||J?[o?ae(o):null,null,null,null]:[o?new Date(o):null,null,null,null]:e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[null,null,null,null]:[n?new Date(n):null,null,null,null]:!y&&!f?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||J?[n?ae(n):null,null,null,null]:[n?new Date(n):null,null,null,null]:[n&&new Date(n),r&&new Date(r),c[0],c[1]]},De=s.useCallback(()=>{try{if(e){let[n,r]=N.split(" — "),m,C;S&&([n,m]=n.split("/"),[r,C]=r.split("/"));const c=n.match(/_/gi),p=r.match(/_/gi),V=C?parseInt(C,10):void 0;if(!c&&n&&!p&&r){let M,A;if(h===B.quarter){const[X,,G]=n.split(" "),[ce,,te]=r.split(" ");M=new Date(+G,mu[X]),A=new Date(+te,mu[ce])}else{const X=Se[h];M=Pe(n,X,new Date),A=Pe(r,X,new Date)}if(Oe(M)&&Oe(A)){const[X,G]=+M>+A?[A,M]:[M,A],ce=m?parseInt(m,10):void 0;return[X,G,ce,V]}const U=t?new Date(t):null,H=u?new Date(u):null,J=m?parseInt(m,10):void 0;return[U,H,J,V]}if(!c&&n&&p){const M=Se[h],A=Pe(n,M,new Date);if(Oe(A)){const X=m?parseInt(m,10):void 0;return[A,null,X,V]}const U=t?new Date(t):null,H=u?new Date(u):null,J=m?parseInt(m,10):void 0;return[U,H,J,V]}if(!p&&r&&c){const M=Se[h],A=Pe(r,M,new Date);if(Oe(A)){const X=m?parseInt(m,10):void 0;return[null,A,X,V]}const U=t?new Date(t):null,H=u?new Date(u):null,J=m?parseInt(m,10):void 0;return[U,H,J,V]}if(N.replace(/_/gi,"9")===Zu)return[null,null,void 0,void 0]}else{const n=N.match(/_/gi);if(!n&&N){let V;if(h===B.quarter){const[M,,A]=N.split(" ");V=new Date(+A,mu[M])}else{const M={date:$?wu:yu,dateTime:$?Au:vu,dateTimeSeconds:$?Iu:xu};let A=M.date;h===B.year?A=Pu:h===B.month?A=Ou:d&&(A=T?M.dateTimeSeconds:M.dateTime),V=Pe(N,A,new Date)}return Oe(V)?[V,null,void 0,void 0]:[o||null,null,void 0,void 0]}const r={year:Ku,month:Uu,quarter:Ju(de[ue].quarterTranslation)},C=d?T?Tu:ju:Du,c=r[h]||C;if(We(c,N))return[null,null,void 0,void 0];if(n)return[o??null,void 0,void 0,void 0]}}catch(n){console.error(n)}return[null,null,void 0,void 0]},[N,h,d,o,t,u,e,T,S]),Ae=s.useCallback(()=>{const n=ye(),r=t?je(t,Se[h]):"",m=u?je(u,Se[h]):"";if(r||m){const C=" — ";let c="";S?c=`${r||n}/${r?O??"_":"_"}${C}${m||n}/${m?R??"_":"_"}`:h===B.quarter?c=`${t?Ue(t):""}${C}${u?Ue(u):""}`:c=`${r||n}${C}${m||n}`,P(c),Y.current=c}else P(""),Y.current=""},[t,u,h,S,O,R,ye]);s.useLayoutEffect(()=>{if(se.current!==null){const n=Ee.current?.input||Ee.current;if(n){const r=se.current;n.setSelectionRange(r,r),se.current=null}}});const ie=s.useCallback(n=>{if(!n)return!0;const r=n.replace(/[^0-9_]/g,"");return r===""||/^_+$/.test(r)},[]),Ie=s.useCallback(n=>n.some(r=>r?r.includes("_")&&!ie(r):!1),[ie]),Qe=s.useCallback(n=>{const r=n.target.value,m=Y.current;if(e&&m&&r.length<m.length){let C=-1,c=-1;for(let p=0;p<m.length;p++)if(p>=r.length||r[p]!==m[p]){C=p;break}if(C>=0){let p=m.length-1,V=r.length-1;for(;p>C&&V>=C&&m[p]===r[V];)p--,V--;c=p+1;let M=m,A=!1;for(let U=C;U<c;U++)/[0-9]/.test(M[U])&&(M=M.substring(0,U)+"_"+M.substring(U+1),A=!0);if(A)se.current=C;else{const U=n.target;setTimeout(()=>{U.setSelectionRange(C,C)},0)}P(M),Y.current=M;return}}P(r),Y.current=r},[e]),E=K&&(e?!!(t||u):!!o);return i.jsx(pn,{inputRef:Ee,value:N,onChange:Qe,onFocus:()=>{Me()},onBlur:()=>{if(oe.current){oe.current=!1,we();return}if(!Z)if(!e)o||P("");else{const r=N.split(" — ").map(V=>S?V.split("/")[0]||"":V),m=De();if(Array.isArray(m)&&(m[0]===null&&r[0]&&!ie(r[0])&&!r[0].includes("_")||m[1]===null&&r[1]&&!ie(r[1])&&!r[1].includes("_"))){Ae(),_&&_(t||null,u||null,O,R),we();return}const[c,p]=Array.isArray(m)?m:[null,null];!c&&!p&&P("")}if(_){const n=De(),r=Be(...n);_(...r)}we()},onKeyDown:n=>{if((n.key==="Backspace"||n.key==="Delete")&&e){const r=n.target,m=r.selectionStart||0,C=r.selectionEnd||0;if(m===0&&C===N.length){n.preventDefault();const c=be();P(c),Y.current=c,setTimeout(()=>{r.setSelectionRange(0,0)},0);return}if(m<C){n.preventDefault();const c=N.substring(m,C);if(/\d/.test(c)){let V=N;for(let M=m;M<C;M++)/\d/.test(V[M])&&(V=V.substring(0,M)+"_"+V.substring(M+1));P(V),Y.current=V,se.current=m}return}}if(/^[0-9]$/.test(n.key)&&e){n.preventDefault();const m=n.target.selectionStart||0,C=be();let c=-1;if(m<C.length&&C[m]==="_")c=m;else{for(let p=m;p<C.length;p++)if(C[p]==="_"&&N[p]==="_"){c=p;break}if(c===-1){for(let p=0;p<m;p++)if(C[p]==="_"&&N[p]==="_"){c=p;break}}}if(c!==-1){let p=N;p.length<C.length&&(p=p+C.substring(p.length),P(p));const V=S?"/":" — ",M=p.indexOf(V);let A;c<M?A=c:A=c-M-V.length;const U=p.substring(0,c).split(".").length-1,H=A-U;if(H===0&&parseInt(n.key)>3){const G=c+1;if(p[G]==="_"){const ce=p.substring(0,c)+"0"+n.key+p.substring(c+2);let te=c+2;for(;te<C.length&&C[te]!=="_";)te++;se.current=te,P(ce),Y.current=ce;return}}if(H===1){const G=p[c-1];if(G==="3"&&parseInt(n.key)>1||G==="0"&&n.key==="0")return}if(H===2&&parseInt(n.key)>1){const G=c+1;if(p[G]==="_"){const ce=p.substring(0,c)+"0"+n.key+p.substring(c+2);let te=c+2;for(;te<C.length&&C[te]!=="_";)te++;se.current=te,P(ce),Y.current=ce;return}}if(H===3){const G=p[c-1];if(G==="1"&&parseInt(n.key)>2||G==="0"&&n.key==="0")return}const J=p.substring(0,c)+n.key+p.substring(c+1);let X=c+1;for(;X<C.length&&C[X]!=="_";)X++;se.current=X,P(J),Y.current=J}return}if(e&&n.key.length===1&&!/[0-9]/.test(n.key)&&!n.ctrlKey&&!n.metaKey){n.preventDefault();return}if(n.key==="Tab"&&b){if(e){const m=N.split(" — ").map(V=>S?V.split("/")[0]||"":V),C=Ie(m),c=De(),p=Array.isArray(c)&&(c[0]===null&&m[0]&&!ie(m[0])&&!m[0].includes("_")||c[1]===null&&m[1]&&!ie(m[1])&&!m[1].includes("_"));if(C||p){Ae();return}}b(...Be(...De()))}if(n.key==="Enter"&&q){if(e){const c=N.split(" — ").map(A=>S?A.split("/")[0]||"":A),p=Ie(c),V=De(),M=Array.isArray(V)&&(V[0]===null&&c[0]&&!ie(c[0])&&!c[0].includes("_")||V[1]===null&&c[1]&&!ie(c[1])&&!c[1].includes("_"));if(p||M){Ae();return}}oe.current=!0;const r=De(),m=Be(...r);q(...m)}},className:ve(a,fu.input),disabled:l,label:de[ue].label[d?"showtime":"default"],icon:i.jsx("div",{className:fu.calendar,children:i.jsx(_u,{className:ve(ne.size===fn.xs&&fu["icon-xs"]),onClick:D})}),reset:E,onReset:Fe,helperText:j,color:xe?Bu.error:Bu.default,...ne})});uu.displayName="DatePickerInput";try{uu.displayName="DatePickerInput",uu.__docgenInfo={description:"",displayName:"DatePickerInput",props:{size:{defaultValue:null,description:"Размер инпута",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"s"'},{value:'"xs"'}]}},color:{defaultValue:null,description:"Цвет инпута",name:"color",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"success"'},{value:'"error"'},{value:'"warning"'}]}},disabled:{defaultValue:null,description:"Флаг отключения инпута",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя инпута",name:"name",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор инпута",name:"id",required:!1,type:{name:"string"}},onReset:{defaultValue:null,description:"Обработчик сброса значения",name:"onReset",required:!1,type:{name:"((() => void) & FormEventHandler<HTMLInputElement> & FormEventHandler<HTMLTextAreaElement>)"}},reset:{defaultValue:null,description:"Флаг наличия кнопки сброса",name:"reset",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Текст метки (label) инпута",name:"label",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"Флаг многострочного режима",name:"multiline",required:!1,type:{name:"boolean"}},pseudo:{defaultValue:null,description:"Флаг псевдо-инпута",name:"pseudo",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"Иконка инпута",name:"icon",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"Вспомогательный текст",name:"helperText",required:!1,type:{name:"ReactNode"}},resize:{defaultValue:null,description:"Флаг возможности изменения размера (для textarea)",name:"resize",required:!1,type:{name:"boolean"}},colored:{defaultValue:null,description:"Флаг цветного фона",name:"colored",required:!1,type:{name:"boolean"}},pseudoInputStyle:{defaultValue:null,description:"Инлайн стили для PseudoInput режима",name:"pseudoInputStyle",required:!1,type:{name:"CSSProperties"}},inputRef:{defaultValue:null,description:"Реф для доступа к DOM-элементу инпута",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement | HTMLTextAreaElement>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((date: Date) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((date: Date | null, date2?: Date | null, shiftFrom?: number, shiftTo?: number | undefined) => void) | undefined"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},onEnterKeyDown:{defaultValue:null,description:"",name:"onEnterKeyDown",required:!1,type:{name:"((date: Date | null, date2?: Date | null, shiftFrom?: number, shiftTo?: number | undefined) => void) | undefined"}},onTabKeyDown:{defaultValue:null,description:"",name:"onTabKeyDown",required:!1,type:{name:"((date: Date | null, date2?: Date | null, shiftFrom?: number, shiftTo?: number | undefined) => void) | undefined"}},showTime:{defaultValue:null,description:"",name:"showTime",required:!1,type:{name:"boolean"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},enabledHourFrom:{defaultValue:null,description:"",name:"enabledHourFrom",required:!1,type:{name:"((date: Date) => 0 | 2 | 3 | 1 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledHourTo:{defaultValue:null,description:"",name:"enabledHourTo",required:!1,type:{name:"((date: Date) => 0 | 2 | 3 | 1 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledMinuteFrom:{defaultValue:null,description:"",name:"enabledMinuteFrom",required:!1,type:{name:"((date: Date) => number)"}},enabledMinuteTo:{defaultValue:null,description:"",name:"enabledMinuteTo",required:!1,type:{name:"((date: Date) => number)"}},shiftFrom:{defaultValue:null,description:"",name:"shiftFrom",required:!1,type:{name:"number"}},shiftTo:{defaultValue:null,description:"",name:"shiftTo",required:!1,type:{name:"number"}},shiftLength:{defaultValue:null,description:"",name:"shiftLength",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}},withShift:{defaultValue:null,description:"",name:"withShift",required:!1,type:{name:"boolean"}},withSeconds:{defaultValue:null,description:"",name:"withSeconds",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"",name:"level",required:!0,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},isOpenOnFocus:{defaultValue:null,description:"",name:"isOpenOnFocus",required:!1,type:{name:"boolean"}},isHideYear:{defaultValue:null,description:"",name:"isHideYear",required:!1,type:{name:"boolean"}},disableChangesOnBlur:{defaultValue:null,description:"",name:"disableChangesOnBlur",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean"}}}}}catch{}const tt="Day-module__root___nlT6S",at="Day-module__day___wtPLe",rt="Day-module__month___4Hyak",lt="Day-module__quarter___ejZvA",st="Day-module__year___K5P7-",ot="Day-module__wrapper___xgRlF",it="Day-module__selected___Mdd20",ct="Day-module__disableTimeChange___Jnlut",dt="Day-module__infiniteTimeScroll___fxOvc",mt="Day-module__today___-IXWq",ft="Day-module__disabled___VDz6X",pt="Day-module__start___FUi9N",yt="Day-module__hoverState___-4Kk3",Dt="Day-module__mid___9uW7G",_t="Day-module__end___piFDl",he={root:tt,day:at,month:rt,quarter:lt,year:st,wrapper:ot,selected:it,disableTimeChange:ct,infiniteTimeScroll:dt,today:mt,disabled:ft,start:pt,hoverState:yt,mid:Dt,end:_t},Ve=({id:e,isHoverState:t,onHover:u,onClick:a,type:l="day",selected:d,disabled:D,today:_,start:q,mid:b,end:o,children:f,disableTimeChange:y,date:g,infiniteTimeScroll:x})=>{const F=g?je(g,"dd-MM-yyyy"):void 0;return i.jsx("div",{id:`${F??""}${e??""}`,onClick:D?void 0:a,className:ve(he.root,{[he.selected]:d,[he.disabled]:D,[he.today]:_,[he.start]:q,[he.mid]:b,[he.end]:o,[he[l]]:l,[he.hoverState]:t,[he.disableTimeChange]:y,[he.infiniteTimeScroll]:x}),onMouseOver:D?void 0:u,"data-testid":d?"selected":void 0,children:i.jsx("div",{className:he.wrapper,children:i.jsx(Ne,{variant:"Body1-Medium",children:f})})})};try{Ve.displayName="Day",Ve.__docgenInfo={description:"",displayName:"Day",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},today:{defaultValue:null,description:"",name:"today",required:!1,type:{name:"boolean"}},start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"boolean"}},mid:{defaultValue:null,description:"",name:"mid",required:!1,type:{name:"boolean"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"boolean"}},isHoverState:{defaultValue:null,description:"",name:"isHoverState",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"day"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent<Element, MouseEvent>>) => void)"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!1,type:{name:"(() => void)"}},disableTimeChange:{defaultValue:null,description:"",name:"disableTimeChange",required:!1,type:{name:"boolean"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Date"}},infiniteTimeScroll:{defaultValue:null,description:"",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}}}}}catch{}const ht="Footer-module__root___Hiwfp",Hu={root:ht,"btn-collection":"Footer-module__btn-collection___ubEEo"},hu=({className:e,onAccept:t,onDecline:u,disable:a})=>{const l=Le();return i.jsxs("div",{className:ve(Hu.root,e),children:[i.jsx(Qu,{}),i.jsxs("div",{className:Hu["btn-collection"],children:[i.jsx(Je,{type:"button",onClick:t,disabled:a,children:de[l].buttons.accept}),i.jsx(Je,{type:"button",onClick:u,variant:"secondary",children:de[l].buttons.decline})]})]})};try{hu.displayName="Footer",hu.__docgenInfo={description:"",displayName:"Footer",props:{onAccept:{defaultValue:null,description:"",name:"onAccept",required:!1,type:{name:"(() => void)"}},onDecline:{defaultValue:null,description:"",name:"onDecline",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disable:{defaultValue:null,description:"",name:"disable",required:!1,type:{name:"boolean"}}}}}catch{}const gt="MonthsCalendar-module__root___cDmAi",Ct={root:gt},gu=({panelValue:e,disableChange:t,withPeriod:u,valueFrom:a,valueTo:l,enabledTo:d,enabledFrom:D,selectedDate:_,onSelect:q})=>{const b=Le(),o=Mu("month",e),f=s.useMemo(()=>a&&new Date(a.getFullYear(),a.getMonth()),[a]),y=s.useMemo(()=>l&&new Date(l.getFullYear(),l.getMonth()),[l]),[g,x]=s.useState(null),F=s.useMemo(()=>!a||!l?g:null,[g,a,l]),k=s.useMemo(()=>F&&new Date(F.getFullYear(),F.getMonth(),1,0,0,0,0),[F]),ee=ou({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y,selectedDate:_,panelValue:e},"month"),S=ru({dateCurrentHover:k,withPeriod:u,dateFrom:f},"month"),T=lu({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y},"month"),R=su({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y},"month"),O=au(D,d,"month");return i.jsx("div",{className:Ct.root,children:de[b].months.map((z,h)=>{const I=new Date((e||new Date).getFullYear(),h);return i.jsx(Ve,{onClick:()=>q&&q(I),onHover:()=>u&&x(I),isHoverState:!!k,selected:ee(I),disabled:t||O(e?.getFullYear(),h),today:o(h),start:S(I),mid:T(I),end:R(I),type:"month",children:z},z)})})};try{gu.displayName="MonthsCalendar",gu.__docgenInfo={description:"",displayName:"MonthsCalendar",props:{panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},currentDate:{defaultValue:null,description:"",name:"currentDate",required:!1,type:{name:"Date"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}}}}}catch{}const qt="PeriodPicker-module__root___aQe6z",bt="PeriodPicker-module__disableContent___9LWFp",Et="PeriodPicker-module__content___higpw",Vt="PeriodPicker-module__contentText___3bJO1",He={root:qt,disableContent:bt,content:Et,contentText:Vt,"btn-icon-arrow":"PeriodPicker-module__btn-icon-arrow___R06V5","btn-icon-middle":"PeriodPicker-module__btn-icon-middle___eRl0O"},Cu=({disableContent:e,onContentClick:t,onLeftClick:u,onRightClick:a,children:l,isHideYear:d,selectedPanel:D})=>{const _=e||d&&D===B.month?void 0:t,[q,b]=s.useState(!e&&!(d&&D===B.month));return s.useEffect(()=>{b(!e&&!(d&&D===B.month))},[e,d,D]),i.jsxs("div",{className:ve(He.root,e&&He.disableContent),children:[i.jsx(Je,{type:"button",className:He["btn-icon-arrow"],onClick:u,color:"ghost",variant:"secondary",iconButton:i.jsx(yn,{"data-testid":"left-panel-icon"})}),i.jsxs("div",{"data-testid":"level-switcher",className:He.content,onClick:_,children:[i.jsx("div",{className:He.contentText,children:i.jsx(Ne,{variant:"Body1-Medium",color:"var(--steel-90)",children:l})}),q&&i.jsx(Je,{type:"button",className:He["btn-icon-middle"],onClick:u,color:"ghost",variant:"secondary",iconButton:i.jsx(Dn,{"data-testid":"middle-panel-icon"})})]}),i.jsx(Je,{type:"button",className:He["btn-icon-arrow"],onClick:a,color:"ghost",variant:"secondary",iconButton:i.jsx(_n,{"data-testid":"right-panel-icon"})})]})};try{Cu.displayName="PeriodPicker",Cu.__docgenInfo={description:"",displayName:"PeriodPicker",props:{onLeftClick:{defaultValue:null,description:"",name:"onLeftClick",required:!1,type:{name:"(() => void)"}},onRightClick:{defaultValue:null,description:"",name:"onRightClick",required:!1,type:{name:"(() => void)"}},onContentClick:{defaultValue:null,description:"",name:"onContentClick",required:!1,type:{name:"(() => void)"}},disableContent:{defaultValue:null,description:"",name:"disableContent",required:!1,type:{name:"boolean"}},isHideYear:{defaultValue:null,description:"",name:"isHideYear",required:!0,type:{name:"boolean"}},selectedPanel:{defaultValue:null,description:"",name:"selectedPanel",required:!0,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}}}}}catch{}const Ft="QuarterCalendar-module__root___0UZGD",Mt={root:Ft},qu=({panelValue:e,disableChange:t,withPeriod:u,valueFrom:a,valueTo:l,enabledTo:d,enabledFrom:D,selectedDate:_,onSelect:q})=>{const b=Le(),o=Mu("quarter",e),f=s.useMemo(()=>a&&new Date(a.getFullYear(),a.getMonth()),[a]),y=s.useMemo(()=>l&&new Date(l.getFullYear(),l.getMonth()),[l]),[g,x]=s.useState(null),F=s.useMemo(()=>!a||!l?g:null,[g,a,l]),k=s.useMemo(()=>F&&new Date(F.getFullYear(),F.getMonth(),1,0,0,0,0),[F]),ee=ou({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y,selectedDate:_,panelValue:e},"quarter"),S=ru({dateCurrentHover:k,withPeriod:u,dateFrom:f},"quarter"),T=lu({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y},"quarter"),R=su({dateCurrentHover:k,withPeriod:u,dateTo:y,dateFrom:f},"quarter"),O=au(D,d,"quarter");return i.jsx("div",{className:Mt.root,children:de[b].quarters.map((z,h)=>{const I=new Date((e||new Date).getFullYear(),z.month);return i.jsx(Ve,{onClick:()=>q&&q(I),onHover:()=>u&&x(I),isHoverState:!!k,selected:ee(I,z),disabled:t||O(e?.getFullYear(),z.month),today:o(h),start:S(I),mid:T(I),end:R(I),type:"quarter",children:z.name},z.month)})})};try{qu.displayName="QuartersCalendar",qu.__docgenInfo={description:"",displayName:"QuartersCalendar",props:{panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},currentDate:{defaultValue:null,description:"",name:"currentDate",required:!1,type:{name:"Date"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}}}}}catch{}const Bt="ShiftSelector-module__root___2BEyH",kt="ShiftSelector-module__shift___8szeR",St="ShiftSelector-module__selected___9Ujcj",vt="ShiftSelector-module__disabled___xCdDV",xt="ShiftSelector-module__selectedDisabled___jzqOY",Ke={root:Bt,shift:kt,selected:St,disabled:vt,selectedDisabled:xt},nu=({value:e,shiftLength:t=2,onChange:u,disabled:a=!1})=>{const l=d=>{a||u(d)};return i.jsx("div",{className:Ke.root,children:zt[t].map(d=>i.jsx("div",{className:ve(Ke.shift,{[Ke.disabled]:a,[Ke.selected]:e===d&&!a,[Ke.selectedDisabled]:e===d&&a}),onClick:()=>l(d),children:i.jsx(Ne,{variant:"Body1-Medium",children:d})},d))})};try{nu.displayName="ShiftSelector",nu.__docgenInfo={description:"",displayName:"ShiftSelector",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},shiftLength:{defaultValue:{value:"2"},description:"",name:"shiftLength",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}}}}}catch{}const wt="TimeSelector-module__root___nHC2p",At="TimeSelector-module__column___vBNvG",It="TimeSelector-module__columnTitle___qppDV",ze={root:wt,column:At,columnTitle:It},tu=({withSeconds:e,enabledHourFrom:t,enabledHourTo:u,enabledMinuteFrom:a,enabledMinuteTo:l,disabled:d,selectedTime:D,value:_,onChange:q,innerValue:b,infiniteTimeScroll:o})=>{const f=b||_||new Date,y=t?t(f):0,g=u?u(f):23,x=a?a(f):0,F=l?l(f):59,k=s.useMemo(()=>y<=g?$u.slice(y,g+1):$u.filter(j=>j.value>=y||j.value<=g),[y,g]),ee=s.useMemo(()=>x<=F?Ru.slice(x,F+1):Ru.filter(j=>j.value>=x||j.value<=F),[x,F]),S=s.useCallback(j=>ne=>{D&&q&&q(ge(D,{[j]:ne}))},[q,D]),T=()=>{const[j,ne]=s.useState(null);return[j,ne]},[R,O]=T(),[z,h]=T(),[I,$]=T();s.useEffect(()=>{if(!_)return;[{ref:R,getValue:()=>_.getHours()},{ref:z,getValue:()=>_.getMinutes()},{ref:I,getValue:()=>_.getSeconds()}].forEach(({ref:ne,getValue:v})=>{ne&&(ne.scrollTop=v()*40)})},[_,R,z,I]);const Z=s.useCallback(j=>(ne,v)=>v?.[`get${j}`]()===ne,[]),K=s.useMemo(()=>Z("Hours"),[Z]),Fe=s.useMemo(()=>Z("Minutes"),[Z]),xe=s.useMemo(()=>Z("Seconds"),[Z]);return i.jsxs("div",{className:ze.root,children:[i.jsxs("div",{className:ze.column,ref:O,children:[i.jsx("div",{className:ze.columnTitle,children:i.jsx(Ne,{variant:"Body1-Medium",children:"чч"})}),!o&&k.map(j=>i.jsx(Ve,{disabled:d,selected:K(j.value,D),onClick:()=>S("hours")(j.value),children:j.label},j.value)),o&&i.jsx(Ze,{values:k,disabled:d,selectedTime:D,handleTimeClick:S("hours"),container:R,getSelected:K})]}),i.jsxs("div",{className:ze.column,ref:h,children:[i.jsx("div",{className:ze.columnTitle,children:i.jsx(Ne,{variant:"Body1-Medium",children:"мм"})}),o&&i.jsx(Ze,{values:ee,disabled:d,selectedTime:D,handleTimeClick:S("minutes"),container:z,getSelected:Fe}),!o&&ee.map(j=>i.jsx(Ve,{disabled:d,selected:Fe(j.value,D),onClick:()=>S("minutes")(j.value),children:j.label},j.value))]}),e&&i.jsxs("div",{className:ze.column,ref:$,children:[i.jsx("div",{className:ze.columnTitle,children:i.jsx(Ne,{variant:"Body1-Medium",children:"сс"})}),!o&&Yu.map(j=>i.jsx(Ve,{disabled:d,selected:xe(j.value,D),onClick:()=>S("seconds")(j.value),children:j.label},j.value)),o&&i.jsx(Ze,{values:Yu,disabled:d,selectedTime:D,handleTimeClick:S("seconds"),container:I,getSelected:xe})]})]})};tu.displayName="TimeSelector";try{tu.displayName="TimeSelector",tu.__docgenInfo={description:"",displayName:"TimeSelector",props:{selectedTime:{defaultValue:null,description:"",name:"selectedTime",required:!1,type:{name:"Date"}},withSeconds:{defaultValue:null,description:"",name:"withSeconds",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((date: Date) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},innerValue:{defaultValue:null,description:"",name:"innerValue",required:!1,type:{name:"Date"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},enabledHourFrom:{defaultValue:null,description:"",name:"enabledHourFrom",required:!1,type:{name:"((date: Date) => 0 | 2 | 3 | 1 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledHourTo:{defaultValue:null,description:"",name:"enabledHourTo",required:!1,type:{name:"((date: Date) => 0 | 2 | 3 | 1 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledMinuteFrom:{defaultValue:null,description:"",name:"enabledMinuteFrom",required:!1,type:{name:"((date: Date) => number)"}},enabledMinuteTo:{defaultValue:null,description:"",name:"enabledMinuteTo",required:!1,type:{name:"((date: Date) => number)"}},infiniteTimeScroll:{defaultValue:null,description:"",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}}}}}catch{}const jt="Weekdays-module__root___Wzwpj",Tt="Weekdays-module__weekday___owdV8",zu={root:jt,weekday:Tt},bu=()=>{const e=Le();return i.jsx("div",{className:zu.root,children:de[e].weekdays.map(t=>i.jsx("div",{className:zu.weekday,children:i.jsx(Ne,{variant:"Body1-Medium",color:"var(--steel-70)",children:t})},t))})};try{bu.displayName="Weekdays",bu.__docgenInfo={description:"",displayName:"Weekdays",props:{}}}catch{}const Nt="YearsCalendar-module__root___zBBxc",$t={root:Nt},Eu=({panelValue:e,disableChange:t,withPeriod:u,valueFrom:a,valueTo:l,enabledFrom:d,enabledTo:D,selectedDate:_,onSelect:q})=>{const b=s.useMemo(()=>new Date,[]),o=s.useMemo(()=>(e??new Date).getFullYear()-6,[e]),f=s.useMemo(()=>a&&Q(a,"year"),[a]),y=s.useMemo(()=>l&&Q(l,"year"),[l]),[g,x]=s.useState(null),F=s.useMemo(()=>!a||!l?g:null,[g,a,l]),k=s.useMemo(()=>F&&new Date(F.getFullYear(),F.getMonth(),1,0,0,0,0),[F]),ee=ou({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y,selectedDate:_},"year"),S=ru({dateCurrentHover:k,withPeriod:u,dateFrom:f},"year"),T=lu({dateCurrentHover:k,withPeriod:u,dateFrom:f,dateTo:y},"year"),R=su({dateCurrentHover:k,withPeriod:u,dateTo:y,dateFrom:f},"year"),O=au(d,D,"year");return i.jsx("div",{className:$t.root,children:new Array(12).fill(null).map((z,h)=>{const I=h+o,$=new Date(I,0,1,0,0,0,0);return i.jsx(Ve,{onClick:()=>q&&q($),onHover:()=>u&&x($),isHoverState:!!k,selected:ee($),disabled:t||O(I),today:b.getFullYear()===I,start:S($),mid:T($),end:R($),type:"year",children:I},I)})})};try{Eu.displayName="YearsCalendar",Eu.__docgenInfo={description:"",displayName:"YearsCalendar",props:{innerValue:{defaultValue:null,description:"",name:"innerValue",required:!1,type:{name:"Date"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}},panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}}}}}catch{}const Ze=({values:e,selectedTime:t,handleTimeClick:u,container:a,getSelected:l,...d})=>{const[D,_]=s.useState(0),[q,b]=s.useState([]);return s.useEffect(()=>{const o=f=>f&&_(f?.target?.scrollTop);return a?.addEventListener("scroll",o,!0),()=>{a?.removeEventListener("scroll",o,!0)}},[a]),s.useEffect(()=>{const o=()=>(e??[]).map(x=>({...x,id:hn()})),f=o(),y=o(),g=o();b([...f,...y,...g])},[e]),s.useEffect(()=>{const o=setTimeout(()=>{if(!a)return;const{scrollHeight:f=0,scrollTop:y=0}=a,g=f/3;if(y>2*g){a.scrollTo({top:y-g+20,behavior:"instant"});return}a.scrollTop<g&&a.scrollTo({top:y+g-20,behavior:"instant"})},100);return()=>{clearTimeout(o)}},[D,a]),i.jsx(i.Fragment,{children:q.map(o=>{const f=!!l?.(o.value,t);return s.createElement(Ve,{...d,id:o.id,key:o.value,selected:f,onClick:()=>u(o.value),infiniteTimeScroll:!0},o.label)})})};try{Ze.displayName="InfiniteContainer",Ze.__docgenInfo={description:"",displayName:"InfiniteContainer",props:{values:{defaultValue:null,description:"Массив значений для отображения в контейнере.",name:"values",required:!0,type:{name:"TValue[]"}},selectedTime:{defaultValue:null,description:"Выбранное время.",name:"selectedTime",required:!1,type:{name:"Date"}},handleTimeClick:{defaultValue:null,description:"Функция обработки клика по значению.",name:"handleTimeClick",required:!0,type:{name:"(value: number) => void"}},container:{defaultValue:null,description:"Ссылка на DOM-элемент контейнера.",name:"container",required:!1,type:{name:"HTMLDivElement | null"}},getSelected:{defaultValue:null,description:"Функция для определения, выбрано ли значение.",name:"getSelected",required:!1,type:{name:"((value: number, selectedTime?: Date) => boolean)"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},today:{defaultValue:null,description:"",name:"today",required:!1,type:{name:"boolean"}},start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"boolean"}},mid:{defaultValue:null,description:"",name:"mid",required:!1,type:{name:"boolean"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"boolean"}},isHoverState:{defaultValue:null,description:"",name:"isHoverState",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent<Element, MouseEvent>>) => void)"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!1,type:{name:"(() => void)"}},disableTimeChange:{defaultValue:null,description:"",name:"disableTimeChange",required:!1,type:{name:"boolean"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Date"}},infiniteTimeScroll:{defaultValue:null,description:"",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}}}}}catch{}const Rt="DaysCalendar-module__content___SNXa1",Yt={content:Rt},Vu=({withTime:e,disableChange:t,valueFrom:u,valueTo:a,withPeriod:l,enabledFrom:d,enabledTo:D,panelValue:_,selectedDate:q,withoutWeekdays:b,onSelect:o})=>{const f=Mu("day"),y=s.useMemo(()=>u&&new Date(u.getFullYear(),u.getMonth(),u.getDate()),[u]),g=s.useMemo(()=>a&&new Date(a.getFullYear(),a.getMonth(),a.getDate()),[a]),x=s.useMemo(()=>(_??new Date).getFullYear(),[_]),F=s.useMemo(()=>(_??new Date).getMonth(),[_]),[k,ee]=s.useState(null),S=s.useMemo(()=>!u||!a?k:null,[k,u,a]),T=s.useMemo(()=>S&&new Date(S.getFullYear(),S.getMonth(),S.getDate()),[S]),R=ou({dateCurrentHover:T,withPeriod:l,dateFrom:y,dateTo:g,withTime:e,selectedDate:q},"day"),O=ru({dateCurrentHover:T,withPeriod:l,dateFrom:y},"day"),z=lu({dateCurrentHover:T,withPeriod:l,dateFrom:y,dateTo:g},"day"),h=su({dateCurrentHover:T,withPeriod:l,dateFrom:y,dateTo:g},"day"),I=au(d,D,"day");return i.jsxs(i.Fragment,{children:[!b&&i.jsx(bu,{}),i.jsx("div",{className:Yt.content,children:Nn(x)[x][F].map(($,Z)=>{const K=new Date(x,F,parseInt($));return $?i.jsx(Ve,{date:K,onClick:()=>o&&o(K),onHover:()=>l&&ee(K),isHoverState:!!T,selected:R(K),disabled:t||I(K),today:f(K),start:O(K),mid:z(K),end:h(K),children:$},$):i.jsx("div",{},`empty-${Z}`)})})]})};try{Vu.displayName="DaysCalendar",Vu.__docgenInfo={description:"",displayName:"DaysCalendar",props:{selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}},withTime:{defaultValue:null,description:"",name:"withTime",required:!1,type:{name:"boolean"}},withoutWeekdays:{defaultValue:null,description:"",name:"withoutWeekdays",required:!0,type:{name:"boolean"}}}}}catch{}const Ht={day:Vu,month:gu,quarter:qu,year:Eu},Ue=e=>`${Math.floor((e.getMonth()+3)/3)} квартал ${e.getFullYear()}`,zt={2:[1,2],3:[1,2,3]},Gu=3,Lt=6,Wt=5;var B=(e=>(e.day="day",e.month="month",e.quarter="quarter",e.year="year",e))(B||{});const de={ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],quarters:[{month:0,name:"1 квартал",values:[0,1,2]},{month:3,name:"2 квартал",values:[3,4,5]},{month:6,name:"3 квартал",values:[6,7,8]},{month:9,name:"4 квартал",values:[9,10,11]}],weekdays:["пн","вт","ср","чт","пт","сб","вс"],quarterTranslation:"квартал",label:{default:"Дата",showtime:"Дата и время"},shiftDescription:"Смены начала и конца периода",buttons:{accept:"Применить",decline:"Отменить"}},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],quarters:[{month:0,name:"1 quarter",values:[0,1,2]},{month:3,name:"2 quarter",values:[3,4,5]},{month:6,name:"3 quarter",values:[6,7,8]},{month:9,name:"4 quarter",values:[9,10,11]}],weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],quarterTranslation:"quarter",label:{default:"Date",showtime:"Date and time"},shiftDescription:"Changes of the beginning and end of the period",buttons:{accept:"Accept",decline:"Cancel"}}},Q=(e,t)=>{switch(t){case"day":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"month":case"quarter":return new Date(e.getFullYear(),e.getMonth());case"year":return new Date(e.getFullYear(),0,1,0,0,0,0)}},au=(e,t,u="day")=>s.useCallback((a,l)=>{if(a===void 0)return!1;if(u==="year"&&typeof a=="number")return e&&e.getFullYear()>a?!0:!!(t&&t.getFullYear()<a);if((u==="month"||u==="quarter")&&typeof a=="number"&&typeof l=="number")return!!(e&&a<e.getFullYear()||t&&a>t.getFullYear()||e&&e.getFullYear()===a&&e.getMonth()>l||t&&t.getFullYear()===a&&t.getMonth()<l);if(a instanceof Date){const d=a;if(u==="quarter"){const b=w(d,"quarter"),o=e&&w(e,"quarter"),f=t&&w(t,"quarter");return!!(o&&b<o||f&&b>f)}const D=Q(d,u),_=e&&Q(e,u),q=t&&Q(t,u);return!!(_&&D<_||q&&D>q)}return!1},[e,t,u]),Mu=(e,t)=>s.useCallback(u=>{const a=new Date;if(e==="day"&&u instanceof Date){const l=Q(a,"day"),d=Q(u,"day");return l.getTime()===d.getTime()}if(e==="month"&&typeof u=="number")return a.getFullYear()===(t||a).getFullYear()&&a.getMonth()===u;if(e==="quarter"&&typeof u=="number"){const l=Math.floor(a.getMonth()/3);return a.getFullYear()===(t||a).getFullYear()&&l===u}return e==="year"&&typeof u=="number"?a.getFullYear()===u:!1},[e,t]),ru=({withPeriod:e,dateFrom:t,dateCurrentHover:u},a)=>s.useCallback((l,d)=>{if(!e)return!1;if(a==="quarter"&&d){const y=t&&w(t,"quarter"),g=w(l,"quarter"),x=u&&w(u,"quarter");return x?!!(y&&y<x&&y===g||(!y||x<y)&&x===g):!!(y&&y===g)}if(a==="day")return u?!!(e&&t&&Ce(t,u)&&le(t,l)||(!t||Ce(u,t))&&le(u,l)):!!(e&&t&&le(t,l));const D=t&&Q(t,a),_=Q(l,a),q=u&&Q(u,a),b=D&&w(D,a),o=w(_,a),f=q&&w(q,a);return f?!!(b&&b<f&&b===o||(!b||f<b)&&f===o):!!(b&&b===o)},[u,t,e,a]),lu=({dateCurrentHover:e,withPeriod:t,dateFrom:u,dateTo:a},l)=>s.useCallback(d=>{if(!t||!u)return!1;if(l==="day")return e?!!(Te(d,u)&&Ce(d,e)||Ce(d,u)&&Te(d,e)):!!(a&&Ce(d,a)&&Te(d,u));if(l==="quarter"){const o=w(u,"quarter"),f=a&&w(a,"quarter"),y=w(d,"quarter"),g=e&&w(e,"quarter");return g?y>o&&y<g||y<o&&y>g:!!(f&&y<f&&y>o)}const D=Q(u,l),_=a&&Q(a,l),q=Q(d,l),b=e&&Q(e,l);return b?!!(Te(q,D)&&Ce(q,b)||Ce(q,D)&&Te(q,b)):!!(_&&Ce(q,_)&&Te(q,D))},[e,t,u,a,l]),su=({dateCurrentHover:e,withPeriod:t,dateFrom:u,dateTo:a},l)=>s.useCallback(d=>{if(!t)return!1;if(l==="day")return e?!!((!u||Ce(u,e))&&le(e,d)||u&&Ce(e,u)&&le(u,d)):!!(a&&le(a,d));const D=u&&Q(u,l),_=a&&Q(a,l),q=Q(d,l),b=e&&Q(e,l),o=D&&w(D,l),f=_&&w(_,l),y=w(q,l),g=b&&w(b,l);return g?!!((!o||o<g)&&g===y||o&&g<o&&o===y):!!(f&&f===y)},[e,t,a,u,l]),ou=({withPeriod:e,dateFrom:t,dateTo:u,withTime:a,selectedDate:l,dateCurrentHover:d,panelValue:D},_)=>s.useCallback((q,b)=>{if(e){if(_==="day"){const g=Q(q,"day");return t&&u?!!(Ce(g,u)&&Te(g,t)||le(u,g)||le(t,g)):t&&!u&&d?le(q,t):!1}if(_==="quarter"&&b){const g=w(q,"quarter"),x=t&&w(t,"quarter"),F=u&&w(u,"quarter");return!!(x&&F&&g>x&&g<F||F&&g===F||x&&g===x)}const o=t&&Q(t,_),f=u&&Q(u,_),y=Q(q,_);return!!(o&&f&&Ce(y,f)&&Te(y,o)||f&&le(f,y)||o&&le(o,y))}if(_==="day"){const o=Q(q,"day"),f=l&&Q(l,"day");return a?!!(f&&le(f,o)):!!(f&&le(new Date(f.getFullYear(),f.getMonth(),f.getDate()),o))}if(_==="month")return l?.getFullYear()===D?.getFullYear()&&l?.getMonth()===q.getMonth();if(_==="quarter"&&b){const o=l&&Math.floor(l.getMonth()/3),f=Math.floor(b.month/3);return l?.getFullYear()===D?.getFullYear()&&o===f}return _==="year"?l?.getFullYear()===q.getFullYear():!1},[d,t,u,l,e,a,D,_]),Lu=({id:e,locale:t="ru",level:u="day",type:a="date",name:l,portalContainerId:d="root",valueFrom:D,valueTo:_,enabledFrom:q=new Date(1900,0,1),enabledTo:b=new Date(2100,11,31),enabledHourFrom:o,enabledHourTo:f,enabledMinuteFrom:y,enabledMinuteTo:g,value:x,onPeriodChange:F,onChange:k,className:ee,shiftFrom:S,shiftTo:T,shiftLength:R=Gu,disableChange:O,withPortal:z,colored:h,pseudo:I,pseudoChildren:$,disableChangesOnBlur:Z=!1,isOpenOnFocus:K=!1,isHideYear:Fe=!1,withoutWeekdays:xe=!1,onPanelChange:j,onSelect:ne,infiniteTimeScroll:v,reset:ue,onReset:N,error:P,helperText:fe,...pe})=>{const Y=s.useMemo(()=>["period","shift"].includes(a),[a]),se=s.useMemo(()=>["time","seconds"].includes(a),[a]),oe=s.useMemo(()=>a==="seconds",[a]),qe=s.useMemo(()=>a==="shift",[a]),[ye,be]=s.useState(!1),[Me,we]=s.useState(null),[me,Ee]=s.useState(null),$e=s.useRef(null),[Re,We]=s.useState(!1);e=s.useMemo(()=>`DatePicker-${e?.toString()??performance.now().toString().split(".").join("")}`,[e]);const{value:{valueFrom:Be,valueTo:De},onChange:Ae}=cu(s.useMemo(()=>({valueFrom:D,valueTo:_}),[D,_]),s.useCallback((L,W)=>L.valueFrom===void 0||W.valueFrom===void 0?L.valueFrom===W.valueFrom:L.valueTo===void 0||W.valueTo===void 0?L.valueTo===W.valueTo:le(L.valueFrom,W.valueFrom)&&le(L.valueTo,W.valueTo),[])),{value:{shiftFrom:ie,shiftTo:Ie},onChange:Qe}=cu(s.useMemo(()=>({shiftFrom:S,shiftTo:T}),[S,T])),{value:ke,onChange:E}=cu(x),n=s.useCallback(L=>{E(L),k&&k(L)},[E,k]),r=s.useCallback((L,W,ae,re)=>{F&&F(L,W,ae,re),(L||W)&&Ae({valueFrom:L,valueTo:W}),(ae||re)&&Qe({shiftFrom:ae,shiftTo:re})},[Ae,Qe,F]),m=s.useMemo(()=>ke&&new Date(ke),[ke,Re]),C=s.useCallback(()=>{be(!1)},[]),c=s.useCallback(()=>{We(L=>!L),be(!1)},[]);s.useEffect(()=>{I&&C()},[C,I]);const[p,V]=s.useState(!1),{refs:M,floatingStyles:A,placement:U}=sn({placement:"bottom-start",middleware:[cn(4),dn(),mn()],whileElementsMounted:on});rn(Me,me,M,L=>{me&&L&&($e.current=me),V(L)});const H=s.useCallback(L=>(W,ae,re,Ye)=>{L&&Z||(Me?.blur(),Y&&r?(qe?r(W||void 0,ae||void 0,re||void 0,Ye||void 0):r(W||void 0,ae||void 0),We(iu=>!iu)):k&&(W&&W instanceof Date&&!isNaN(W.getTime())?(E(W),k(W)):W==null&&(E(void 0),k(void 0))),be(!1))},[Me,r,Y,qe,Z,E,k]),J=s.useCallback(()=>{pe.onFocus?.(),be(!0)},[pe.onFocus]),X=s.useCallback((L,W,ae,re)=>{pe.onBlur?.(),H(!0)(L,W,ae,re)},[pe.onBlur,H]),G=()=>i.jsx(Ge,{type:a,level:u,ref:Ee,withPeriod:Y,valueFrom:Be,valueTo:De,enabledHourFrom:o,enabledHourTo:f,enabledMinuteFrom:y,enabledMinuteTo:g,shiftFrom:ie,shiftTo:Ie,shiftLength:R,value:ke,onClose:C,onReset:c,disableChange:O,disableChangesOnBlur:Z,onChange:n,onPeriodChange:r,withTime:se,enabledTo:b,enabledFrom:q,style:{...A,visibility:p?"visible":"hidden"},withShift:qe,withSeconds:oe,isOpenOnFocus:K,isHideYear:Fe,withoutWeekdays:xe,onPanelChange:j,onSelect:ne,infiniteTimeScroll:v,"data-popper-placement":U,"data-ui-datepicker-calendar-panel":!0}),ce=document.getElementById(d),te=()=>i.jsxs("div",{className:ve(du.root,ee,pe.disabled&&du.disabled,ye&&du.isOpen),id:e,children:[l&&["date","time","seconds"].includes(a)&&i.jsx("input",{type:"hidden",name:l,value:ke?.toISOString()}),l&&["period","shift"].includes(a)&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"hidden",name:`${l}-from`,value:Be?.toISOString()}),i.jsx("input",{type:"hidden",name:`${l}-to`,value:De?.toISOString()})]}),l&&a==="shift"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"hidden",name:`${l}-shift-from`,value:ie}),i.jsx("input",{type:"hidden",name:`${l}-shift-to`,value:Ie})]}),i.jsx(uu,{level:u,ref:we,showTime:se,value:m,onChange:n,enabledFrom:q,enabledTo:b,enabledHourFrom:o,enabledHourTo:f,enabledMinuteFrom:y,enabledMinuteTo:g,withPeriod:Y,valueFrom:Be,valueTo:De,shiftFrom:ie,shiftTo:Ie,shiftLength:R,withShift:qe,withSeconds:oe,isOpenOnFocus:K,onEnterKeyDown:H(!1),onTabKeyDown:H(!1),colored:h,reset:ue,onReset:N,isHideYear:Fe,disableChangesOnBlur:Z,error:P,helperText:fe,...pe,onFocus:J,onBlur:X,"data-ui-datepicker-input":!0}),ye&&(z?un.createPortal(i.jsx(i.Fragment,{children:G()}),ce):i.jsx(i.Fragment,{children:G()}))]});return i.jsx(Ln,{value:t,children:I?i.jsx(ln,{label:se?"Дата и время":"Дата",children:$}):K&&i.jsx(Wu,{excludeRef:$e,onClickAway:C,children:te()})||i.jsx(i.Fragment,{children:te()})})};try{Lu.displayName="DatePicker",Lu.__docgenInfo={description:"Компонент DatePicker для выбора даты и времени в различных форматах.",displayName:"DatePicker",props:{type:{defaultValue:{value:"date"},description:`Тип пикера (обычный выбор даты)
Тип пикера (с выбором времени)
Тип пикера (с выбором времени с секундами)
Тип пикера (с выбором периода)
Тип пикера (с выбором периода и смен)`,name:"type",required:!1,type:{name:"enum",value:[{value:'"time"'},{value:'"date"'},{value:'"seconds"'},{value:'"period"'},{value:'"shift"'}]}},value:{defaultValue:null,description:`Выбранное значение даты
Выбранное значение даты (не используется)`,name:"value",required:!1,type:{name:"Date"}},shiftFrom:{defaultValue:null,description:`Значение начальной смены (не используется)
Значение начальной смены`,name:"shiftFrom",required:!1,type:{name:"number"}},shiftTo:{defaultValue:null,description:`Значение конечной смены (не используется)
Значение конечной смены`,name:"shiftTo",required:!1,type:{name:"number"}},shiftLength:{defaultValue:{value:"3"},description:"Длина смены (количество смен в сутки)",name:"shiftLength",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}},onChange:{defaultValue:null,description:`Обработчик изменения даты
Обработчик изменения даты (не используется)`,name:"onChange",required:!1,type:{name:"((date: Date) => void)"}},valueFrom:{defaultValue:null,description:`Значение начала периода (не используется)
Значение начала выбранного периода`,name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:`Значение конца периода (не используется)
Значение конца выбранного периода`,name:"valueTo",required:!1,type:{name:"Date"}},onPeriodChange:{defaultValue:null,description:`Обработчик изменения периода (не используется)
Обработчик изменения периода
Обработчик изменения периода и смен`,name:"onPeriodChange",required:!1,type:{name:"((valueFrom?: Date, valueTo?: Date) => void) | ((valueFrom?: Date | undefined, valueTo?: Date | undefined) => void) | ((valueFrom?: Date | undefined, valueTo?: Date | undefined, shiftFrom?: number | undefined, shiftTo?: number | undefined) => void) | undefined"}},level:{defaultValue:{value:"day"},description:`Уровень детализации выбора даты
Уровень детализации (не используется)`,name:"level",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},size:{defaultValue:null,description:"Размер инпута",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"s"'},{value:'"xs"'}]}},color:{defaultValue:null,description:"Цвет инпута",name:"color",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"success"'},{value:'"error"'},{value:'"warning"'}]}},disabled:{defaultValue:null,description:"Флаг отключения инпута",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя инпута",name:"name",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор инпута",name:"id",required:!1,type:{name:"string"}},onReset:{defaultValue:null,description:"Обработчик сброса значения",name:"onReset",required:!1,type:{name:"((() => void) & FormEventHandler<HTMLInputElement> & FormEventHandler<HTMLTextAreaElement>)"}},reset:{defaultValue:null,description:"Флаг наличия кнопки сброса",name:"reset",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Текст метки (label) инпута",name:"label",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"Флаг многострочного режима",name:"multiline",required:!1,type:{name:"boolean"}},pseudo:{defaultValue:null,description:`Флаг псевдо-инпута
Флаг для отображения псевдо-инпута`,name:"pseudo",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"Иконка инпута",name:"icon",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"Вспомогательный текст",name:"helperText",required:!1,type:{name:"ReactNode"}},resize:{defaultValue:null,description:"Флаг возможности изменения размера (для textarea)",name:"resize",required:!1,type:{name:"boolean"}},colored:{defaultValue:null,description:"Флаг цветного фона",name:"colored",required:!1,type:{name:"boolean"}},pseudoInputStyle:{defaultValue:null,description:"Инлайн стили для PseudoInput режима",name:"pseudoInputStyle",required:!1,type:{name:"CSSProperties"}},inputRef:{defaultValue:null,description:"Реф для доступа к DOM-элементу инпута",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement | HTMLTextAreaElement>"}},onBlur:{defaultValue:null,description:"Обработчик потери фокуса инпутом",name:"onBlur",required:!1,type:{name:"(() => void)"}},onFocus:{defaultValue:null,description:"Обработчик получения фокуса инпутом или клика по иконке календаря",name:"onFocus",required:!1,type:{name:"(() => void)"}},portalContainerId:{defaultValue:{value:"root"},description:"ID контейнера для портала",name:"portalContainerId",required:!1,type:{name:"string"}},locale:{defaultValue:{value:"ru"},description:"Локаль для форматирования дат",name:"locale",required:!1,type:{name:"string"}},enabledFrom:{defaultValue:{value:"new Date(1900, 0, 1)"},description:"Минимальная доступная дата",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:{value:"new Date(2100, 11, 31)"},description:"Максимальная доступная дата",name:"enabledTo",required:!1,type:{name:"Date"}},enabledHourFrom:{defaultValue:null,description:"Функция для определения минимального доступного часа",name:"enabledHourFrom",required:!1,type:{name:"((date: Date) => 0 | 2 | 3 | 1 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledHourTo:{defaultValue:null,description:"Функция для определения максимального доступного часа",name:"enabledHourTo",required:!1,type:{name:"((date: Date) => 0 | 2 | 3 | 1 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledMinuteFrom:{defaultValue:null,description:"Функция для определения минимальной доступной минуты",name:"enabledMinuteFrom",required:!1,type:{name:"((date: Date) => number)"}},enabledMinuteTo:{defaultValue:null,description:"Функция для определения максимальной доступной минуты",name:"enabledMinuteTo",required:!1,type:{name:"((date: Date) => number)"}},disableChange:{defaultValue:null,description:"Флаг для отключения возможности изменения",name:"disableChange",required:!1,type:{name:"boolean"}},withPortal:{defaultValue:null,description:"Флаг для рендеринга в портале",name:"withPortal",required:!1,type:{name:"boolean"}},disableChangesOnBlur:{defaultValue:{value:"false"},description:"Флаг для отключения изменений при потере фокуса",name:"disableChangesOnBlur",required:!1,type:{name:"boolean"}},isOpenOnFocus:{defaultValue:{value:"false"},description:"Флаг для открытия пикера при фокусе",name:"isOpenOnFocus",required:!1,type:{name:"boolean"}},pseudoChildren:{defaultValue:null,description:"Содержимое для псевдо-инпута",name:"pseudoChildren",required:!1,type:{name:"ReactNode"}},isHideYear:{defaultValue:{value:"false"},description:"Флаг для скрытия года",name:"isHideYear",required:!1,type:{name:"boolean"}},withoutWeekdays:{defaultValue:{value:"false"},description:"Флаг для отображения без дней недели",name:"withoutWeekdays",required:!1,type:{name:"boolean"}},onPanelChange:{defaultValue:null,description:"Обработчик изменения панели",name:"onPanelChange",required:!1,type:{name:"((date: Date) => void)"}},infiniteTimeScroll:{defaultValue:null,description:"Флаг для бесконечной прокрутки времени",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Флаг ошибки, влияет на стиль компонента",name:"error",required:!1,type:{name:"boolean"}}}}}catch{}export{Lu as D};
