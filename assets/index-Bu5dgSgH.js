import{r as l,j as u,e as M}from"./iframe-tXE4xoYc.js";import{a as g,B as O,E as k}from"./index-DfJPKXXV.js";import{c as h}from"./clsx-B-dksMZM.js";import{f as W,e as z}from"./24-DRYMupHO.js";import{u as L}from"./useFloatingReferenceSync-BoqrGUtC.js";import{L as T}from"./index-BYo_Qif0.js";import{C as $}from"./index-mWxT_Pnt.js";import{u as H,a as K,o as U,f as Y,s as G,l as J}from"./floating-ui.react-rIU8UbdJ.js";const Q="Dropdown-module__icon___0eAo0",X="Dropdown-module__wrapper___xNAW3",r={icon:Q,"icon-rotate-open":"Dropdown-module__icon-rotate-open___7K8Wr",wrapper:X},q=l.createContext({isOpen:!1,setIsOpen:()=>{},disabled:!1,buttonChildren:void 0,menuStyle:void 0,buttonRef:null,size:g.m}),Z="DropdownMenu-module__menu___7c0Tv",I={menu:Z,"small-content":"DropdownMenu-module__small-content___dYbmn"},D=({children:t,...s})=>{const{isOpen:e,setIsOpen:f,buttonRef:n,menuStyle:A}=l.useContext(q),[C,y]=l.useState(null),[i,B]=l.useState(!1),F=n?.current?.getBoundingClientRect(),{refs:v,floatingStyles:_,placement:d}=H({placement:"bottom-start",middleware:[U(4),Y({fallbackPlacements:["top-start"]}),G({limiter:J(),padding:8})],whileElementsMounted:K});L(n,C,v,B);const c=130,w=()=>{const a=n?.current?.getBoundingClientRect();return{...{minWidth:(a?.width||48)<c?`${c}px`:a?.width,...A,visibility:i?"visible":"hidden"},..._}},o=(F?.width||48)<130,p=()=>{e&&f(!1)},m=u.jsx($,{onClickAway:p,excludeRef:n||void 0,children:u.jsx(T,{ref:a=>{y(a)},className:h(I.menu,{[I["small-content"]]:o}),style:w(),"data-popper-placement":d,...s,children:t})});return e?m:null};try{D.displayName="DropdownMenu",D.__docgenInfo={description:"Компонент DropdownMenu отображает меню с элементами, которое закрывается при клике вне его границ.",displayName:"DropdownMenu",props:{children:{defaultValue:null,description:"Элементы, которые будут отображаться в меню",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const V=({children:t,disabled:s=!1,buttonChildren:e,className:f,menuStyle:n,withPortal:A=!1,portalContainerId:C="root",variant:y=k.secondary,size:i=g.m,color:B,startIcon:F,startBadge:v,endBadge:_,iconButton:d,buttonStyle:c,...w})=>{const[o,p]=l.useState(!1),m=l.useRef(null),a=document.getElementById(C),S=E=>{E.preventDefault(),E.stopPropagation(),s||p(P=>!P)},b=i===g.xs?W:z,x=u.jsx("div",{className:h(r.icon,r["icon-rotate"],{[r["icon-rotate-open"]]:o}),"data-ui-dropdown-chevron-icon":!0,children:u.jsx(b,{})}),N=()=>{const E=A?M.createPortal(u.jsx(D,{"data-ui-dropdown-menu-portal":!0,children:t}),a):u.jsx(D,{"data-ui-dropdown-menu":!0,children:t});return o?E:null},R=d||(e?void 0:x),j=e&&!d?x:void 0;return u.jsx(q.Provider,{value:{isOpen:o,setIsOpen:p,disabled:s,buttonChildren:e,buttonRef:m,size:i,menuStyle:n},children:u.jsxs("div",{className:r.wrapper,children:[u.jsx(O,{type:"button",ref:m,className:h(r.button,{[r["button--open"]]:o},f),variant:y,color:B,onClick:S,disabled:s,size:i,startIcon:F,startBadge:v,endBadge:_,iconButton:R,endIcon:j,"data-ui-dropdown-button":!0,...w,style:c,children:u.jsx("div",{"data-ui-dropdown-button-children":!0,children:e})}),N()]})})};try{V.displayName="Dropdown",V.__docgenInfo={description:"Компонент Dropdown предоставляет интерактивное выпадающее меню с настраиваемыми кнопками и элементами меню.",displayName:"Dropdown",props:{children:{defaultValue:null,description:"Элементы, которые будут отображаться в меню",name:"children",required:!0,type:{name:"ReactNode"}},disabled:{defaultValue:{value:"false"},description:"Отключает кнопку и возможность открытия меню",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс для кнопки",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"EButtonSize.m"},description:"Размер кнопки и меню",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"xs"'},{value:'"m"'}]}},buttonChildren:{defaultValue:null,description:"Содержимое кнопки",name:"buttonChildren",required:!1,type:{name:"ReactNode"}},menuStyle:{defaultValue:null,description:"Кастомные стили меню",name:"menuStyle",required:!1,type:{name:"CSSProperties"}},withPortal:{defaultValue:{value:"false"},description:"открытие выпадающего списка в портале",name:"withPortal",required:!1,type:{name:"boolean"}},portalContainerId:{defaultValue:{value:"root"},description:"контейнер для портала",name:"portalContainerId",required:!1,type:{name:"string"}},buttonStyle:{defaultValue:null,description:"Кастомные стили кнопки",name:"buttonStyle",required:!1,type:{name:"CSSProperties"}},startBadge:{defaultValue:null,description:"Контент для бейджа кнопки в начале кнопки",name:"startBadge",required:!1,type:{name:"string | number"}},endBadge:{defaultValue:null,description:"Контент для бейджа кнопки в конце кнопки",name:"endBadge",required:!1,type:{name:"string | number"}},startIcon:{defaultValue:null,description:"Иконка, отображаемая в начале кнопки",name:"startIcon",required:!1,type:{name:"ReactNode"}},endIcon:{defaultValue:null,description:"Иконка, отображаемая в конце кнопки",name:"endIcon",required:!1,type:{name:"ReactNode"}},iconButton:{defaultValue:null,description:"Иконка для кнопки-иконки",name:"iconButton",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:{value:"EButtonVariant.secondary"},description:"Вариант стиля кнопки",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},color:{defaultValue:null,description:"Тип заливки кнопки",name:"color",required:!1,type:{name:"enum",value:[{value:'"brand"'},{value:'"error"'},{value:'"warning"'},{value:'"success"'},{value:'"grey"'},{value:'"ghost"'}]}},style:{defaultValue:null,description:"Inline стили для кастомизации компонента",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}export{V as D,q as a};
