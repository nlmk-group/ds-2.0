import{r as s,j as o,e as un,R as nn}from"./iframe-CxLN9ksd.js";import{t as fu,e as tn,g as an,d as te,s as _e,f as Ie,u as rn,p as Qe,a as Pe,i as je,b as iu}from"./hook-D8gSpNi_.js";import{u as ln}from"./useFloatingReferenceSync-DscYnpdV.js";import{P as sn}from"./index-DcM-4FYU.js";import{C as Lu}from"./index-CYd80pzx.js";import{u as on,a as cn,o as dn,f as mn,s as fn}from"./floating-ui.react-B9Baa2-L.js";import{c as Se}from"./clsx-B-dksMZM.js";import{c as Mu}from"./colorsMapping-C6bFIk14.js";import{s as pn}from"./sizeMappingInput-XXScYzk1.js";import{I as yn}from"./index-BN0H6Yla.js";import{l as Ze}from"./lodash-D8MmIXKa.js";import{T as Te}from"./index-CORENSTS.js";import{D as Wu}from"./index-Bz6VJdOb.js";import{B as Ue}from"./index-D3DoxRCP.js";import{G as Dn}from"./index-M8Uj9-kW.js";import{e as _n,c as hn}from"./24-BFZg9aq0.js";import{g as gn}from"./generateUUID-M57HTP56.js";function Bu(e){const t=fu(e);return t.setDate(1),t.setHours(0,0,0,0),t}function he(e,t){const u=fu(e),a=fu(t);return+u<+a}const Cn="Datepicker-module__root___YRWWN",qn="Datepicker-module__disabled___ECJrZ",bn="Datepicker-module__isOpen___A3uhS",cu={root:Cn,disabled:qn,isOpen:bn},du={1:0,2:3,3:6,4:9},Xe={0:0,1:0,2:0,3:3,4:3,5:3,6:6,7:6,8:6,9:9,10:9,11:9},ku=(e,t,u)=>{const a={day:y=>an(y),month:y=>Bu(y),year:y=>tn(y),quarter:y=>Bu(y)};if(!a[e])throw new Error(`Unknown level: ${e}`);const l=a[e](t),d=a[e](u);if(e==="quarter"){const y=Xe[t.getMonth()],_=Xe[u.getMonth()];return y===_&&t.getFullYear()===u.getFullYear()}return te(l,d)},pu="dd.MM.yyyy",Su="dd.MM.yyyy HH:mm",vu="dd.MM.yyyy HH:mm:ss",xu="dd.MM",wu="dd.MM HH:mm",Au="dd.MM HH:mm:ss",Qu="yyyy",En="MM.yyyy",Pu="MM.yyyy",Ou="9999",Vn="____",Ku="99.9999",Fn="__.____",Uu=e=>`9 ${e} 9999`,Mn=e=>`_ ${e} ____`,Bn="__.__.____",yu="99.99.9999",Iu="99.99.9999 99:99",ju="99.99.9999 99:99:99",kn="99.99",Sn="99.99 99:99",vn="99.99 99:99:99",xn="9999 — 9999",wn="99.9999 — 99.9999",An=e=>`9 ${e} 9999 — 9 ${e} 9999`,Ju="99.99.9999 — 99.99.9999",In="99.99.9999/3 — 99.99.9999/3",jn="99.99.9999/2 — 99.99.9999/2",ke={day:pu,month:Pu,quarter:En,year:Qu},Tn=e=>({day:Ju,month:wn,quarter:An(e),year:xn}),Tu=e=>({day:Bn,month:Fn,quarter:Mn(e),year:Vn}),Nn=e=>({day:yu,month:Ku,quarter:Uu(e),year:Ou});function $n(e,t=e){const u={};for(let a=e;a<=t;a++)u[a]=Rn(a);return u}function Rn(e){const t=[];for(let u=1;u<=12;u++)t.push(Yn(e,u));return t}function Yn(e,t){const u=zn(e,t),a=Hn(e,t);return[...new Array(u).fill(""),...Array.from({length:a},(l,d)=>(d+1).toString())]}function Hn(e,t){return new Date(e,t,0).getDate()}function zn(e,t,u){const a=new Date(e,t-1).getDay();return a?a-1:6}const Ln=(e,t,u,a)=>{const l=t||u;if(!l)return;const d=Xe[l.getMonth()],y=a.find(_=>_.month===d)?.values[2];switch(e){case"day":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59);case"month":return new Date(l.getFullYear(),l.getMonth()+1,0,23,59,59);case"quarter":return new Date(l.getFullYear(),(y||l.getMonth())+1,0,23,59,59);default:return new Date(l.getFullYear(),11,31,23,59,59)}},Vu=e=>new Array(e).fill(null).map((t,u)=>({value:u,label:u.toString().padStart(2,"0")})),Nu=Vu(24),$u=Vu(60),Ru=Vu(60);function I(e,t){const u=e.getFullYear(),a=e.getMonth(),l=e.getDate();switch(t){case"day":return+new Date(u,a,l);case"quarter":return+new Date(u,Xe[a]);case"month":return+new Date(u,a);case"year":return+new Date(u);default:return+e}}const Zu=s.createContext("en"),Wn=Zu.Provider,ze=()=>s.useContext(Zu),Ge=s.forwardRef(({level:e,value:t,onChange:u,onPeriodChange:a,disableChange:l,withPeriod:d,withShift:y,withTime:_,withSeconds:q,valueTo:b,valueFrom:i,shiftFrom:f,shiftTo:p,shiftLength:g,enabledTo:S,enabledFrom:k,enabledHourFrom:B,enabledHourTo:X,enabledMinuteFrom:v,enabledMinuteTo:T,onClose:Y,onReset:L,disableChangesOnBlur:O,isOpenOnFocus:D,isHideYear:$,withoutWeekdays:w,onPanelChange:ue,onSelect:U,infiniteTimeScroll:Ve,...j},re)=>{const ge=ze(),[x,ee]=s.useState("day"),[N,K]=s.useState(d?i:t),[de,me]=s.useState(new Date),[R,ae]=s.useState({valueFrom:i,valueTo:b}),[le,Ce]=s.useState((d?i:t)||new Date),[fe,qe]=s.useState(f??1),[Fe,ve]=s.useState(p??1),ie=s.useRef(null),be=s.useMemo(()=>O||d&&(!R.valueFrom||!R.valueTo)||!d&&!N,[O,R,N,d]);s.useEffect(()=>{ee(e)},[e]),s.useEffect(()=>{qe(f??1),ve(p??1)},[f,p]),s.useEffect(()=>{d||t&&(K(t),_&&me(t))},[t,d,_]),s.useEffect(()=>{d&&(ae({valueFrom:i,valueTo:b}),(i||b)&&Ce(i||b||new Date),ie.current=null)},[i,b,d]);const Ne=s.useMemo(()=>{if(!le)return"";if(x===M.day)return`${oe[ge].months[le.getMonth()]}, ${le.getFullYear()}`;if(x===M.month||x===M.quarter)return le.getFullYear();const E=le.getFullYear();return`${E-Wt} — ${E+Qt}`},[le,x]),$e=s.useCallback(()=>{if(d&&a){const r=R.valueFrom,m=Ln(e,R.valueTo,r,oe[ge].quarters),C=V=>y?V:void 0,[c,h]=[C(fe),C(Fe)];a(r,m,c,h),Y();return}const E=N||R.valueFrom;if(!E||!u)return;if(!_||!de){u(E),Y();return}let n=_e(E,{hours:de.getHours(),minutes:de.getMinutes()});q&&(n=_e(n,{seconds:de.getSeconds()})),u(n),Y()},[R.valueFrom,R.valueTo,fe,Fe,N,e,x,u,Y,a,de,d,q,y,_]),Le=s.useCallback(()=>{L()},[L]),Me=s.useCallback(E=>{if(U&&U(E),(e===x||x===M.day)&&K(E),(!d||e!==M.year)&&Ce(E),x===M.month&&e===M.day&&ee("day"),x===M.year&&e===M.quarter&&ee("quarter"),x===M.year&&(e===M.month||e===M.day)&&ee("month"),!d&&!_&&e===x){u&&u(E),Y();return}d&&ae(n=>{const r=n.valueFrom,m=n.valueTo;if(!r&&e===x)return ie.current=x,{valueFrom:E};if(r&&!m){const C=+r-+E>0?E:r,c=+r-+E>0?r:E;return ie.current=x,{valueFrom:C,valueTo:c}}return r&&m&&e===x?ie.current&&ie.current!==x?(ie.current=x,+E<+r?{valueFrom:E,valueTo:r}:{valueFrom:r,valueTo:E}):(ie.current=x,{valueFrom:E}):n})},[x,e,u,Y,d,_,U]),pe={[M.day]:E=>_e(E,{month:E.getMonth()-1}),[M.quarter]:E=>_e(E,{year:E.getFullYear()-1}),[M.month]:E=>_e(E,{year:E.getFullYear()-1}),[M.year]:E=>_e(E,{year:E.getFullYear()-12})},xe=s.useCallback(()=>{Ce(E=>{if(!E)return E;const n=pe[x],r=n?n(E):E;return ue?.(r),r})},[x,ue]),se=s.useCallback(()=>{Ce(E=>{if(!E)return E;const n={[M.day]:m=>_e(m,{month:m.getMonth()+1}),[M.quarter]:m=>_e(m,{year:m.getFullYear()+1}),[M.month]:m=>_e(m,{year:m.getFullYear()+1}),[M.year]:m=>_e(m,{year:m.getFullYear()+12})}[x],r=n?n(E):E;return ue?.(r),r})},[x,ue]),we=s.useCallback(()=>{switch(x){case M.day:{ee("month");break}case M.month:{ee("year");break}case M.quarter:{ee("year");break}}},[x]),We=zt[x],Be=()=>o.jsx(eu,{ref:re,timeSlot:_?o.jsx(tu,{innerValue:N,disabled:l,enabledHourFrom:B,enabledHourTo:X,enabledMinuteFrom:v,enabledMinuteTo:T,withSeconds:q,value:t,selectedTime:de,onChange:me,infiniteTimeScroll:Ve}):void 0,period:Ne,withSeconds:q,onLeftClick:xe,disableContentOfPeriodPicker:x===M.year,onContentClick:we,onRightClick:se,onAccept:$e,onDecline:Le,disableChange:l,showFooter:_||y||q||d,showShiftsSelector:y&&x===M.day,shiftFrom:fe,shiftTo:Fe,shiftLength:g,onChangeShiftFrom:qe,onChangeShiftTo:ve,level:e,isHideYear:$,selectedPanel:x,...j,children:o.jsx(We,{valueFrom:R.valueFrom,valueTo:R.valueTo,withPeriod:d,withTime:_,selectedDate:N,disableChange:l,onSelect:Me,enabledFrom:k,enabledTo:S,panelValue:le,withoutWeekdays:w})});return D?o.jsx(o.Fragment,{children:Be()}):o.jsx(Lu,{onClickAway:()=>be?Y():$e(),children:Be()})});Ge.displayName="CalendarPanel";try{Ge.displayName="CalendarPanel",Ge.__docgenInfo={description:"",displayName:"CalendarPanel",props:{}}}catch{}const Qn="CommonCalendar-module__root___t7d6p",Pn="CommonCalendar-module__withTime___FsEL0",On="CommonCalendar-module__withSeconds___dTRYV",Kn="CommonCalendar-module__withTimeSlot___Z-YYu",Un="CommonCalendar-module__withSecondsSlot___TErw5",Jn="CommonCalendar-module__calendarPanel___m-MoG",Zn="CommonCalendar-module__timePanel___Rew4I",Xn="CommonCalendar-module__footer___0qnpm",Gn="CommonCalendar-module__period___5btMz",et="CommonCalendar-module__periodTitle___DisTU",ut="CommonCalendar-module__periodSelectors___diK7H",ye={root:Qn,withTime:Pn,withSeconds:On,withTimeSlot:Kn,withSecondsSlot:Un,calendarPanel:Jn,timePanel:Zn,footer:Xn,"period-wrapper":"CommonCalendar-module__period-wrapper___cr-Lg",period:Gn,periodTitle:et,periodSelectors:ut},eu=s.forwardRef(({disableContentOfPeriodPicker:e,showFooter:t,onDecline:u,onAccept:a,onRightClick:l,onLeftClick:d,onContentClick:y,children:_,period:q,timeSlot:b,shiftTo:i,shiftFrom:f,shiftLength:p,onChangeShiftFrom:g,onChangeShiftTo:S,withSeconds:k,disableChange:B,showShiftsSelector:X,isHideYear:v,selectedPanel:T,...Y},L)=>{const O=ze();return o.jsxs("div",{ref:L,className:Se(ye.root,!!b&&ye.withTime,!!k&&ye.withSeconds),...Y,children:[o.jsxs("div",{className:Se(b&&ye.withTimeSlot,k&&ye.withSecondsSlot),children:[o.jsx(gu,{disableContent:B||e,onLeftClick:d,onRightClick:l,onContentClick:y,isHideYear:v,selectedPanel:T,children:q}),o.jsx("div",{className:ye.calendarPanel,children:_}),b&&o.jsx("div",{className:ye.timePanel,children:b})]}),X&&o.jsxs("div",{className:ye["period-wrapper"],children:[o.jsx(Wu,{}),o.jsxs("div",{className:ye.period,children:[o.jsx("div",{className:ye.periodTitle,children:o.jsx(Te,{variant:"Caption",children:oe[O].shiftDescription})}),o.jsxs("div",{className:ye.periodSelectors,children:[o.jsx(nu,{disabled:B,value:f,shiftLength:p,onChange:g})," ","—"," ",o.jsx(nu,{disabled:B,value:i,shiftLength:p,onChange:S})]})]})]}),t&&o.jsx(_u,{onDecline:u,onAccept:a,className:ye.footer,disable:B})]})});eu.displayName="CommonCalendar";try{eu.displayName="CommonCalendar",eu.__docgenInfo={description:"",displayName:"CommonCalendar",props:{}}}catch{}const Du=e=>o.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 7H24C25.1 7 26 7.9 26 9V25C26 26.1 25.1 27 24 27H8C6.9 27 6 26.1 6 25V9C6 7.9 6.9 7 8 7H9V5H11V7H21V5H23V7ZM8 25H24V12H8V25Z",fill:"currentColor"})});try{Du.displayName="CalendarSvgIcon",Du.__docgenInfo={description:"",displayName:"CalendarSvgIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: any) => void)"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}}}}}catch{}const nt="DatePickerInput-module__calendar___UExd9",tt="DatePickerInput-module__input___TNbx6",mu={calendar:nt,input:tt,"icon-xs":"DatePickerInput-module__icon-xs___83qdl"},uu=s.forwardRef(({withPeriod:e,valueFrom:t,valueTo:u,className:a,disabled:l,showTime:d,onFocus:y,onBlur:_,onEnterKeyDown:q,onTabKeyDown:b,value:i,enabledTo:f,enabledFrom:p,enabledHourFrom:g,enabledHourTo:S,enabledMinuteFrom:k,enabledMinuteTo:B,onChange:X,withShift:v,withSeconds:T,shiftTo:Y,shiftFrom:L,shiftLength:O,level:D,isOpenOnFocus:$,isHideYear:w,disableChangesOnBlur:ue,reset:U,onReset:Ve,error:j,helperText:re,...ge},x)=>{const ee=ze(),[N,K]=s.useState(""),[de,me]=un.useState(!1);s.useRef(null);const R=s.useRef(""),ae=s.useRef(null),le=s.useRef(!1),Ce=s.useCallback(()=>D===M.quarter?"_ квартал ____":D===M.year?"____":D===M.month?"__.____":d?T?w?"__.__  __:__:__":"__.__.____  __:__:__":w?"__.__  __:__":"__.__.____  __:__":w?"__.__":"__.__.____",[D,d,T,w]),fe=s.useCallback(()=>Tu(oe[ee].quarterTranslation)[D],[D,ee]),qe=s.useCallback(()=>{const n=fe(),r=v?"/":" — ";return v?`${n}/_${r}${n}/_`:`${n}${r}${n}`},[fe,v]),Fe=()=>{if(me(!0),!e&&!i&&!N){const n=Ce();K(n),R.current=n}else if(e&&!t&&!u&&!N){const n=qe();K(n),R.current=n}y&&$&&y()},ve=()=>me(!1);s.useEffect(()=>{let n="";if(!e)if(!i)n="";else if(D===M.month||D===M.year){const r=ke[D];n=Ie(i,r)}else if(D===M.quarter){const r=Math.floor((i.getMonth()+3)/3),m=i.getFullYear();n=`${r} квартал ${m}`}else{const r=w?xu:pu,m=w?wu:Su,C=w?Au:vu,h=d?T?C:m:r;n=Ie(i,h)}if(e){const r=fe(),m=t?Ie(t,ke[D]):"",C=u?Ie(u,ke[D]):"";if(!m&&!C)n="";else{const c=m?L??"_":"_",h=C?Y??"_":"_",V=" — ";let F="";v?F=`${m||r}/${c}${V}${C||r}/${h}`:t&&u&&D===M.quarter?F=`${Ke(t)}${V}${Ke(u)}`:F=`${m||r}${V}${C||r}`,n=F}}K(n),R.current=n},[D,L,Y,d,i,t,u,e,T,v]);const ie=s.useMemo(()=>{let n="";t&&(n=D===M.quarter?Ke(t):Ie(t,ke[D]));const r=Nn(oe[ee].quarterTranslation)[D],m=Tn(oe[ee].quarterTranslation)[D],C=w?Sn:Iu,c=w?vn:ju,h=O===Xu?In:jn,V=Tu(oe[ee].quarterTranslation)[D];return D!==M.day&&!e?r:e?v?h:!de&&t&&u&&ku(D,t,u)?r:(de&&t&&u&&ku(D,t,u)&&K(`${n} — ${V}`),m):d?T?c:C:w?kn:yu},[de,D,O,d,t,u,e,T,v]),{ref:be,value:Ne,setValue:$e}=rn(e?{mask:!1,lazy:!1}:{mask:ie,definitions:{9:/[0-9]/,3:/[0-3]/,2:/[0-2]/},lazy:!1},{onAccept:n=>{e||(K(n),R.current=n)}});s.useEffect(()=>{if(x){if(typeof x=="function"){x(be.current);return}x.current=be.current}},[x,be]),s.useEffect(()=>{!e&&Ne!==N&&$e(N)},[N,Ne,$e,e]);const Le=(n,r)=>n.replace(/9/gi,"_")===r,Me=(n=null,r=null,m,C)=>{const c=[m,C],h=g&&Number(g(new Date)),V=S&&Number(S(new Date)),F=k&&Number(k(new Date)),A=B&&Number(B(new Date)),H=!!(g||S||g===0),z=!!(k||k===0||B),ce=Ze.range(h||0,(V||23)+1),G=Ze.range(F&&Ze.isInteger(F)&&F>0?F:0,A&&Ze.isInteger(A)&&A<60?A+1:60),W=J=>{const ne=J&&ce.includes(new Date(J).getHours()),Q=J&&G.includes(new Date(J).getMinutes());return J&&_e(new Date(J),{hours:ne?J&&new Date(J).getHours():ce[0],minutes:Q?J&&new Date(J).getMinutes():G[0]})};return p&&!f?n?n&&I(n,D)>=I(p,D)||r&&I(r,D)>=I(p,D)?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[W(n),null,c[0],c[1]]:[n?new Date(n):null,null,c[0],c[1]]:e?[t?new Date(t):null,u?new Date(u):null,c[0],c[1]]:H||z?[i?W(i):null,null,c[0],c[1]]:[i?new Date(i):null,null,c[0],c[1]]:e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[null,null,null,null]:[n?new Date(n):null,null,null,null]:!p&&f?n?n&&I(n,D)<=I(f,D)||r&&I(r,D)<=I(f,D)?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[W(n),null,null,null]:[n?new Date(n):null,null,null,null]:e?[t?new Date(t):null,u?new Date(u):null,c[0],c[1]]:H||z?[i?W(i):null,null,null,null]:[i?new Date(i):null,null,null,null]:e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[null,null,null,null]:[n?new Date(n):null,null,null,null]:p&&f?n?(n&&I(n,D)>=I(p,D)||r&&I(r,D)>=I(p,D))&&(n&&I(n,D)<=I(f,D)||r&&I(r,D)<=I(f,D))?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[W(n),null,null,null]:[n?new Date(n):null,null,null,null]:e?[t?new Date(t):null,u?new Date(u):null,c[0],c[1]]:H||z?[i?W(i):null,null,null,null]:[i?new Date(i):null,null,null,null]:e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[null,null,null,null]:[n?new Date(n):null,null,null,null]:!p&&!f?e?[n?new Date(n):null,r?new Date(r):null,c[0],c[1]]:H||z?[n?W(n):null,null,null,null]:[n?new Date(n):null,null,null,null]:[n&&new Date(n),r&&new Date(r),c[0],c[1]]},pe=s.useCallback(()=>{try{if(e){let[n,r]=N.split(" — "),m,C;v&&([n,m]=n.split("/"),[r,C]=r.split("/"));const c=n.match(/_/gi),h=r.match(/_/gi),V=C?parseInt(C,10):void 0;if(!c&&n&&!h&&r){let F,A;if(D===M.quarter){const[G,,W]=n.split(" "),[J,,ne]=r.split(" ");F=new Date(+W,du[G]),A=new Date(+ne,du[J])}else{const G=ke[D];F=Qe(n,G,new Date),A=Qe(r,G,new Date)}if(Pe(F)&&Pe(A)){const[G,W]=+F>+A?[A,F]:[F,A],J=m?parseInt(m,10):void 0;return[G,W,J,V]}const H=t?new Date(t):null,z=u?new Date(u):null,ce=m?parseInt(m,10):void 0;return[H,z,ce,V]}if(!c&&n&&h){const F=ke[D],A=Qe(n,F,new Date);if(Pe(A)){const G=m?parseInt(m,10):void 0;return[A,null,G,V]}const H=t?new Date(t):null,z=u?new Date(u):null,ce=m?parseInt(m,10):void 0;return[H,z,ce,V]}if(!h&&r&&c){const F=ke[D],A=Qe(r,F,new Date);if(Pe(A)){const G=m?parseInt(m,10):void 0;return[null,A,G,V]}const H=t?new Date(t):null,z=u?new Date(u):null,ce=m?parseInt(m,10):void 0;return[H,z,ce,V]}if(N.replace(/_/gi,"9")===Ju)return[null,null,void 0,void 0]}else{const n=N.match(/_/gi);if(!n&&N){let V;if(D===M.quarter){const[F,,A]=N.split(" ");V=new Date(+A,du[F])}else{const F={date:w?xu:pu,dateTime:w?wu:Su,dateTimeSeconds:w?Au:vu};let A=F.date;D===M.year?A=Qu:D===M.month?A=Pu:d&&(A=T?F.dateTimeSeconds:F.dateTime),V=Qe(N,A,new Date)}return Pe(V)?[V,null,void 0,void 0]:[i||null,null,void 0,void 0]}const r={year:Ou,month:Ku,quarter:Uu(oe[ee].quarterTranslation)},C=d?T?ju:Iu:yu,c=r[D]||C;if(Le(c,N))return[null,null,void 0,void 0];if(n)return[i??null,void 0,void 0,void 0]}}catch(n){console.error(n)}return[null,null,void 0,void 0]},[N,D,d,i,t,u,e,T,v]),xe=s.useCallback(()=>{const n=fe(),r=t?Ie(t,ke[D]):"",m=u?Ie(u,ke[D]):"";if(r||m){const C=" — ";let c="";v?c=`${r||n}/${r?L??"_":"_"}${C}${m||n}/${m?Y??"_":"_"}`:D===M.quarter?c=`${t?Ke(t):""}${C}${u?Ke(u):""}`:c=`${r||n}${C}${m||n}`,K(c),R.current=c}else K(""),R.current=""},[t,u,D,v,L,Y,fe]);s.useLayoutEffect(()=>{if(ae.current!==null){const n=be.current?.input||be.current;if(n){const r=ae.current;n.setSelectionRange(r,r),ae.current=null}}});const se=s.useCallback(n=>{if(!n)return!0;const r=n.replace(/[^0-9_]/g,"");return r===""||/^_+$/.test(r)},[]),we=s.useCallback(n=>n.some(r=>r?r.includes("_")&&!se(r):!1),[se]),We=s.useCallback(n=>{const r=n.target.value,m=R.current;if(e&&m&&r.length<m.length){let C=-1,c=-1;for(let h=0;h<m.length;h++)if(h>=r.length||r[h]!==m[h]){C=h;break}if(C>=0){let h=m.length-1,V=r.length-1;for(;h>C&&V>=C&&m[h]===r[V];)h--,V--;c=h+1;let F=m,A=!1;for(let H=C;H<c;H++)/[0-9]/.test(F[H])&&(F=F.substring(0,H)+"_"+F.substring(H+1),A=!0);if(A)ae.current=C;else{const H=n.target;setTimeout(()=>{H.setSelectionRange(C,C)},0)}K(F),R.current=F;return}}K(r),R.current=r},[e]),E=U&&(e?!!(t||u):!!i);return o.jsx(yn,{inputRef:be,value:N,onChange:We,onFocus:()=>{Fe()},onBlur:()=>{if(le.current){le.current=!1,ve();return}if(!ue)if(!e)i||K("");else{const r=N.split(" — ").map(V=>v?V.split("/")[0]||"":V),m=pe();if(Array.isArray(m)&&(m[0]===null&&r[0]&&!se(r[0])&&!r[0].includes("_")||m[1]===null&&r[1]&&!se(r[1])&&!r[1].includes("_"))){xe(),_&&_(t||null,u||null,L,Y),ve();return}const[c,h]=Array.isArray(m)?m:[null,null];!c&&!h&&K("")}if(_){const n=pe(),r=Me(...n);_(...r)}ve()},onKeyDown:n=>{if((n.key==="Backspace"||n.key==="Delete")&&e){const r=n.target,m=r.selectionStart||0,C=r.selectionEnd||0;if(m===0&&C===N.length){n.preventDefault();const c=qe();K(c),R.current=c,setTimeout(()=>{r.setSelectionRange(0,0)},0);return}if(m<C){n.preventDefault();const c=N.substring(m,C);if(/\d/.test(c)){let V=N;for(let F=m;F<C;F++)/\d/.test(V[F])&&(V=V.substring(0,F)+"_"+V.substring(F+1));K(V),R.current=V,ae.current=m}return}}if(/^[0-9]$/.test(n.key)&&e){n.preventDefault();const m=n.target.selectionStart||0,C=qe();let c=-1;if(m<C.length&&C[m]==="_")c=m;else{for(let h=m;h<C.length;h++)if(C[h]==="_"&&N[h]==="_"){c=h;break}if(c===-1){for(let h=0;h<m;h++)if(C[h]==="_"&&N[h]==="_"){c=h;break}}}if(c!==-1){let h=N;h.length<C.length&&(h=h+C.substring(h.length),K(h));const V=v?"/":" — ",F=h.indexOf(V);let A;c<F?A=c:A=c-F-V.length;const H=h.substring(0,c).split(".").length-1,z=A-H;if(z===0&&parseInt(n.key)>3){const W=c+1;if(h[W]==="_"){const J=h.substring(0,c)+"0"+n.key+h.substring(c+2);let ne=c+2;for(;ne<C.length&&C[ne]!=="_";)ne++;ae.current=ne,K(J),R.current=J;return}}if(z===1){const W=h[c-1];if(W==="3"&&parseInt(n.key)>1||W==="0"&&n.key==="0")return}if(z===2&&parseInt(n.key)>1){const W=c+1;if(h[W]==="_"){const J=h.substring(0,c)+"0"+n.key+h.substring(c+2);let ne=c+2;for(;ne<C.length&&C[ne]!=="_";)ne++;ae.current=ne,K(J),R.current=J;return}}if(z===3){const W=h[c-1];if(W==="1"&&parseInt(n.key)>2||W==="0"&&n.key==="0")return}const ce=h.substring(0,c)+n.key+h.substring(c+1);let G=c+1;for(;G<C.length&&C[G]!=="_";)G++;ae.current=G,K(ce),R.current=ce}return}if(e&&n.key.length===1&&!/[0-9]/.test(n.key)&&!n.ctrlKey&&!n.metaKey){n.preventDefault();return}if(n.key==="Tab"&&b){if(e){const m=N.split(" — ").map(V=>v?V.split("/")[0]||"":V),C=we(m),c=pe(),h=Array.isArray(c)&&(c[0]===null&&m[0]&&!se(m[0])&&!m[0].includes("_")||c[1]===null&&m[1]&&!se(m[1])&&!m[1].includes("_"));if(C||h){xe();return}}b(...Me(...pe()))}if(n.key==="Enter"&&q){if(e){const c=N.split(" — ").map(A=>v?A.split("/")[0]||"":A),h=we(c),V=pe(),F=Array.isArray(V)&&(V[0]===null&&c[0]&&!se(c[0])&&!c[0].includes("_")||V[1]===null&&c[1]&&!se(c[1])&&!c[1].includes("_"));if(h||F){xe();return}}le.current=!0;const r=pe(),m=Me(...r);q(...m)}},className:Se(a,mu.input),disabled:l,label:oe[ee].label[d?"showtime":"default"],icon:o.jsx("div",{className:mu.calendar,children:o.jsx(Du,{className:Se(ge.size===pn.xs&&mu["icon-xs"]),onClick:y})}),reset:E,onReset:Ve,helperText:re,color:j?Mu.error:Mu.default,...ge})});uu.displayName="DatePickerInput";try{uu.displayName="DatePickerInput",uu.__docgenInfo={description:"",displayName:"DatePickerInput",props:{label:{defaultValue:null,description:"Текст метки (label) инпута",name:"label",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер инпута",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"s"'},{value:'"m"'}]}},color:{defaultValue:null,description:"Цвет инпута",name:"color",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"success"'},{value:'"error"'},{value:'"warning"'}]}},disabled:{defaultValue:null,description:"Флаг отключения инпута",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя инпута",name:"name",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор инпута",name:"id",required:!1,type:{name:"string"}},onReset:{defaultValue:null,description:"Обработчик сброса значения",name:"onReset",required:!1,type:{name:"((() => void) & FormEventHandler<HTMLInputElement> & FormEventHandler<HTMLTextAreaElement>)"}},reset:{defaultValue:null,description:"Флаг наличия кнопки сброса",name:"reset",required:!1,type:{name:"boolean"}},multiline:{defaultValue:null,description:"Флаг многострочного режима",name:"multiline",required:!1,type:{name:"boolean"}},pseudo:{defaultValue:null,description:"Флаг псевдо-инпута",name:"pseudo",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"Иконка инпута",name:"icon",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"Вспомогательный текст",name:"helperText",required:!1,type:{name:"ReactNode"}},resize:{defaultValue:null,description:"Флаг возможности изменения размера (для textarea)",name:"resize",required:!1,type:{name:"boolean"}},colored:{defaultValue:null,description:"Флаг цветного фона",name:"colored",required:!1,type:{name:"boolean"}},pseudoInputStyle:{defaultValue:null,description:"Инлайн стили для PseudoInput режима",name:"pseudoInputStyle",required:!1,type:{name:"CSSProperties"}},inputRef:{defaultValue:null,description:"Реф для доступа к DOM-элементу инпута",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement | HTMLTextAreaElement>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((date: Date) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((date: Date | null, date2?: Date | null, shiftFrom?: number, shiftTo?: number | undefined) => void) | undefined"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},onEnterKeyDown:{defaultValue:null,description:"",name:"onEnterKeyDown",required:!1,type:{name:"((date: Date | null, date2?: Date | null, shiftFrom?: number, shiftTo?: number | undefined) => void) | undefined"}},onTabKeyDown:{defaultValue:null,description:"",name:"onTabKeyDown",required:!1,type:{name:"((date: Date | null, date2?: Date | null, shiftFrom?: number, shiftTo?: number | undefined) => void) | undefined"}},showTime:{defaultValue:null,description:"",name:"showTime",required:!1,type:{name:"boolean"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},enabledHourFrom:{defaultValue:null,description:"",name:"enabledHourFrom",required:!1,type:{name:"((date: Date) => 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledHourTo:{defaultValue:null,description:"",name:"enabledHourTo",required:!1,type:{name:"((date: Date) => 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledMinuteFrom:{defaultValue:null,description:"",name:"enabledMinuteFrom",required:!1,type:{name:"((date: Date) => number)"}},enabledMinuteTo:{defaultValue:null,description:"",name:"enabledMinuteTo",required:!1,type:{name:"((date: Date) => number)"}},shiftFrom:{defaultValue:null,description:"",name:"shiftFrom",required:!1,type:{name:"number"}},shiftTo:{defaultValue:null,description:"",name:"shiftTo",required:!1,type:{name:"number"}},shiftLength:{defaultValue:null,description:"",name:"shiftLength",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}},withShift:{defaultValue:null,description:"",name:"withShift",required:!1,type:{name:"boolean"}},withSeconds:{defaultValue:null,description:"",name:"withSeconds",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"",name:"level",required:!0,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},isOpenOnFocus:{defaultValue:null,description:"",name:"isOpenOnFocus",required:!1,type:{name:"boolean"}},isHideYear:{defaultValue:null,description:"",name:"isHideYear",required:!1,type:{name:"boolean"}},disableChangesOnBlur:{defaultValue:null,description:"",name:"disableChangesOnBlur",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean"}}}}}catch{}const at="Day-module__root___nlT6S",rt="Day-module__day___wtPLe",lt="Day-module__month___4Hyak",st="Day-module__quarter___ejZvA",ot="Day-module__year___K5P7-",it="Day-module__wrapper___xgRlF",ct="Day-module__selected___Mdd20",dt="Day-module__disableTimeChange___Jnlut",mt="Day-module__infiniteTimeScroll___fxOvc",ft="Day-module__today___-IXWq",pt="Day-module__disabled___VDz6X",yt="Day-module__start___FUi9N",Dt="Day-module__hoverState___-4Kk3",_t="Day-module__mid___9uW7G",ht="Day-module__end___piFDl",De={root:at,day:rt,month:lt,quarter:st,year:ot,wrapper:it,selected:ct,disableTimeChange:dt,infiniteTimeScroll:mt,today:ft,disabled:pt,start:yt,hoverState:Dt,mid:_t,end:ht},Ee=({id:e,isHoverState:t,onHover:u,onClick:a,type:l="day",selected:d,disabled:y,today:_,start:q,mid:b,end:i,children:f,disableTimeChange:p,date:g,infiniteTimeScroll:S})=>{const k=g?Ie(g,"dd-MM-yyyy"):void 0;return o.jsx("div",{id:`${k??""}${e??""}`,onClick:y?void 0:a,className:Se(De.root,{[De.selected]:d,[De.disabled]:y,[De.today]:_,[De.start]:q,[De.mid]:b,[De.end]:i,[De[l]]:l,[De.hoverState]:t,[De.disableTimeChange]:p,[De.infiniteTimeScroll]:S}),onMouseOver:y?void 0:u,"data-testid":d?"selected":void 0,children:o.jsx("div",{className:De.wrapper,children:o.jsx(Te,{variant:"Body1-Medium",children:f})})})};try{Ee.displayName="Day",Ee.__docgenInfo={description:"",displayName:"Day",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},today:{defaultValue:null,description:"",name:"today",required:!1,type:{name:"boolean"}},start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"boolean"}},mid:{defaultValue:null,description:"",name:"mid",required:!1,type:{name:"boolean"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"boolean"}},isHoverState:{defaultValue:null,description:"",name:"isHoverState",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"day"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent<Element, MouseEvent>>) => void)"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!1,type:{name:"(() => void)"}},disableTimeChange:{defaultValue:null,description:"",name:"disableTimeChange",required:!1,type:{name:"boolean"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Date"}},infiniteTimeScroll:{defaultValue:null,description:"",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}}}}}catch{}const gt="Footer-module__root___Hiwfp",Yu={root:gt,"btn-collection":"Footer-module__btn-collection___ubEEo"},_u=({className:e,onAccept:t,onDecline:u,disable:a})=>{const l=ze();return o.jsxs("div",{className:Se(Yu.root,e),children:[o.jsx(Wu,{}),o.jsxs("div",{className:Yu["btn-collection"],children:[o.jsx(Ue,{type:"button",onClick:t,disabled:a,children:oe[l].buttons.accept}),o.jsx(Ue,{type:"button",onClick:u,variant:"secondary",children:oe[l].buttons.decline})]})]})};try{_u.displayName="Footer",_u.__docgenInfo={description:"",displayName:"Footer",props:{onAccept:{defaultValue:null,description:"",name:"onAccept",required:!1,type:{name:"(() => void)"}},onDecline:{defaultValue:null,description:"",name:"onDecline",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disable:{defaultValue:null,description:"",name:"disable",required:!1,type:{name:"boolean"}}}}}catch{}const Ct="MonthsCalendar-module__root___cDmAi",qt={root:Ct},hu=({panelValue:e,disableChange:t,withPeriod:u,valueFrom:a,valueTo:l,enabledTo:d,enabledFrom:y,selectedDate:_,onSelect:q})=>{const b=ze(),i=Fu("month",e),f=s.useMemo(()=>a&&new Date(a.getFullYear(),a.getMonth()),[a]),p=s.useMemo(()=>l&&new Date(l.getFullYear(),l.getMonth()),[l]),[g,S]=s.useState(null),k=s.useMemo(()=>!a||!l?g:null,[g,a,l]),B=s.useMemo(()=>k&&new Date(k.getFullYear(),k.getMonth(),1,0,0,0,0),[k]),X=ou({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p,selectedDate:_,panelValue:e},"month"),v=ru({dateCurrentHover:B,withPeriod:u,dateFrom:f},"month"),T=lu({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p},"month"),Y=su({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p},"month"),L=au(y,d,"month");return o.jsx("div",{className:qt.root,children:oe[b].months.map((O,D)=>{const $=new Date((e||new Date).getFullYear(),D);return o.jsx(Ee,{onClick:()=>q&&q($),onHover:()=>u&&S($),isHoverState:!!B,selected:X($),disabled:t||L(e?.getFullYear(),D),today:i(D),start:v($),mid:T($),end:Y($),type:"month",children:O},O)})})};try{hu.displayName="MonthsCalendar",hu.__docgenInfo={description:"",displayName:"MonthsCalendar",props:{panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},currentDate:{defaultValue:null,description:"",name:"currentDate",required:!1,type:{name:"Date"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}}}}}catch{}const bt="PeriodPicker-module__root___aQe6z",Et="PeriodPicker-module__disableContent___9LWFp",Vt="PeriodPicker-module__content___higpw",Ft="PeriodPicker-module__contentText___3bJO1",Ye={root:bt,disableContent:Et,content:Vt,contentText:Ft,"btn-icon-arrow":"PeriodPicker-module__btn-icon-arrow___R06V5","btn-icon-middle":"PeriodPicker-module__btn-icon-middle___eRl0O"},gu=({disableContent:e,onContentClick:t,onLeftClick:u,onRightClick:a,children:l,isHideYear:d,selectedPanel:y})=>{const _=e||d&&y===M.month?void 0:t,[q,b]=s.useState(!e&&!(d&&y===M.month));return s.useEffect(()=>{b(!e&&!(d&&y===M.month))},[e,d,y]),o.jsxs("div",{className:Se(Ye.root,e&&Ye.disableContent),children:[o.jsx(Ue,{type:"button",className:Ye["btn-icon-arrow"],onClick:u,color:"ghost",variant:"secondary",iconButton:o.jsx(Dn,{"data-testid":"left-panel-icon"})}),o.jsxs("div",{"data-testid":"level-switcher",className:Ye.content,onClick:_,children:[o.jsx("div",{className:Ye.contentText,children:o.jsx(Te,{variant:"Body1-Medium",color:"var(--steel-90)",children:l})}),q&&o.jsx(Ue,{type:"button",className:Ye["btn-icon-middle"],onClick:u,color:"ghost",variant:"secondary",iconButton:o.jsx(_n,{"data-testid":"middle-panel-icon"})})]}),o.jsx(Ue,{type:"button",className:Ye["btn-icon-arrow"],onClick:a,color:"ghost",variant:"secondary",iconButton:o.jsx(hn,{"data-testid":"right-panel-icon"})})]})};try{gu.displayName="PeriodPicker",gu.__docgenInfo={description:"",displayName:"PeriodPicker",props:{onLeftClick:{defaultValue:null,description:"",name:"onLeftClick",required:!1,type:{name:"(() => void)"}},onRightClick:{defaultValue:null,description:"",name:"onRightClick",required:!1,type:{name:"(() => void)"}},onContentClick:{defaultValue:null,description:"",name:"onContentClick",required:!1,type:{name:"(() => void)"}},disableContent:{defaultValue:null,description:"",name:"disableContent",required:!1,type:{name:"boolean"}},isHideYear:{defaultValue:null,description:"",name:"isHideYear",required:!0,type:{name:"boolean"}},selectedPanel:{defaultValue:null,description:"",name:"selectedPanel",required:!0,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}}}}}catch{}const Mt="QuarterCalendar-module__root___0UZGD",Bt={root:Mt},Cu=({panelValue:e,disableChange:t,withPeriod:u,valueFrom:a,valueTo:l,enabledTo:d,enabledFrom:y,selectedDate:_,onSelect:q})=>{const b=ze(),i=Fu("quarter",e),f=s.useMemo(()=>a&&new Date(a.getFullYear(),a.getMonth()),[a]),p=s.useMemo(()=>l&&new Date(l.getFullYear(),l.getMonth()),[l]),[g,S]=s.useState(null),k=s.useMemo(()=>!a||!l?g:null,[g,a,l]),B=s.useMemo(()=>k&&new Date(k.getFullYear(),k.getMonth(),1,0,0,0,0),[k]),X=ou({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p,selectedDate:_,panelValue:e},"quarter"),v=ru({dateCurrentHover:B,withPeriod:u,dateFrom:f},"quarter"),T=lu({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p},"quarter"),Y=su({dateCurrentHover:B,withPeriod:u,dateTo:p,dateFrom:f},"quarter"),L=au(y,d,"quarter");return o.jsx("div",{className:Bt.root,children:oe[b].quarters.map((O,D)=>{const $=new Date((e||new Date).getFullYear(),O.month);return o.jsx(Ee,{onClick:()=>q&&q($),onHover:()=>u&&S($),isHoverState:!!B,selected:X($,O),disabled:t||L(e?.getFullYear(),O.month),today:i(D),start:v($),mid:T($),end:Y($),type:"quarter",children:O.name},O.month)})})};try{Cu.displayName="QuartersCalendar",Cu.__docgenInfo={description:"",displayName:"QuartersCalendar",props:{panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},currentDate:{defaultValue:null,description:"",name:"currentDate",required:!1,type:{name:"Date"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}}}}}catch{}const kt="ShiftSelector-module__root___2BEyH",St="ShiftSelector-module__shift___8szeR",vt="ShiftSelector-module__selected___9Ujcj",xt="ShiftSelector-module__disabled___xCdDV",wt="ShiftSelector-module__selectedDisabled___jzqOY",Oe={root:kt,shift:St,selected:vt,disabled:xt,selectedDisabled:wt},nu=({value:e,shiftLength:t=2,onChange:u,disabled:a=!1})=>{const l=d=>{a||u(d)};return o.jsx("div",{className:Oe.root,children:Lt[t].map(d=>o.jsx("div",{className:Se(Oe.shift,{[Oe.disabled]:a,[Oe.selected]:e===d&&!a,[Oe.selectedDisabled]:e===d&&a}),onClick:()=>l(d),children:o.jsx(Te,{variant:"Body1-Medium",children:d})},d))})};try{nu.displayName="ShiftSelector",nu.__docgenInfo={description:"",displayName:"ShiftSelector",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},shiftLength:{defaultValue:{value:"2"},description:"",name:"shiftLength",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}}}}}catch{}const At="TimeSelector-module__root___nHC2p",It="TimeSelector-module__column___vBNvG",jt="TimeSelector-module__columnTitle___qppDV",He={root:At,column:It,columnTitle:jt},tu=({withSeconds:e,enabledHourFrom:t,enabledHourTo:u,enabledMinuteFrom:a,enabledMinuteTo:l,disabled:d,selectedTime:y,value:_,onChange:q,innerValue:b,infiniteTimeScroll:i})=>{const f=t?t(b):0,p=u?u(b):23,g=a?a(b):0,S=l?l(b):59,k=s.useMemo(()=>f<=p?Nu.slice(f,p+1):Nu.filter(j=>j.value>=f||j.value<=p),[f,p]),B=s.useMemo(()=>g<=S?$u.slice(g,S+1):$u.filter(j=>j.value>=g||j.value<=S),[g,S]),X=s.useCallback(j=>re=>{y&&q&&q(_e(y,{[j]:re}))},[q,y]),v=()=>{const[j,re]=s.useState(null);return[j,re]},[T,Y]=v(),[L,O]=v(),[D,$]=v();s.useEffect(()=>{if(!_)return;[{ref:T,getValue:()=>_.getHours()},{ref:L,getValue:()=>_.getMinutes()},{ref:D,getValue:()=>_.getSeconds()}].forEach(({ref:re,getValue:ge})=>{re&&(re.scrollTop=ge()*40)})},[_,T,L,D]);const w=s.useCallback(j=>(re,ge)=>ge?.[`get${j}`]()===re,[]),ue=s.useMemo(()=>w("Hours"),[w]),U=s.useMemo(()=>w("Minutes"),[w]),Ve=s.useMemo(()=>w("Seconds"),[w]);return o.jsxs("div",{className:He.root,children:[o.jsxs("div",{className:He.column,ref:Y,children:[o.jsx("div",{className:He.columnTitle,children:o.jsx(Te,{variant:"Body1-Medium",children:"чч"})}),!i&&k.map(j=>o.jsx(Ee,{disabled:d,selected:ue(j.value,y),onClick:()=>X("hours")(j.value),children:j.label},j.value)),i&&o.jsx(Je,{values:k,disabled:d,selectedTime:y,handleTimeClick:X("hours"),container:T,getSelected:ue})]}),o.jsxs("div",{className:He.column,ref:O,children:[o.jsx("div",{className:He.columnTitle,children:o.jsx(Te,{variant:"Body1-Medium",children:"мм"})}),i&&o.jsx(Je,{values:B,disabled:d,selectedTime:y,handleTimeClick:X("minutes"),container:L,getSelected:U}),!i&&B.map(j=>o.jsx(Ee,{disabled:d,selected:U(j.value,y),onClick:()=>X("minutes")(j.value),children:j.label},j.value))]}),e&&o.jsxs("div",{className:He.column,ref:$,children:[o.jsx("div",{className:He.columnTitle,children:o.jsx(Te,{variant:"Body1-Medium",children:"сс"})}),!i&&Ru.map(j=>o.jsx(Ee,{disabled:d,selected:Ve(j.value,y),onClick:()=>X("seconds")(j.value),children:j.label},j.value)),i&&o.jsx(Je,{values:Ru,disabled:d,selectedTime:y,handleTimeClick:X("seconds"),container:D,getSelected:Ve})]})]})};tu.displayName="TimeSelector";try{tu.displayName="TimeSelector",tu.__docgenInfo={description:"",displayName:"TimeSelector",props:{selectedTime:{defaultValue:null,description:"",name:"selectedTime",required:!1,type:{name:"Date"}},withSeconds:{defaultValue:null,description:"",name:"withSeconds",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((date: Date) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},innerValue:{defaultValue:null,description:"",name:"innerValue",required:!1,type:{name:"Date"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},enabledHourFrom:{defaultValue:null,description:"",name:"enabledHourFrom",required:!1,type:{name:"((date: Date) => 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledHourTo:{defaultValue:null,description:"",name:"enabledHourTo",required:!1,type:{name:"((date: Date) => 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledMinuteFrom:{defaultValue:null,description:"",name:"enabledMinuteFrom",required:!1,type:{name:"((date: Date) => number)"}},enabledMinuteTo:{defaultValue:null,description:"",name:"enabledMinuteTo",required:!1,type:{name:"((date: Date) => number)"}},infiniteTimeScroll:{defaultValue:null,description:"",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}}}}}catch{}const Tt="Weekdays-module__root___Wzwpj",Nt="Weekdays-module__weekday___owdV8",Hu={root:Tt,weekday:Nt},qu=()=>{const e=ze();return o.jsx("div",{className:Hu.root,children:oe[e].weekdays.map(t=>o.jsx("div",{className:Hu.weekday,children:o.jsx(Te,{variant:"Body1-Medium",color:"var(--steel-70)",children:t})},t))})};try{qu.displayName="Weekdays",qu.__docgenInfo={description:"",displayName:"Weekdays",props:{}}}catch{}const $t="YearsCalendar-module__root___zBBxc",Rt={root:$t},bu=({panelValue:e,disableChange:t,withPeriod:u,valueFrom:a,valueTo:l,enabledFrom:d,enabledTo:y,selectedDate:_,onSelect:q})=>{const b=s.useMemo(()=>new Date,[]),i=s.useMemo(()=>(e??new Date).getFullYear()-6,[e]),f=s.useMemo(()=>a&&P(a,"year"),[a]),p=s.useMemo(()=>l&&P(l,"year"),[l]),[g,S]=s.useState(null),k=s.useMemo(()=>!a||!l?g:null,[g,a,l]),B=s.useMemo(()=>k&&new Date(k.getFullYear(),k.getMonth(),1,0,0,0,0),[k]),X=ou({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p,selectedDate:_},"year"),v=ru({dateCurrentHover:B,withPeriod:u,dateFrom:f},"year"),T=lu({dateCurrentHover:B,withPeriod:u,dateFrom:f,dateTo:p},"year"),Y=su({dateCurrentHover:B,withPeriod:u,dateTo:p,dateFrom:f},"year"),L=au(d,y,"year");return o.jsx("div",{className:Rt.root,children:new Array(12).fill(null).map((O,D)=>{const $=D+i,w=new Date($,0,1,0,0,0,0);return o.jsx(Ee,{onClick:()=>q&&q(w),onHover:()=>u&&S(w),isHoverState:!!B,selected:X(w),disabled:t||L($),today:b.getFullYear()===$,start:v(w),mid:T(w),end:Y(w),type:"year",children:$},$)})})};try{bu.displayName="YearsCalendar",bu.__docgenInfo={description:"",displayName:"YearsCalendar",props:{innerValue:{defaultValue:null,description:"",name:"innerValue",required:!1,type:{name:"Date"}},selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}},panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}}}}}catch{}const Je=({values:e,selectedTime:t,handleTimeClick:u,container:a,getSelected:l,...d})=>{const[y,_]=s.useState(0),[q,b]=s.useState([]);return s.useEffect(()=>{const i=f=>f&&_(f?.target?.scrollTop);return a?.addEventListener("scroll",i,!0),()=>{a?.removeEventListener("scroll",i,!0)}},[a]),s.useEffect(()=>{const i=()=>(e??[]).map(S=>({...S,id:gn()})),f=i(),p=i(),g=i();b([...f,...p,...g])},[e]),s.useEffect(()=>{const i=setTimeout(()=>{if(!a)return;const{scrollHeight:f=0,scrollTop:p=0}=a,g=f/3;if(p>2*g){a.scrollTo({top:p-g+20,behavior:"instant"});return}a.scrollTop<g&&a.scrollTo({top:p+g-20,behavior:"instant"})},100);return()=>{clearTimeout(i)}},[y,a]),o.jsx(o.Fragment,{children:q.map(i=>{const f=!!l?.(i.value,t);return s.createElement(Ee,{...d,id:i.id,key:i.value,selected:f,onClick:()=>u(i.value),infiniteTimeScroll:!0},i.label)})})};try{Je.displayName="InfiniteContainer",Je.__docgenInfo={description:"",displayName:"InfiniteContainer",props:{values:{defaultValue:null,description:"Массив значений для отображения в контейнере.",name:"values",required:!0,type:{name:"TValue[]"}},selectedTime:{defaultValue:null,description:"Выбранное время.",name:"selectedTime",required:!1,type:{name:"Date"}},handleTimeClick:{defaultValue:null,description:"Функция обработки клика по значению.",name:"handleTimeClick",required:!0,type:{name:"(value: number) => void"}},container:{defaultValue:null,description:"Ссылка на DOM-элемент контейнера.",name:"container",required:!1,type:{name:"HTMLDivElement | null"}},getSelected:{defaultValue:null,description:"Функция для определения, выбрано ли значение.",name:"getSelected",required:!1,type:{name:"((value: number, selectedTime?: Date) => boolean)"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},today:{defaultValue:null,description:"",name:"today",required:!1,type:{name:"boolean"}},start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"boolean"}},mid:{defaultValue:null,description:"",name:"mid",required:!1,type:{name:"boolean"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"boolean"}},isHoverState:{defaultValue:null,description:"",name:"isHoverState",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent<Element, MouseEvent>>) => void)"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!1,type:{name:"(() => void)"}},disableTimeChange:{defaultValue:null,description:"",name:"disableTimeChange",required:!1,type:{name:"boolean"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Date"}},infiniteTimeScroll:{defaultValue:null,description:"",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}}}}}catch{}const Yt="DaysCalendar-module__content___SNXa1",Ht={content:Yt},Eu=({withTime:e,disableChange:t,valueFrom:u,valueTo:a,withPeriod:l,enabledFrom:d,enabledTo:y,panelValue:_,selectedDate:q,withoutWeekdays:b,onSelect:i})=>{const f=Fu("day"),p=s.useMemo(()=>u&&new Date(u.getFullYear(),u.getMonth(),u.getDate()),[u]),g=s.useMemo(()=>a&&new Date(a.getFullYear(),a.getMonth(),a.getDate()),[a]),S=s.useMemo(()=>(_??new Date).getFullYear(),[_]),k=s.useMemo(()=>(_??new Date).getMonth(),[_]),[B,X]=s.useState(null),v=s.useMemo(()=>!u||!a?B:null,[B,u,a]),T=s.useMemo(()=>v&&new Date(v.getFullYear(),v.getMonth(),v.getDate()),[v]),Y=ou({dateCurrentHover:T,withPeriod:l,dateFrom:p,dateTo:g,withTime:e,selectedDate:q},"day"),L=ru({dateCurrentHover:T,withPeriod:l,dateFrom:p},"day"),O=lu({dateCurrentHover:T,withPeriod:l,dateFrom:p,dateTo:g},"day"),D=su({dateCurrentHover:T,withPeriod:l,dateFrom:p,dateTo:g},"day"),$=au(d,y,"day");return o.jsxs(o.Fragment,{children:[!b&&o.jsx(qu,{}),o.jsx("div",{className:Ht.content,children:$n(S)[S][k].map((w,ue)=>{const U=new Date(S,k,parseInt(w));return w?o.jsx(Ee,{date:U,onClick:()=>i&&i(U),onHover:()=>l&&X(U),isHoverState:!!T,selected:Y(U),disabled:t||$(U),today:f(U),start:L(U),mid:O(U),end:D(U),children:w},w):o.jsx("div",{},`empty-${ue}`)})})]})};try{Eu.displayName="DaysCalendar",Eu.__docgenInfo={description:"",displayName:"DaysCalendar",props:{selectedDate:{defaultValue:null,description:"",name:"selectedDate",required:!1,type:{name:"Date"}},panelValue:{defaultValue:null,description:"",name:"panelValue",required:!1,type:{name:"Date"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((date: Date) => void)"}},enabledFrom:{defaultValue:null,description:"",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:null,description:"",name:"enabledTo",required:!1,type:{name:"Date"}},disableChange:{defaultValue:null,description:"",name:"disableChange",required:!1,type:{name:"boolean"}},valueFrom:{defaultValue:null,description:"",name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:"",name:"valueTo",required:!1,type:{name:"Date"}},withPeriod:{defaultValue:null,description:"",name:"withPeriod",required:!1,type:{name:"boolean"}},withTime:{defaultValue:null,description:"",name:"withTime",required:!1,type:{name:"boolean"}},withoutWeekdays:{defaultValue:null,description:"",name:"withoutWeekdays",required:!0,type:{name:"boolean"}}}}}catch{}const zt={day:Eu,month:hu,quarter:Cu,year:bu},Ke=e=>`${Math.floor((e.getMonth()+3)/3)} квартал ${e.getFullYear()}`,Lt={2:[1,2],3:[1,2,3]},Xu=3,Wt=6,Qt=5;var M=(e=>(e.day="day",e.month="month",e.quarter="quarter",e.year="year",e))(M||{});const oe={ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],quarters:[{month:0,name:"1 квартал",values:[0,1,2]},{month:3,name:"2 квартал",values:[3,4,5]},{month:6,name:"3 квартал",values:[6,7,8]},{month:9,name:"4 квартал",values:[9,10,11]}],weekdays:["пн","вт","ср","чт","пт","сб","вс"],quarterTranslation:"квартал",label:{default:"Дата",showtime:"Дата и время"},shiftDescription:"Смены начала и конца периода",buttons:{accept:"Применить",decline:"Отменить"}},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],quarters:[{month:0,name:"1 quarter",values:[0,1,2]},{month:3,name:"2 quarter",values:[3,4,5]},{month:6,name:"3 quarter",values:[6,7,8]},{month:9,name:"4 quarter",values:[9,10,11]}],weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],quarterTranslation:"quarter",label:{default:"Date",showtime:"Date and time"},shiftDescription:"Changes of the beginning and end of the period",buttons:{accept:"Accept",decline:"Cancel"}}},P=(e,t)=>{switch(t){case"day":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"month":case"quarter":return new Date(e.getFullYear(),e.getMonth());case"year":return new Date(e.getFullYear(),0,1,0,0,0,0)}},au=(e,t,u="day")=>s.useCallback((a,l)=>{if(a===void 0)return!1;if(u==="year"&&typeof a=="number")return e&&e.getFullYear()>a?!0:!!(t&&t.getFullYear()<a);if((u==="month"||u==="quarter")&&typeof a=="number"&&typeof l=="number")return!!(e&&a<e.getFullYear()||t&&a>t.getFullYear()||e&&e.getFullYear()===a&&e.getMonth()>l||t&&t.getFullYear()===a&&t.getMonth()<l);if(a instanceof Date){const d=a;if(u==="quarter"){const b=I(d,"quarter"),i=e&&I(e,"quarter"),f=t&&I(t,"quarter");return!!(i&&b<i||f&&b>f)}const y=P(d,u),_=e&&P(e,u),q=t&&P(t,u);return!!(_&&y<_||q&&y>q)}return!1},[e,t,u]),Fu=(e,t)=>s.useCallback(u=>{const a=new Date;if(e==="day"&&u instanceof Date){const l=P(a,"day"),d=P(u,"day");return l.getTime()===d.getTime()}if(e==="month"&&typeof u=="number")return a.getFullYear()===(t||a).getFullYear()&&a.getMonth()===u;if(e==="quarter"&&typeof u=="number"){const l=Math.floor(a.getMonth()/3);return a.getFullYear()===(t||a).getFullYear()&&l===u}return e==="year"&&typeof u=="number"?a.getFullYear()===u:!1},[e,t]),ru=({withPeriod:e,dateFrom:t,dateCurrentHover:u},a)=>s.useCallback((l,d)=>{if(!e)return!1;if(a==="quarter"&&d){const p=t&&I(t,"quarter"),g=I(l,"quarter"),S=u&&I(u,"quarter");return S?!!(p&&p<S&&p===g||(!p||S<p)&&S===g):!!(p&&p===g)}if(a==="day")return u?!!(e&&t&&he(t,u)&&te(t,l)||(!t||he(u,t))&&te(u,l)):!!(e&&t&&te(t,l));const y=t&&P(t,a),_=P(l,a),q=u&&P(u,a),b=y&&I(y,a),i=I(_,a),f=q&&I(q,a);return f?!!(b&&b<f&&b===i||(!b||f<b)&&f===i):!!(b&&b===i)},[u,t,e,a]),lu=({dateCurrentHover:e,withPeriod:t,dateFrom:u,dateTo:a},l)=>s.useCallback(d=>{if(!t||!u)return!1;if(l==="day")return e?!!(je(d,u)&&he(d,e)||he(d,u)&&je(d,e)):!!(a&&he(d,a)&&je(d,u));if(l==="quarter"){const i=I(u,"quarter"),f=a&&I(a,"quarter"),p=I(d,"quarter"),g=e&&I(e,"quarter");return g?p>i&&p<g||p<i&&p>g:!!(f&&p<f&&p>i)}const y=P(u,l),_=a&&P(a,l),q=P(d,l),b=e&&P(e,l);return b?!!(je(q,y)&&he(q,b)||he(q,y)&&je(q,b)):!!(_&&he(q,_)&&je(q,y))},[e,t,u,a,l]),su=({dateCurrentHover:e,withPeriod:t,dateFrom:u,dateTo:a},l)=>s.useCallback(d=>{if(!t)return!1;if(l==="day")return e?!!((!u||he(u,e))&&te(e,d)||u&&he(e,u)&&te(u,d)):!!(a&&te(a,d));const y=u&&P(u,l),_=a&&P(a,l),q=P(d,l),b=e&&P(e,l),i=y&&I(y,l),f=_&&I(_,l),p=I(q,l),g=b&&I(b,l);return g?!!((!i||i<g)&&g===p||i&&g<i&&i===p):!!(f&&f===p)},[e,t,a,u,l]),ou=({withPeriod:e,dateFrom:t,dateTo:u,withTime:a,selectedDate:l,dateCurrentHover:d,panelValue:y},_)=>s.useCallback((q,b)=>{if(e){if(_==="day"){const g=P(q,"day");return t&&u?!!(he(g,u)&&je(g,t)||te(u,g)||te(t,g)):t&&!u&&d?te(q,t):!1}if(_==="quarter"&&b){const g=I(q,"quarter"),S=t&&I(t,"quarter"),k=u&&I(u,"quarter");return!!(S&&k&&g>S&&g<k||k&&g===k||S&&g===S)}const i=t&&P(t,_),f=u&&P(u,_),p=P(q,_);return!!(i&&f&&he(p,f)&&je(p,i)||f&&te(f,p)||i&&te(i,p))}if(_==="day"){const i=P(q,"day"),f=l&&P(l,"day");return a?!!(f&&te(f,i)):!!(f&&te(new Date(f.getFullYear(),f.getMonth(),f.getDate()),i))}if(_==="month")return l?.getFullYear()===y?.getFullYear()&&l?.getMonth()===q.getMonth();if(_==="quarter"&&b){const i=l&&Math.floor(l.getMonth()/3),f=Math.floor(b.month/3);return l?.getFullYear()===y?.getFullYear()&&i===f}return _==="year"?l?.getFullYear()===q.getFullYear():!1},[d,t,u,l,e,a,y,_]),zu=({id:e,locale:t="ru",level:u="day",type:a="date",name:l,portalContainerId:d="root",valueFrom:y,valueTo:_,enabledFrom:q=new Date(1900,0,1),enabledTo:b=new Date(2100,11,31),enabledHourFrom:i,enabledHourTo:f,enabledMinuteFrom:p,enabledMinuteTo:g,value:S,onPeriodChange:k,onChange:B,className:X,shiftFrom:v,shiftTo:T,shiftLength:Y=Xu,disableChange:L,withPortal:O,colored:D,pseudo:$,pseudoChildren:w,disableChangesOnBlur:ue=!1,isOpenOnFocus:U=!1,isHideYear:Ve=!1,withoutWeekdays:j=!1,onPanelChange:re,onSelect:ge,infiniteTimeScroll:x,reset:ee,onReset:N,error:K,helperText:de,...me})=>{const R=s.useMemo(()=>["period","shift"].includes(a),[a]),ae=s.useMemo(()=>["time","seconds"].includes(a),[a]),le=s.useMemo(()=>a==="seconds",[a]),Ce=s.useMemo(()=>a==="shift",[a]),[fe,qe]=s.useState(!1),[Fe,ve]=s.useState(null),[ie,be]=s.useState(null),Ne=s.useRef(null),[$e,Le]=s.useState(!1);e=s.useMemo(()=>`DatePicker-${e?.toString()??performance.now().toString().split(".").join("")}`,[e]);const{value:{valueFrom:Me,valueTo:pe},onChange:xe}=iu(s.useMemo(()=>({valueFrom:y,valueTo:_}),[y,_]),s.useCallback((Q,Z)=>Q.valueFrom===void 0||Z.valueFrom===void 0?Q.valueFrom===Z.valueFrom:Q.valueTo===void 0||Z.valueTo===void 0?Q.valueTo===Z.valueTo:te(Q.valueFrom,Z.valueFrom)&&te(Q.valueTo,Z.valueTo),[])),{value:{shiftFrom:se,shiftTo:we},onChange:We}=iu(s.useMemo(()=>({shiftFrom:v,shiftTo:T}),[v,T])),{value:Be,onChange:E}=iu(S),n=s.useCallback(Q=>{E(Q),B&&B(Q)},[E,B]),r=s.useCallback((Q,Z,Ae,Re)=>{k&&k(Q,Z,Ae,Re),(Q||Z)&&xe({valueFrom:Q,valueTo:Z}),(Ae||Re)&&We({shiftFrom:Ae,shiftTo:Re})},[xe,We,k]),m=s.useMemo(()=>Be&&new Date(Be),[Be,$e]),C=s.useCallback(()=>{qe(!1)},[]),c=s.useCallback(()=>{Le(Q=>!Q),qe(!1)},[]);s.useEffect(()=>{$&&C()},[C,$]);const[h,V]=s.useState(!1),{refs:F,floatingStyles:A,placement:H}=on({placement:"bottom-start",middleware:[dn(4),mn(),fn()],whileElementsMounted:cn});ln(Fe,ie,F,Q=>{ie&&Q&&(Ne.current=ie),V(Q)});const z=s.useCallback(Q=>(Z,Ae,Re,Gu)=>{Q&&ue||(Fe?.blur(),R&&r?(Ce?r(Z||void 0,Ae||void 0,Re||void 0,Gu||void 0):r(Z||void 0,Ae||void 0),Le(en=>!en)):B&&(Z&&Z instanceof Date&&!isNaN(Z.getTime())?(E(Z),B(Z)):Z==null&&(E(void 0),B(void 0))),qe(!1))},[Fe,r,R,Ce,ue,E,B]),ce=s.useCallback(()=>{me.onFocus?.(),qe(!0)},[me.onFocus]),G=s.useCallback((Q,Z,Ae,Re)=>{me.onBlur?.(),z(!0)(Q,Z,Ae,Re)},[me.onBlur,z]),W=()=>o.jsx(Ge,{type:a,level:u,ref:be,withPeriod:R,valueFrom:Me,valueTo:pe,enabledHourFrom:i,enabledHourTo:f,enabledMinuteFrom:p,enabledMinuteTo:g,shiftFrom:se,shiftTo:we,shiftLength:Y,value:Be,onClose:C,onReset:c,disableChange:L,disableChangesOnBlur:ue,onChange:n,onPeriodChange:r,withTime:ae,enabledTo:b,enabledFrom:q,style:{...A,visibility:h?"visible":"hidden"},withShift:Ce,withSeconds:le,isOpenOnFocus:U,isHideYear:Ve,withoutWeekdays:j,onPanelChange:re,onSelect:ge,infiniteTimeScroll:x,"data-popper-placement":H,"data-ui-datepicker-calendar-panel":!0}),J=document.getElementById(d),ne=()=>o.jsxs("div",{className:Se(cu.root,X,me.disabled&&cu.disabled,fe&&cu.isOpen),id:e,children:[l&&["date","time","seconds"].includes(a)&&o.jsx("input",{type:"hidden",name:l,value:Be?.toISOString()}),l&&["period","shift"].includes(a)&&o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"hidden",name:`${l}-from`,value:Me?.toISOString()}),o.jsx("input",{type:"hidden",name:`${l}-to`,value:pe?.toISOString()})]}),l&&a==="shift"&&o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"hidden",name:`${l}-shift-from`,value:se}),o.jsx("input",{type:"hidden",name:`${l}-shift-to`,value:we})]}),o.jsx(uu,{level:u,ref:ve,showTime:ae,value:m,onChange:n,enabledFrom:q,enabledTo:b,enabledHourFrom:i,enabledHourTo:f,enabledMinuteFrom:p,enabledMinuteTo:g,withPeriod:R,valueFrom:Me,valueTo:pe,shiftFrom:se,shiftTo:we,shiftLength:Y,withShift:Ce,withSeconds:le,isOpenOnFocus:U,onEnterKeyDown:z(!1),onTabKeyDown:z(!1),colored:D,reset:ee,onReset:N,isHideYear:Ve,disableChangesOnBlur:ue,error:K,helperText:de,...me,onFocus:ce,onBlur:G,"data-ui-datepicker-input":!0}),fe&&(O?nn.createPortal(o.jsx(o.Fragment,{children:W()}),J):o.jsx(o.Fragment,{children:W()}))]});return o.jsx(Wn,{value:t,children:$?o.jsx(sn,{label:ae?"Дата и время":"Дата",children:w}):U&&o.jsx(Lu,{excludeRef:Ne,onClickAway:C,children:ne()})||o.jsx(o.Fragment,{children:ne()})})};try{zu.displayName="DatePicker",zu.__docgenInfo={description:"Компонент DatePicker для выбора даты и времени в различных форматах.",displayName:"DatePicker",props:{type:{defaultValue:{value:"date"},description:`Тип пикера (обычный выбор даты)
Тип пикера (с выбором времени)
Тип пикера (с выбором времени с секундами)
Тип пикера (с выбором периода)
Тип пикера (с выбором периода и смен)`,name:"type",required:!1,type:{name:"enum",value:[{value:'"time"'},{value:'"date"'},{value:'"seconds"'},{value:'"period"'},{value:'"shift"'}]}},value:{defaultValue:null,description:`Выбранное значение даты
Выбранное значение даты (не используется)`,name:"value",required:!1,type:{name:"Date"}},shiftFrom:{defaultValue:null,description:`Значение начальной смены (не используется)
Значение начальной смены`,name:"shiftFrom",required:!1,type:{name:"number"}},shiftTo:{defaultValue:null,description:`Значение конечной смены (не используется)
Значение конечной смены`,name:"shiftTo",required:!1,type:{name:"number"}},shiftLength:{defaultValue:{value:"3"},description:"Длина смены (количество смен в сутки)",name:"shiftLength",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}},onChange:{defaultValue:null,description:`Обработчик изменения даты
Обработчик изменения даты (не используется)`,name:"onChange",required:!1,type:{name:"((date: Date) => void)"}},valueFrom:{defaultValue:null,description:`Значение начала периода (не используется)
Значение начала выбранного периода`,name:"valueFrom",required:!1,type:{name:"Date"}},valueTo:{defaultValue:null,description:`Значение конца периода (не используется)
Значение конца выбранного периода`,name:"valueTo",required:!1,type:{name:"Date"}},onPeriodChange:{defaultValue:null,description:`Обработчик изменения периода (не используется)
Обработчик изменения периода
Обработчик изменения периода и смен`,name:"onPeriodChange",required:!1,type:{name:"((valueFrom?: Date, valueTo?: Date) => void) | ((valueFrom?: Date | undefined, valueTo?: Date | undefined) => void) | ((valueFrom?: Date | undefined, valueTo?: Date | undefined, shiftFrom?: number | undefined, shiftTo?: number | undefined) => void) | undefined"}},level:{defaultValue:{value:"day"},description:`Уровень детализации выбора даты
Уровень детализации (не используется)`,name:"level",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},label:{defaultValue:null,description:"Текст метки (label) инпута",name:"label",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер инпута",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"s"'},{value:'"m"'}]}},color:{defaultValue:null,description:"Цвет инпута",name:"color",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"success"'},{value:'"error"'},{value:'"warning"'}]}},disabled:{defaultValue:null,description:"Флаг отключения инпута",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя инпута",name:"name",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор инпута",name:"id",required:!1,type:{name:"string"}},onReset:{defaultValue:null,description:"Обработчик сброса значения",name:"onReset",required:!1,type:{name:"((() => void) & FormEventHandler<HTMLInputElement> & FormEventHandler<HTMLTextAreaElement>)"}},reset:{defaultValue:null,description:"Флаг наличия кнопки сброса",name:"reset",required:!1,type:{name:"boolean"}},multiline:{defaultValue:null,description:"Флаг многострочного режима",name:"multiline",required:!1,type:{name:"boolean"}},pseudo:{defaultValue:null,description:`Флаг псевдо-инпута
Флаг для отображения псевдо-инпута`,name:"pseudo",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"Иконка инпута",name:"icon",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"Вспомогательный текст",name:"helperText",required:!1,type:{name:"ReactNode"}},resize:{defaultValue:null,description:"Флаг возможности изменения размера (для textarea)",name:"resize",required:!1,type:{name:"boolean"}},colored:{defaultValue:null,description:"Флаг цветного фона",name:"colored",required:!1,type:{name:"boolean"}},pseudoInputStyle:{defaultValue:null,description:"Инлайн стили для PseudoInput режима",name:"pseudoInputStyle",required:!1,type:{name:"CSSProperties"}},inputRef:{defaultValue:null,description:"Реф для доступа к DOM-элементу инпута",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement | HTMLTextAreaElement>"}},onBlur:{defaultValue:null,description:"Обработчик потери фокуса инпутом",name:"onBlur",required:!1,type:{name:"(() => void)"}},onFocus:{defaultValue:null,description:"Обработчик получения фокуса инпутом или клика по иконке календаря",name:"onFocus",required:!1,type:{name:"(() => void)"}},portalContainerId:{defaultValue:{value:"root"},description:"ID контейнера для портала",name:"portalContainerId",required:!1,type:{name:"string"}},locale:{defaultValue:{value:"ru"},description:"Локаль для форматирования дат",name:"locale",required:!1,type:{name:"string"}},enabledFrom:{defaultValue:{value:"new Date(1900, 0, 1)"},description:"Минимальная доступная дата",name:"enabledFrom",required:!1,type:{name:"Date"}},enabledTo:{defaultValue:{value:"new Date(2100, 11, 31)"},description:"Максимальная доступная дата",name:"enabledTo",required:!1,type:{name:"Date"}},enabledHourFrom:{defaultValue:null,description:"Функция для определения минимального доступного часа",name:"enabledHourFrom",required:!1,type:{name:"((date: Date) => 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledHourTo:{defaultValue:null,description:"Функция для определения максимального доступного часа",name:"enabledHourTo",required:!1,type:{name:"((date: Date) => 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23)"}},enabledMinuteFrom:{defaultValue:null,description:"Функция для определения минимальной доступной минуты",name:"enabledMinuteFrom",required:!1,type:{name:"((date: Date) => number)"}},enabledMinuteTo:{defaultValue:null,description:"Функция для определения максимальной доступной минуты",name:"enabledMinuteTo",required:!1,type:{name:"((date: Date) => number)"}},disableChange:{defaultValue:null,description:"Флаг для отключения возможности изменения",name:"disableChange",required:!1,type:{name:"boolean"}},withPortal:{defaultValue:null,description:"Флаг для рендеринга в портале",name:"withPortal",required:!1,type:{name:"boolean"}},disableChangesOnBlur:{defaultValue:{value:"false"},description:"Флаг для отключения изменений при потере фокуса",name:"disableChangesOnBlur",required:!1,type:{name:"boolean"}},isOpenOnFocus:{defaultValue:{value:"false"},description:"Флаг для открытия пикера при фокусе",name:"isOpenOnFocus",required:!1,type:{name:"boolean"}},pseudoChildren:{defaultValue:null,description:"Содержимое для псевдо-инпута",name:"pseudoChildren",required:!1,type:{name:"ReactNode"}},isHideYear:{defaultValue:{value:"false"},description:"Флаг для скрытия года",name:"isHideYear",required:!1,type:{name:"boolean"}},withoutWeekdays:{defaultValue:{value:"false"},description:"Флаг для отображения без дней недели",name:"withoutWeekdays",required:!1,type:{name:"boolean"}},onPanelChange:{defaultValue:null,description:"Обработчик изменения панели",name:"onPanelChange",required:!1,type:{name:"((date: Date) => void)"}},infiniteTimeScroll:{defaultValue:null,description:"Флаг для бесконечной прокрутки времени",name:"infiniteTimeScroll",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Флаг ошибки, влияет на стиль компонента",name:"error",required:!1,type:{name:"boolean"}}}}}catch{}export{zu as D};
