import{r as a,j as u,R as z}from"./iframe-BPtLBEuk.js";import{B as w}from"./index-C5OaxW6Y.js";import{T as A}from"./index-C9_7xPUt.js";import{c as f}from"./clsx-B-dksMZM.js";import{I as B,a as b,b as S}from"./24-CrLAaNeG.js";import{I as j}from"./24-BA0GVvoT.js";const W="VideoWindow-module__active___oYtLJ",I="VideoWindow-module__resizable___3-JzU",M="VideoWindow-module__fullscreen___-s0fd",q="VideoWindow-module__minimized___WC-iv",N="VideoWindow-module__draggable___HwnnF",P="VideoWindow-module__resizer___QJOzX",o={"video-window":"VideoWindow-module__video-window___gtxZh","video-window-header":"VideoWindow-module__video-window-header___k3oZR","video-controls":"VideoWindow-module__video-controls___4u8Dv","video-content":"VideoWindow-module__video-content___4MHHE","video-without-title":"VideoWindow-module__video-without-title___le-px",active:W,resizable:I,fullscreen:M,minimized:q,draggable:N,resizer:P,"header-without-title":"VideoWindow-module__header-without-title___efIR4"},L=(n,m)=>{const[i,_]=a.useState({x:100,y:100}),[d,s]=a.useState(!1),[l,E]=a.useState(m||{x:0,y:0}),p=e=>{s(!0),E({x:e.clientX-i.x,y:e.clientY-i.y})},r=e=>{!d||n||_({x:e.clientX-l.x,y:e.clientY-l.y})},t=()=>{s(!1)};a.useEffect(()=>(document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t)}),[d]);const c={top:n?"0":`${i.y}px`,left:n?"0":`${i.x}px`,position:n?"fixed":"absolute"};return{handleMouseDown:p,draggableStyle:c}},C=({videoUrl:n,id:m,title:i,autoPlay:_,resizable:d,draggable:s,draggableStartPosition:l,onClose:E,style:p,className:r})=>{const[t,c]=a.useState(!1),[e,D]=a.useState(!1),[V,g]=a.useState(!1),y=!i,h=()=>{c(v=>!v),D(!1)},F=()=>{D(v=>!v),c(!1)},x=s?L(e,l):null;return u.jsxs("div",{className:f(o["video-window"],r,{[o.fullscreen]:e&&!t,[o.minimized]:t,[o.resizable]:!e&&d,[o.active]:!e&&V}),style:{...s?x?.draggableStyle:{},...p},tabIndex:0,onClick:()=>g(!0),onBlur:()=>g(!1),"data-ui-video-window-root":!0,children:[u.jsxs("div",{className:f(o["video-window-header"],{[o.draggable]:s&&!e,[o["header-without-title"]]:y&&!t}),"data-ui-video-window-header":!0,onMouseDown:s?x?.handleMouseDown:void 0,children:[i&&u.jsx(u.Fragment,{children:z.isValidElement(i)?i:u.jsx(A,{color:"var(--unique-white)",variant:"Body1-Medium",children:i})}),u.jsxs("div",{className:o["video-controls"],children:[u.jsx(w,{onClick:F,iconButton:e?u.jsx(B,{}):u.jsx(b,{}),color:"grey",variant:"secondary",size:"s",title:e?"Выйти из полноэкранного режима":"Перейти в полноэкранный режим"}),u.jsx(w,{onClick:h,iconButton:t?u.jsx(B,{}):u.jsx(S,{}),color:"grey",variant:"secondary",size:"s",title:t?"Развернуть":"Свернуть"}),u.jsx(w,{onClick:E,iconButton:u.jsx(j,{}),color:"grey",variant:"secondary",size:"s",title:"Закрыть"})]})]}),!t&&u.jsx("div",{className:f(o["video-content"],{[o["video-without-title"]]:y}),children:u.jsx("video",{id:m,controls:!0,src:n,controlsList:"nodownload",autoPlay:_})}),!t&&u.jsx("div",{"data-ui-video-window-resizer":!0,className:o.resizer})]})};try{C.displayName="VideoWindow",C.__docgenInfo={description:"Компонент VideoWindow для отображения видео в отдельном окне с возможностью управления.",displayName:"VideoWindow",props:{videoUrl:{defaultValue:null,description:"URL видео для воспроизведения",name:"videoUrl",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"Уникальный идентификатор видео элемента",name:"id",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"Заголовок окна или кастомный компонент заголовка",name:"title",required:!1,type:{name:"ReactNode"}},autoPlay:{defaultValue:null,description:"Флаг автоматического воспроизведения видео",name:"autoPlay",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Функция обработки закрытия окна",name:"onClose",required:!0,type:{name:"() => void"}},style:{defaultValue:null,description:"Дополнительные CSS стили",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"Дополнительный CSS класс",name:"className",required:!1,type:{name:"string"}},resizable:{defaultValue:null,description:"Флаг возможности изменения размера окна",name:"resizable",required:!1,type:{name:"boolean"}},draggable:{defaultValue:null,description:"Флаг возможности перетаскивания окна",name:"draggable",required:!1,type:{name:"boolean"}},draggableStartPosition:{defaultValue:null,description:"Начальная позиция окна при перетаскивании",name:"draggableStartPosition",required:!1,type:{name:"TDraggableStartPosition"}}}}}catch{}export{C as V};
