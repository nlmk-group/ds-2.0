# VideoWindow Component

## Версия компонента v3.0

Компонент VideoWindow предназначен для отображения видеоплеера с возможностью изменения размера окна, переключения в полноэкранный режим, минимизации и закрытия.

## Использование

```jsx
import { VideoWindow } from '@nlmk/ds-2.0';

/ Базовое использование
const [isVideoOpen, setIsVideoOpen] = useState(false);
<VideoWindow videoUrl="https://example.com/video.mp4" title="Демо-видео" onClose={() => setIsVideoOpen(false)} />;
/ С возможностью перетаскивания и изменения размера
<VideoWindow
  videoUrl="https://example.com/video.mp4"
  title="Перетаскиваемое видео"
  draggable
  resizable
  draggableStartPosition={{ x: 100, y: 100 }}
  onClose={() => setIsVideoOpen(false)}
/>;
/ С автовоспроизведением
<VideoWindow
  videoUrl="https://example.com/video.mp4"
  title="Видео с автозапуском"
  autoPlay
  onClose={() => setIsVideoOpen(false)}
/>;
```

## Props

| Prop                   | Type                     | Default | Description                                      |
| ---------------------- | ------------------------ | ------- | ------------------------------------------------ |
| videoUrl               | string                   | -       | URL видео для воспроизведения (обязательный)     |
| id                     | string                   | -       | Уникальный идентификатор видео элемента          |
| title                  | string \| ReactNode      | -       | Заголовок окна или кастомный компонент заголовка |
| autoPlay               | boolean                  | false   | Автоматическое воспроизведение видео             |
| resizable              | boolean                  | false   | Возможность изменения размера окна               |
| draggable              | boolean                  | false   | Возможность перетаскивания окна                  |
| draggableStartPosition | { x: number; y: number } | -       | Начальная позиция окна при перетаскивании        |
| onClose                | () => void               | -       | Функция обработки закрытия окна (обязательный)   |
| style                  | CSSProperties            | -       | Дополнительные CSS стили                         |
| className              | string                   | -       | Дополнительный CSS класс                         |

## Стилизация

### 1. CSS классы

Компонент использует CSS модули для стилизации. Основные классы:

```scss
.videoWindow {
  // Основной контейнер
}

.videoWindowHeader {
  // Шапка окна
}

.videoContent {
  // Контейнер с видео
}

.fullscreen {
  // Полноэкранный режим
}

.minimized {
  // Свернутое состояние
}

.resizable {
  // Режим изменения размера
}

.draggable {
  // Режим перетаскивания
}
```

### 2. Data-атрибуты

Для удобной кастомизации компонент предоставляет следующие data-атрибуты:

```css
/* Основной контейнер */
[data-ui-video-window-root] {
  /* стили */
}

/* Шапка окна */
[data-ui-video-window-header] {
  /* стили */
}

/* Заголовок в Typography */
[data-ui-video-window-typography-title] {
  /* стили */
}

/* Блок с элементами управления */
[data-ui-video-window-controls] {
  /* стили */
}

/* Контейнер с видео */
[data-ui-video-window-video-content] {
  /* стили */
}

/* Элемент изменения размера */
[data-ui-video-window-resizer] {
  /* стили */
}
```

### 3. Inline стили

Можно передать объект стилей через проп `style`:

```jsx
<VideoWindow
  style={{ marginBottom: '16px' }}
  videoUrl="https://example.com/video.mp4"
  title="Демо-видео"
  onClose={() => setIsVideoOpen(false)}
/>
```

## Состояния

- **Обычное**: Окно с видео стандартного размера
- **Полноэкранное**: Окно развернуто на весь экран
- **Свернутое**: Отображается только заголовок
- **Активное**: При фокусе или взаимодействии
- **Перетаскивание**: При включенном draggable
- **Изменение размера**: При включенном resizable

## Особенности реализации

### Режимы отображения

1. **Стандартный режим**:

   - Окно фиксированного размера
   - Видео с элементами управления
   - Кнопки управления в шапке

2. **Полноэкранный режим**:

   - Окно занимает весь экран
   - Отключается возможность перетаскивания
   - Сохраняются все элементы управления

3. **Свернутый режим**:
   - Отображается только шапка с заголовком
   - Видео скрыто
   - Возможность быстрого восстановления

### Управление окном

1. **Перетаскивание**:

   - Реализовано через хук useDraggable
   - Работает только в стандартном режиме
   - Учитывает границы экрана

2. **Изменение размера**:
   - Минимальные размеры: 300x230px
   - Работает только в стандартном режиме
   - Сохраняет пропорции видео
